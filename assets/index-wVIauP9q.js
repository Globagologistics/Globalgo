import{r as Tu,a as Jf,g as Yf}from"./vendor-CRB3T2We.js";function Xf(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var Si={exports:{}},pn={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yo;function Zf(){if(Yo)return pn;Yo=1;var t=Tu(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,s=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function a(o,c,u){var d,h={},f=null,m=null;u!==void 0&&(f=""+u),c.key!==void 0&&(f=""+c.key),c.ref!==void 0&&(m=c.ref);for(d in c)n.call(c,d)&&!i.hasOwnProperty(d)&&(h[d]=c[d]);if(o&&o.defaultProps)for(d in c=o.defaultProps,c)h[d]===void 0&&(h[d]=c[d]);return{$$typeof:e,type:o,key:f,ref:m,props:h,_owner:s.current}}return pn.Fragment=r,pn.jsx=a,pn.jsxs=a,pn}var Xo;function Qf(){return Xo||(Xo=1,Si.exports=Zf()),Si.exports}var l=Qf(),js={},Zo;function em(){if(Zo)return js;Zo=1;var t=Jf();return js.createRoot=t.createRoot,js.hydrateRoot=t.hydrateRoot,js}var tm=em(),w=Tu();const rm=Yf(w),nm=Xf({__proto__:null,default:rm},[w]);/**
 * react-router v7.13.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Cu=t=>{throw TypeError(t)},sm=(t,e,r)=>e.has(t)||Cu("Cannot "+r),ji=(t,e,r)=>(sm(t,e,"read from private field"),r?r.call(t):e.get(t)),im=(t,e,r)=>e.has(t)?Cu("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),Qo="popstate";function am(t={}){function e(n,s){let{pathname:i,search:a,hash:o}=n.location;return Mn("",{pathname:i,search:a,hash:o},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:Nt(s)}return lm(e,r,null,t)}function me(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Ae(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function om(){return Math.random().toString(36).substring(2,10)}function el(t,e){return{usr:t.state,key:t.key,idx:e}}function Mn(t,e,r=null,n){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Qt(e):e,state:r,key:e&&e.key||n||om()}}function Nt({pathname:t="/",search:e="",hash:r=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Qt(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substring(r),t=t.substring(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substring(n),t=t.substring(0,n)),t&&(e.pathname=t)}return e}function lm(t,e,r,n={}){let{window:s=document.defaultView,v5Compat:i=!1}=n,a=s.history,o="POP",c=null,u=d();u==null&&(u=0,a.replaceState({...a.state,idx:u},""));function d(){return(a.state||{idx:null}).idx}function h(){o="POP";let x=d(),g=x==null?null:x-u;u=x,c&&c({action:o,location:v.location,delta:g})}function f(x,g){o="PUSH";let y=Mn(v.location,x,g);u=d()+1;let b=el(y,u),j=v.createHref(y);try{a.pushState(b,"",j)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;s.location.assign(j)}i&&c&&c({action:o,location:v.location,delta:1})}function m(x,g){o="REPLACE";let y=Mn(v.location,x,g);u=d();let b=el(y,u),j=v.createHref(y);a.replaceState(b,"",j),i&&c&&c({action:o,location:v.location,delta:0})}function p(x){return Pu(x)}let v={get action(){return o},get location(){return t(s,a)},listen(x){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(Qo,h),c=x,()=>{s.removeEventListener(Qo,h),c=null}},createHref(x){return e(s,x)},createURL:p,encodeLocation(x){let g=p(x);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:f,replace:m,go(x){return a.go(x)}};return v}function Pu(t,e=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),me(r,"No window.location.(origin|href) available to create URL");let n=typeof t=="string"?t:Nt(t);return n=n.replace(/ $/,"%20"),!e&&n.startsWith("//")&&(n=r+n),new URL(n,r)}var _n,tl=class{constructor(t){if(im(this,_n,new Map),t)for(let[e,r]of t)this.set(e,r)}get(t){if(ji(this,_n).has(t))return ji(this,_n).get(t);if(t.defaultValue!==void 0)return t.defaultValue;throw new Error("No value found for context")}set(t,e){ji(this,_n).set(t,e)}};_n=new WeakMap;var cm=new Set(["lazy","caseSensitive","path","id","index","children"]);function um(t){return cm.has(t)}var dm=new Set(["lazy","caseSensitive","path","id","index","middleware","children"]);function hm(t){return dm.has(t)}function fm(t){return t.index===!0}function Fn(t,e,r=[],n={},s=!1){return t.map((i,a)=>{let o=[...r,String(a)],c=typeof i.id=="string"?i.id:o.join("-");if(me(i.index!==!0||!i.children,"Cannot specify children on an index route"),me(s||!n[c],`Found a route id collision on id "${c}".  Route id's must be globally unique within Data Router usages`),fm(i)){let u={...i,id:c};return n[c]=rl(u,e(u)),u}else{let u={...i,id:c,children:void 0};return n[c]=rl(u,e(u)),i.children&&(u.children=Fn(i.children,e,o,n,s)),u}})}function rl(t,e){return Object.assign(t,{...e,...typeof e.lazy=="object"&&e.lazy!=null?{lazy:{...t.lazy,...e.lazy}}:{}})}function qt(t,e,r="/"){return Sn(t,e,r,!1)}function Sn(t,e,r,n){let s=typeof e=="string"?Qt(e):e,i=ot(s.pathname||"/",r);if(i==null)return null;let a=Ru(t);pm(a);let o=null;for(let c=0;o==null&&c<a.length;++c){let u=Em(i);o=jm(a[c],u,n)}return o}function mm(t,e){let{route:r,pathname:n,params:s}=t;return{id:r.id,pathname:n,params:s,data:e[r.id],loaderData:e[r.id],handle:r.handle}}function Ru(t,e=[],r=[],n="",s=!1){let i=(a,o,c=s,u)=>{let d={relativePath:u===void 0?a.path||"":u,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};if(d.relativePath.startsWith("/")){if(!d.relativePath.startsWith(n)&&c)return;me(d.relativePath.startsWith(n),`Absolute route path "${d.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(n.length)}let h=kt([n,d.relativePath]),f=r.concat(d);a.children&&a.children.length>0&&(me(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),Ru(a.children,e,f,h,c)),!(a.path==null&&!a.index)&&e.push({path:h,score:_m(h,a.index),routesMeta:f})};return t.forEach((a,o)=>{var c;if(a.path===""||!((c=a.path)!=null&&c.includes("?")))i(a,o);else for(let u of Au(a.path))i(a,o,!0,u)}),e}function Au(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let a=Au(n.join("/")),o=[];return o.push(...a.map(c=>c===""?i:[i,c].join("/"))),s&&o.push(...a),o.map(c=>t.startsWith("/")&&c===""?"/":c)}function pm(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:Sm(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var gm=/^:[\w-]+$/,ym=3,vm=2,bm=1,xm=10,wm=-2,nl=t=>t==="*";function _m(t,e){let r=t.split("/"),n=r.length;return r.some(nl)&&(n+=wm),e&&(n+=vm),r.filter(s=>!nl(s)).reduce((s,i)=>s+(gm.test(i)?ym:i===""?bm:xm),n)}function Sm(t,e){return t.length===e.length&&t.slice(0,-1).every((n,s)=>n===e[s])?t[t.length-1]-e[e.length-1]:0}function jm(t,e,r=!1){let{routesMeta:n}=t,s={},i="/",a=[];for(let o=0;o<n.length;++o){let c=n[o],u=o===n.length-1,d=i==="/"?e:e.slice(i.length)||"/",h=Js({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),f=c.route;if(!h&&u&&r&&!n[n.length-1].route.index&&(h=Js({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!h)return null;Object.assign(s,h.params),a.push({params:s,pathname:kt([i,h.pathname]),pathnameBase:Cm(kt([i,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(i=kt([i,h.pathnameBase]))}return a}function Js(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=km(t.path,t.caseSensitive,t.end),s=e.match(r);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),o=s.slice(1);return{params:n.reduce((u,{paramName:d,isOptional:h},f)=>{if(d==="*"){let p=o[f]||"";a=i.slice(0,i.length-p.length).replace(/(.)\/+$/,"$1")}const m=o[f];return h&&!m?u[d]=void 0:u[d]=(m||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:a,pattern:t}}function km(t,e=!1,r=!0){Ae(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let n=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,c)=>(n.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(n.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),n]}function Em(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ae(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function ot(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function Nm({basename:t,pathname:e}){return e==="/"?t:kt([t,e])}var Du=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ja=t=>Du.test(t);function Tm(t,e="/"){let{pathname:r,search:n="",hash:s=""}=typeof t=="string"?Qt(t):t,i;return r?(r=r.replace(/\/\/+/g,"/"),r.startsWith("/")?i=sl(r.substring(1),"/"):i=sl(r,e)):i=e,{pathname:i,search:Pm(n),hash:Rm(s)}}function sl(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function ki(t,e,r,n){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Iu(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function Ya(t){let e=Iu(t);return e.map((r,n)=>n===e.length-1?r.pathname:r.pathnameBase)}function Xa(t,e,r,n=!1){let s;typeof t=="string"?s=Qt(t):(s={...t},me(!s.pathname||!s.pathname.includes("?"),ki("?","pathname","search",s)),me(!s.pathname||!s.pathname.includes("#"),ki("#","pathname","hash",s)),me(!s.search||!s.search.includes("#"),ki("#","search","hash",s)));let i=t===""||s.pathname==="",a=i?"/":s.pathname,o;if(a==null)o=r;else{let h=e.length-1;if(!n&&a.startsWith("..")){let f=a.split("/");for(;f[0]==="..";)f.shift(),h-=1;s.pathname=f.join("/")}o=h>=0?e[h]:"/"}let c=Tm(s,o),u=a&&a!=="/"&&a.endsWith("/"),d=(i||a===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}var kt=t=>t.join("/").replace(/\/\/+/g,"/"),Cm=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Pm=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Rm=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,rs=class{constructor(t,e,r,n=!1){this.status=t,this.statusText=e||"",this.internal=n,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}};function $n(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function ns(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var Ou=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Lu(t,e){let r=t;if(typeof r!="string"||!Du.test(r))return{absoluteURL:void 0,isExternal:!1,to:r};let n=r,s=!1;if(Ou)try{let i=new URL(window.location.href),a=r.startsWith("//")?new URL(i.protocol+r):new URL(r),o=ot(a.pathname,e);a.origin===i.origin&&o!=null?r=o+a.search+a.hash:s=!0}catch{Ae(!1,`<Link to="${r}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:n,isExternal:s,to:r}}var Jt=Symbol("Uninstrumented");function Am(t,e){let r={lazy:[],"lazy.loader":[],"lazy.action":[],"lazy.middleware":[],middleware:[],loader:[],action:[]};t.forEach(s=>s({id:e.id,index:e.index,path:e.path,instrument(i){let a=Object.keys(r);for(let o of a)i[o]&&r[o].push(i[o])}}));let n={};if(typeof e.lazy=="function"&&r.lazy.length>0){let s=Ur(r.lazy,e.lazy,()=>{});s&&(n.lazy=s)}if(typeof e.lazy=="object"){let s=e.lazy;["middleware","loader","action"].forEach(i=>{let a=s[i],o=r[`lazy.${i}`];if(typeof a=="function"&&o.length>0){let c=Ur(o,a,()=>{});c&&(n.lazy=Object.assign(n.lazy||{},{[i]:c}))}})}return["loader","action"].forEach(s=>{let i=e[s];if(typeof i=="function"&&r[s].length>0){let a=i[Jt]??i,o=Ur(r[s],a,(...c)=>il(c[0]));o&&(s==="loader"&&a.hydrate===!0&&(o.hydrate=!0),o[Jt]=a,n[s]=o)}}),e.middleware&&e.middleware.length>0&&r.middleware.length>0&&(n.middleware=e.middleware.map(s=>{let i=s[Jt]??s,a=Ur(r.middleware,i,(...o)=>il(o[0]));return a?(a[Jt]=i,a):s})),n}function Dm(t,e){let r={navigate:[],fetch:[]};if(e.forEach(n=>n({instrument(s){let i=Object.keys(s);for(let a of i)s[a]&&r[a].push(s[a])}})),r.navigate.length>0){let n=t.navigate[Jt]??t.navigate,s=Ur(r.navigate,n,(...i)=>{let[a,o]=i;return{to:typeof a=="number"||typeof a=="string"?a:a?Nt(a):".",...al(t,o??{})}});s&&(s[Jt]=n,t.navigate=s)}if(r.fetch.length>0){let n=t.fetch[Jt]??t.fetch,s=Ur(r.fetch,n,(...i)=>{let[a,,o,c]=i;return{href:o??".",fetcherKey:a,...al(t,c??{})}});s&&(s[Jt]=n,t.fetch=s)}return t}function Ur(t,e,r){return t.length===0?null:async(...n)=>{let s=await Mu(t,r(...n),()=>e(...n),t.length-1);if(s.type==="error")throw s.value;return s.value}}async function Mu(t,e,r,n){let s=t[n],i;if(s){let a,o=async()=>(a?console.error("You cannot call instrumented handlers more than once"):a=Mu(t,e,r,n-1),i=await a,me(i,"Expected a result"),i.type==="error"&&i.value instanceof Error?{status:"error",error:i.value}:{status:"success",error:void 0});try{await s(o,e)}catch(c){console.error("An instrumentation function threw an error:",c)}a||await o(),await a}else try{i={type:"success",value:await r()}}catch(a){i={type:"error",value:a}}return i||{type:"error",value:new Error("No result assigned in instrumentation chain.")}}function il(t){let{request:e,context:r,params:n,unstable_pattern:s}=t;return{request:Im(e),params:{...n},unstable_pattern:s,context:Om(r)}}function al(t,e){return{currentUrl:Nt(t.state.location),..."formMethod"in e?{formMethod:e.formMethod}:{},..."formEncType"in e?{formEncType:e.formEncType}:{},..."formData"in e?{formData:e.formData}:{},..."body"in e?{body:e.body}:{}}}function Im(t){return{method:t.method,url:t.url,headers:{get:(...e)=>t.headers.get(...e)}}}function Om(t){if(Mm(t)){let e={...t};return Object.freeze(e),e}else return{get:e=>t.get(e)}}var Lm=Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Mm(t){if(t===null||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);return e===Object.prototype||e===null||Object.getOwnPropertyNames(e).sort().join("\0")===Lm}var Fu=["POST","PUT","PATCH","DELETE"],Fm=new Set(Fu),$m=["GET",...Fu],Bm=new Set($m),$u=new Set([301,302,303,307,308]),Um=new Set([307,308]),Ei={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Vm={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},gn={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},zm=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),Bu="remix-router-transitions",Uu=Symbol("ResetLoaderData");function Wm(t){const e=t.window?t.window:typeof window<"u"?window:void 0,r=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";me(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let n=t.hydrationRouteProperties||[],s=t.mapRouteProperties||zm,i=s;if(t.unstable_instrumentations){let E=t.unstable_instrumentations;i=C=>({...s(C),...Am(E.map(P=>P.route).filter(Boolean),C)})}let a={},o=Fn(t.routes,i,void 0,a),c,u=t.basename||"/";u.startsWith("/")||(u=`/${u}`);let d=t.dataStrategy||Jm,h={...t.future},f=null,m=new Set,p=null,v=null,x=null,g=t.hydrationData!=null,y=qt(o,t.history.location,u),b=!1,j=null,k;if(y==null&&!t.patchRoutesOnNavigation){let E=st(404,{pathname:t.history.location.pathname}),{matches:C,route:P}=ks(o);k=!0,y=C,j={[P.id]:E}}else if(y&&!t.hydrationData&&Er(y,o,t.history.location.pathname).active&&(y=null),y)if(y.some(E=>E.route.lazy))k=!1;else if(!y.some(E=>Za(E.route)))k=!0;else{let E=t.hydrationData?t.hydrationData.loaderData:null,C=t.hydrationData?t.hydrationData.errors:null;if(C){let P=y.findIndex(A=>C[A.route.id]!==void 0);k=y.slice(0,P+1).every(A=>!sa(A.route,E,C))}else k=y.every(P=>!sa(P.route,E,C))}else{k=!1,y=[];let E=Er(null,o,t.history.location.pathname);E.active&&E.matches&&(b=!0,y=E.matches)}let T,_={historyAction:t.history.action,location:t.history.location,matches:y,initialized:k,navigation:Ei,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||j,fetchers:new Map,blockers:new Map},S="POP",N=null,D=!1,L,B=!1,F=new Map,X=null,le=!1,re=!1,q=new Set,R=new Map,ue=0,fe=-1,G=new Map,de=new Set,ie=new Map,se=new Map,ge=new Set,je=new Map,Q,xe=null;function Oe(){if(f=t.history.listen(({action:E,location:C,delta:P})=>{if(Q){Q(),Q=void 0;return}Ae(je.size===0||P!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let A=dn({currentLocation:_.location,nextLocation:C,historyAction:E});if(A&&P!=null){let I=new Promise(K=>{Q=K});t.history.go(P*-1),jr(A,{state:"blocked",location:C,proceed(){jr(A,{state:"proceeding",proceed:void 0,reset:void 0,location:C}),I.then(()=>t.history.go(P))},reset(){let K=new Map(_.blockers);K.set(A,gn),O({blockers:K})}}),N==null||N.resolve(),N=null;return}return $e(E,C)}),r){fp(e,F);let E=()=>mp(e,F);e.addEventListener("pagehide",E),X=()=>e.removeEventListener("pagehide",E)}return _.initialized||$e("POP",_.location,{initialHydration:!0}),T}function ee(){f&&f(),X&&X(),m.clear(),L&&L.abort(),_.fetchers.forEach((E,C)=>rr(C)),_.blockers.forEach((E,C)=>un(C))}function pe(E){return m.add(E),()=>m.delete(E)}function O(E,C={}){E.matches&&(E.matches=E.matches.map(I=>{let K=a[I.route.id],Z=I.route;return Z.element!==K.element||Z.errorElement!==K.errorElement||Z.hydrateFallbackElement!==K.hydrateFallbackElement?{...I,route:K}:I})),_={..._,...E};let P=[],A=[];_.fetchers.forEach((I,K)=>{I.state==="idle"&&(ge.has(K)?P.push(K):A.push(K))}),ge.forEach(I=>{!_.fetchers.has(I)&&!R.has(I)&&P.push(I)}),[...m].forEach(I=>I(_,{deletedFetchers:P,newErrors:E.errors??null,viewTransitionOpts:C.viewTransitionOpts,flushSync:C.flushSync===!0})),P.forEach(I=>rr(I)),A.forEach(I=>_.fetchers.delete(I))}function ve(E,C,{flushSync:P}={}){var ae,J;let A=_.actionData!=null&&_.navigation.formMethod!=null&&Ge(_.navigation.formMethod)&&_.navigation.state==="loading"&&((ae=E.state)==null?void 0:ae._isRedirect)!==!0,I;C.actionData?Object.keys(C.actionData).length>0?I=C.actionData:I=null:A?I=_.actionData:I=null;let K=C.loaderData?gl(_.loaderData,C.loaderData,C.matches||[],C.errors):_.loaderData,Z=_.blockers;Z.size>0&&(Z=new Map(Z),Z.forEach((ce,ye)=>Z.set(ye,gn)));let $=le?!1:hn(E,C.matches||_.matches),W=D===!0||_.navigation.formMethod!=null&&Ge(_.navigation.formMethod)&&((J=E.state)==null?void 0:J._isRedirect)!==!0;c&&(o=c,c=void 0),le||S==="POP"||(S==="PUSH"?t.history.push(E,E.state):S==="REPLACE"&&t.history.replace(E,E.state));let Y;if(S==="POP"){let ce=F.get(_.location.pathname);ce&&ce.has(E.pathname)?Y={currentLocation:_.location,nextLocation:E}:F.has(E.pathname)&&(Y={currentLocation:E,nextLocation:_.location})}else if(B){let ce=F.get(_.location.pathname);ce?ce.add(E.pathname):(ce=new Set([E.pathname]),F.set(_.location.pathname,ce)),Y={currentLocation:_.location,nextLocation:E}}O({...C,actionData:I,loaderData:K,historyAction:S,location:E,initialized:!0,navigation:Ei,revalidation:"idle",restoreScrollPosition:$,preventScrollReset:W,blockers:Z},{viewTransitionOpts:Y,flushSync:P===!0}),S="POP",D=!1,B=!1,le=!1,re=!1,N==null||N.resolve(),N=null,xe==null||xe.resolve(),xe=null}async function ke(E,C){if(N==null||N.resolve(),N=null,typeof E=="number"){N||(N=xl());let ye=N.promise;return t.history.go(E),ye}let P=na(_.location,_.matches,u,E,C==null?void 0:C.fromRouteId,C==null?void 0:C.relative),{path:A,submission:I,error:K}=ol(!1,P,C),Z=_.location,$=Mn(_.location,A,C&&C.state);$={...$,...t.history.encodeLocation($)};let W=C&&C.replace!=null?C.replace:void 0,Y="PUSH";W===!0?Y="REPLACE":W===!1||I!=null&&Ge(I.formMethod)&&I.formAction===_.location.pathname+_.location.search&&(Y="REPLACE");let ae=C&&"preventScrollReset"in C?C.preventScrollReset===!0:void 0,J=(C&&C.flushSync)===!0,ce=dn({currentLocation:Z,nextLocation:$,historyAction:Y});if(ce){jr(ce,{state:"blocked",location:$,proceed(){jr(ce,{state:"proceeding",proceed:void 0,reset:void 0,location:$}),ke(E,C)},reset(){let ye=new Map(_.blockers);ye.set(ce,gn),O({blockers:ye})}});return}await $e(Y,$,{submission:I,pendingError:K,preventScrollReset:ae,replace:C&&C.replace,enableViewTransition:C&&C.viewTransition,flushSync:J,callSiteDefaultShouldRevalidate:C&&C.unstable_defaultShouldRevalidate})}function Ue(){xe||(xe=xl()),_r(),O({revalidation:"loading"});let E=xe.promise;return _.navigation.state==="submitting"?E:_.navigation.state==="idle"?($e(_.historyAction,_.location,{startUninterruptedRevalidation:!0}),E):($e(S||_.historyAction,_.navigation.location,{overrideNavigation:_.navigation,enableViewTransition:B===!0}),E)}async function $e(E,C,P){L&&L.abort(),L=null,S=E,le=(P&&P.startUninterruptedRevalidation)===!0,bs(_.location,_.matches),D=(P&&P.preventScrollReset)===!0,B=(P&&P.enableViewTransition)===!0;let A=c||o,I=P&&P.overrideNavigation,K=P!=null&&P.initialHydration&&_.matches&&_.matches.length>0&&!b?_.matches:qt(A,C,u),Z=(P&&P.flushSync)===!0;if(K&&_.initialized&&!re&&np(_.location,C)&&!(P&&P.submission&&Ge(P.submission.formMethod))){ve(C,{matches:K},{flushSync:Z});return}let $=Er(K,A,C.pathname);if($.active&&$.matches&&(K=$.matches),!K){let{error:Be,notFoundMatches:Je,route:we}=kr(C.pathname);ve(C,{matches:Je,loaderData:{},errors:{[we.id]:Be}},{flushSync:Z});return}L=new AbortController;let W=Lr(t.history,C,L.signal,P&&P.submission),Y=t.getContext?await t.getContext():new tl,ae;if(P&&P.pendingError)ae=[Gt(K).route.id,{type:"error",error:P.pendingError}];else if(P&&P.submission&&Ge(P.submission.formMethod)){let Be=await ct(W,C,P.submission,K,Y,$.active,P&&P.initialHydration===!0,{replace:P.replace,flushSync:Z});if(Be.shortCircuited)return;if(Be.pendingActionResult){let[Je,we]=Be.pendingActionResult;if(et(we)&&$n(we.error)&&we.error.status===404){L=null,ve(C,{matches:Be.matches,loaderData:{},errors:{[Je]:we.error}});return}}K=Be.matches||K,ae=Be.pendingActionResult,I=Ni(C,P.submission),Z=!1,$.active=!1,W=Lr(t.history,W.url,W.signal)}let{shortCircuited:J,matches:ce,loaderData:ye,errors:Ve}=await Rt(W,C,K,Y,$.active,I,P&&P.submission,P&&P.fetcherSubmission,P&&P.replace,P&&P.initialHydration===!0,Z,ae,P&&P.callSiteDefaultShouldRevalidate);J||(L=null,ve(C,{matches:ce||K,...yl(ae),loaderData:ye,errors:Ve}))}async function ct(E,C,P,A,I,K,Z,$={}){_r();let W=dp(C,P);if(O({navigation:W},{flushSync:$.flushSync===!0}),K){let J=await xs(A,C.pathname,E.signal);if(J.type==="aborted")return{shortCircuited:!0};if(J.type==="error"){if(J.partialMatches.length===0){let{matches:ye,route:Ve}=ks(o);return{matches:ye,pendingActionResult:[Ve.id,{type:"error",error:J.error}]}}let ce=Gt(J.partialMatches).route.id;return{matches:J.partialMatches,pendingActionResult:[ce,{type:"error",error:J.error}]}}else if(J.matches)A=J.matches;else{let{notFoundMatches:ce,error:ye,route:Ve}=kr(C.pathname);return{matches:ce,pendingActionResult:[Ve.id,{type:"error",error:ye}]}}}let Y,ae=Bs(A,C);if(!ae.route.action&&!ae.route.lazy)Y={type:"error",error:st(405,{method:E.method,pathname:C.pathname,routeId:ae.route.id})};else{let J=Kr(i,a,E,A,ae,Z?[]:n,I),ce=await Bt(E,J,I,null);if(Y=ce[ae.route.id],!Y){for(let ye of A)if(ce[ye.route.id]){Y=ce[ye.route.id];break}}if(E.signal.aborted)return{shortCircuited:!0}}if(mr(Y)){let J;return $&&$.replace!=null?J=$.replace:J=fl(Y.response.headers.get("Location"),new URL(E.url),u,t.history)===_.location.pathname+_.location.search,await _t(E,Y,!0,{submission:P,replace:J}),{shortCircuited:!0}}if(et(Y)){let J=Gt(A,ae.route.id);return($&&$.replace)!==!0&&(S="PUSH"),{matches:A,pendingActionResult:[J.route.id,Y,ae.route.id]}}return{matches:A,pendingActionResult:[ae.route.id,Y]}}async function Rt(E,C,P,A,I,K,Z,$,W,Y,ae,J,ce){let ye=K||Ni(C,Z),Ve=Z||$||bl(ye),Be=!le&&!Y;if(I){if(Be){let qe=ut(J);O({navigation:ye,...qe!==void 0?{actionData:qe}:{}},{flushSync:ae})}let be=await xs(P,C.pathname,E.signal);if(be.type==="aborted")return{shortCircuited:!0};if(be.type==="error"){if(be.partialMatches.length===0){let{matches:Nr,route:ir}=ks(o);return{matches:Nr,loaderData:{},errors:{[ir.id]:be.error}}}let qe=Gt(be.partialMatches).route.id;return{matches:be.partialMatches,loaderData:{},errors:{[qe]:be.error}}}else if(be.matches)P=be.matches;else{let{error:qe,notFoundMatches:Nr,route:ir}=kr(C.pathname);return{matches:Nr,loaderData:{},errors:{[ir.id]:qe}}}}let Je=c||o,{dsMatches:we,revalidatingFetchers:nt}=ll(E,A,i,a,t.history,_,P,Ve,C,Y?[]:n,Y===!0,re,q,ge,ie,de,Je,u,t.patchRoutesOnNavigation!=null,J,ce);if(fe=++ue,!t.dataStrategy&&!we.some(be=>be.shouldLoad)&&!we.some(be=>be.route.middleware&&be.route.middleware.length>0)&&nt.length===0){let be=ps();return ve(C,{matches:P,loaderData:{},errors:J&&et(J[1])?{[J[0]]:J[1].error}:null,...yl(J),...be?{fetchers:new Map(_.fetchers)}:{}},{flushSync:ae}),{shortCircuited:!0}}if(Be){let be={};if(!I){be.navigation=ye;let qe=ut(J);qe!==void 0&&(be.actionData=qe)}nt.length>0&&(be.fetchers=At(nt)),O(be,{flushSync:ae})}nt.forEach(be=>{ht(be.key),be.controller&&R.set(be.key,be.controller)});let nr=()=>nt.forEach(be=>ht(be.key));L&&L.signal.addEventListener("abort",nr);let{loaderResults:fn,fetcherResults:Ut}=await fs(we,nt,E,A);if(E.signal.aborted)return{shortCircuited:!0};L&&L.signal.removeEventListener("abort",nr),nt.forEach(be=>R.delete(be.key));let St=Es(fn);if(St)return await _t(E,St.result,!0,{replace:W}),{shortCircuited:!0};if(St=Es(Ut),St)return de.add(St.key),await _t(E,St.result,!0,{replace:W}),{shortCircuited:!0};let{loaderData:_i,errors:mn}=pl(_,P,fn,J,nt,Ut);Y&&_.errors&&(mn={..._.errors,...mn});let sr=ps(),ws=gs(fe),_s=sr||ws||nt.length>0;return{matches:P,loaderData:_i,errors:mn,..._s?{fetchers:new Map(_.fetchers)}:{}}}function ut(E){if(E&&!et(E[1]))return{[E[0]]:E[1].data};if(_.actionData)return Object.keys(_.actionData).length===0?null:_.actionData}function At(E){return E.forEach(C=>{let P=_.fetchers.get(C.key),A=yn(void 0,P?P.data:void 0);_.fetchers.set(C.key,A)}),new Map(_.fetchers)}async function tr(E,C,P,A){ht(E);let I=(A&&A.flushSync)===!0,K=c||o,Z=na(_.location,_.matches,u,P,C,A==null?void 0:A.relative),$=qt(K,Z,u),W=Er($,K,Z);if(W.active&&W.matches&&($=W.matches),!$){Ze(E,C,st(404,{pathname:Z}),{flushSync:I});return}let{path:Y,submission:ae,error:J}=ol(!0,Z,A);if(J){Ze(E,C,J,{flushSync:I});return}let ce=t.getContext?await t.getContext():new tl,ye=(A&&A.preventScrollReset)===!0;if(ae&&Ge(ae.formMethod)){await on(E,C,Y,$,ce,W.active,I,ye,ae,A&&A.unstable_defaultShouldRevalidate);return}ie.set(E,{routeId:C,path:Y}),await ln(E,C,Y,$,ce,W.active,I,ye,ae)}async function on(E,C,P,A,I,K,Z,$,W,Y){_r(),ie.delete(E);let ae=_.fetchers.get(E);dt(E,hp(W,ae),{flushSync:Z});let J=new AbortController,ce=Lr(t.history,P,J.signal,W);if(K){let Te=await xs(A,new URL(ce.url).pathname,ce.signal,E);if(Te.type==="aborted")return;if(Te.type==="error"){Ze(E,C,Te.error,{flushSync:Z});return}else if(Te.matches)A=Te.matches;else{Ze(E,C,st(404,{pathname:P}),{flushSync:Z});return}}let ye=Bs(A,P);if(!ye.route.action&&!ye.route.lazy){let Te=st(405,{method:W.formMethod,pathname:P,routeId:C});Ze(E,C,Te,{flushSync:Z});return}R.set(E,J);let Ve=ue,Be=Kr(i,a,ce,A,ye,n,I),Je=await Bt(ce,Be,I,E),we=Je[ye.route.id];if(!we){for(let Te of Be)if(Je[Te.route.id]){we=Je[Te.route.id];break}}if(ce.signal.aborted){R.get(E)===J&&R.delete(E);return}if(ge.has(E)){if(mr(we)||et(we)){dt(E,Ot(void 0));return}}else{if(mr(we))if(R.delete(E),fe>Ve){dt(E,Ot(void 0));return}else return de.add(E),dt(E,yn(W)),_t(ce,we,!1,{fetcherSubmission:W,preventScrollReset:$});if(et(we)){Ze(E,C,we.error);return}}let nt=_.navigation.location||_.location,nr=Lr(t.history,nt,J.signal),fn=c||o,Ut=_.navigation.state!=="idle"?qt(fn,_.navigation.location,u):_.matches;me(Ut,"Didn't find any matches after fetcher action");let St=++ue;G.set(E,St);let _i=yn(W,we.data);_.fetchers.set(E,_i);let{dsMatches:mn,revalidatingFetchers:sr}=ll(nr,I,i,a,t.history,_,Ut,W,nt,n,!1,re,q,ge,ie,de,fn,u,t.patchRoutesOnNavigation!=null,[ye.route.id,we],Y);sr.filter(Te=>Te.key!==E).forEach(Te=>{let Ss=Te.key,Jo=_.fetchers.get(Ss),Kf=yn(void 0,Jo?Jo.data:void 0);_.fetchers.set(Ss,Kf),ht(Ss),Te.controller&&R.set(Ss,Te.controller)}),O({fetchers:new Map(_.fetchers)});let ws=()=>sr.forEach(Te=>ht(Te.key));J.signal.addEventListener("abort",ws);let{loaderResults:_s,fetcherResults:be}=await fs(mn,sr,nr,I);if(J.signal.aborted)return;if(J.signal.removeEventListener("abort",ws),G.delete(E),R.delete(E),sr.forEach(Te=>R.delete(Te.key)),_.fetchers.has(E)){let Te=Ot(we.data);_.fetchers.set(E,Te)}let qe=Es(_s);if(qe)return _t(nr,qe.result,!1,{preventScrollReset:$});if(qe=Es(be),qe)return de.add(qe.key),_t(nr,qe.result,!1,{preventScrollReset:$});let{loaderData:Nr,errors:ir}=pl(_,Ut,_s,void 0,sr,be);gs(St),_.navigation.state==="loading"&&St>fe?(me(S,"Expected pending action"),L&&L.abort(),ve(_.navigation.location,{matches:Ut,loaderData:Nr,errors:ir,fetchers:new Map(_.fetchers)})):(O({errors:ir,loaderData:gl(_.loaderData,Nr,Ut,ir),fetchers:new Map(_.fetchers)}),re=!1)}async function ln(E,C,P,A,I,K,Z,$,W){let Y=_.fetchers.get(E);dt(E,yn(W,Y?Y.data:void 0),{flushSync:Z});let ae=new AbortController,J=Lr(t.history,P,ae.signal);if(K){let we=await xs(A,new URL(J.url).pathname,J.signal,E);if(we.type==="aborted")return;if(we.type==="error"){Ze(E,C,we.error,{flushSync:Z});return}else if(we.matches)A=we.matches;else{Ze(E,C,st(404,{pathname:P}),{flushSync:Z});return}}let ce=Bs(A,P);R.set(E,ae);let ye=ue,Ve=Kr(i,a,J,A,ce,n,I),Je=(await Bt(J,Ve,I,E))[ce.route.id];if(R.get(E)===ae&&R.delete(E),!J.signal.aborted){if(ge.has(E)){dt(E,Ot(void 0));return}if(mr(Je))if(fe>ye){dt(E,Ot(void 0));return}else{de.add(E),await _t(J,Je,!1,{preventScrollReset:$});return}if(et(Je)){Ze(E,C,Je.error);return}dt(E,Ot(Je.data))}}async function _t(E,C,P,{submission:A,fetcherSubmission:I,preventScrollReset:K,replace:Z}={}){P||(N==null||N.resolve(),N=null),C.response.headers.has("X-Remix-Revalidate")&&(re=!0);let $=C.response.headers.get("Location");me($,"Expected a Location header on the redirect Response"),$=fl($,new URL(E.url),u,t.history);let W=Mn(_.location,$,{_isRedirect:!0});if(r){let Ve=!1;if(C.response.headers.has("X-Remix-Reload-Document"))Ve=!0;else if(Ja($)){const Be=Pu($,!0);Ve=Be.origin!==e.location.origin||ot(Be.pathname,u)==null}if(Ve){Z?e.location.replace($):e.location.assign($);return}}L=null;let Y=Z===!0||C.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:ae,formAction:J,formEncType:ce}=_.navigation;!A&&!I&&ae&&J&&ce&&(A=bl(_.navigation));let ye=A||I;if(Um.has(C.response.status)&&ye&&Ge(ye.formMethod))await $e(Y,W,{submission:{...ye,formAction:$},preventScrollReset:K||D,enableViewTransition:P?B:void 0});else{let Ve=Ni(W,A);await $e(Y,W,{overrideNavigation:Ve,fetcherSubmission:I,preventScrollReset:K||D,enableViewTransition:P?B:void 0})}}async function Bt(E,C,P,A){var Z;let I,K={};try{I=await Xm(d,E,C,A,P,!1)}catch($){return C.filter(W=>W.shouldLoad).forEach(W=>{K[W.route.id]={type:"error",error:$}}),K}if(E.signal.aborted)return K;if(!Ge(E.method))for(let $ of C){if(((Z=I[$.route.id])==null?void 0:Z.type)==="error")break;!I.hasOwnProperty($.route.id)&&!_.loaderData.hasOwnProperty($.route.id)&&(!_.errors||!_.errors.hasOwnProperty($.route.id))&&$.shouldCallHandler()&&(I[$.route.id]={type:"error",result:new Error(`No result returned from dataStrategy for route ${$.route.id}`)})}for(let[$,W]of Object.entries(I))if(op(W)){let Y=W.result;K[$]={type:"redirect",response:tp(Y,E,$,C,u)}}else K[$]=await ep(W);return K}async function fs(E,C,P,A){let I=Bt(P,E,A,null),K=Promise.all(C.map(async W=>{if(W.matches&&W.match&&W.request&&W.controller){let ae=(await Bt(W.request,W.matches,A,W.key))[W.match.route.id];return{[W.key]:ae}}else return Promise.resolve({[W.key]:{type:"error",error:st(404,{pathname:W.path})}})})),Z=await I,$=(await K).reduce((W,Y)=>Object.assign(W,Y),{});return{loaderResults:Z,fetcherResults:$}}function _r(){re=!0,ie.forEach((E,C)=>{R.has(C)&&q.add(C),ht(C)})}function dt(E,C,P={}){_.fetchers.set(E,C),O({fetchers:new Map(_.fetchers)},{flushSync:(P&&P.flushSync)===!0})}function Ze(E,C,P,A={}){let I=Gt(_.matches,C);rr(E),O({errors:{[I.route.id]:P},fetchers:new Map(_.fetchers)},{flushSync:(A&&A.flushSync)===!0})}function Dt(E){return se.set(E,(se.get(E)||0)+1),ge.has(E)&&ge.delete(E),_.fetchers.get(E)||Vm}function cn(E,C){ht(E,C==null?void 0:C.reason),dt(E,Ot(null))}function rr(E){let C=_.fetchers.get(E);R.has(E)&&!(C&&C.state==="loading"&&G.has(E))&&ht(E),ie.delete(E),G.delete(E),de.delete(E),ge.delete(E),q.delete(E),_.fetchers.delete(E)}function Sr(E){let C=(se.get(E)||0)-1;C<=0?(se.delete(E),ge.add(E)):se.set(E,C),O({fetchers:new Map(_.fetchers)})}function ht(E,C){let P=R.get(E);P&&(P.abort(C),R.delete(E))}function ms(E){for(let C of E){let P=Dt(C),A=Ot(P.data);_.fetchers.set(C,A)}}function ps(){let E=[],C=!1;for(let P of de){let A=_.fetchers.get(P);me(A,`Expected fetcher: ${P}`),A.state==="loading"&&(de.delete(P),E.push(P),C=!0)}return ms(E),C}function gs(E){let C=[];for(let[P,A]of G)if(A<E){let I=_.fetchers.get(P);me(I,`Expected fetcher: ${P}`),I.state==="loading"&&(ht(P),G.delete(P),C.push(P))}return ms(C),C.length>0}function wi(E,C){let P=_.blockers.get(E)||gn;return je.get(E)!==C&&je.set(E,C),P}function un(E){_.blockers.delete(E),je.delete(E)}function jr(E,C){let P=_.blockers.get(E)||gn;me(P.state==="unblocked"&&C.state==="blocked"||P.state==="blocked"&&C.state==="blocked"||P.state==="blocked"&&C.state==="proceeding"||P.state==="blocked"&&C.state==="unblocked"||P.state==="proceeding"&&C.state==="unblocked",`Invalid blocker state transition: ${P.state} -> ${C.state}`);let A=new Map(_.blockers);A.set(E,C),O({blockers:A})}function dn({currentLocation:E,nextLocation:C,historyAction:P}){if(je.size===0)return;je.size>1&&Ae(!1,"A router only supports one blocker at a time");let A=Array.from(je.entries()),[I,K]=A[A.length-1],Z=_.blockers.get(I);if(!(Z&&Z.state==="proceeding")&&K({currentLocation:E,nextLocation:C,historyAction:P}))return I}function kr(E){let C=st(404,{pathname:E}),P=c||o,{matches:A,route:I}=ks(P);return{notFoundMatches:A,route:I,error:C}}function ys(E,C,P){if(p=E,x=C,v=P||null,!g&&_.navigation===Ei){g=!0;let A=hn(_.location,_.matches);A!=null&&O({restoreScrollPosition:A})}return()=>{p=null,x=null,v=null}}function vs(E,C){return v&&v(E,C.map(A=>mm(A,_.loaderData)))||E.key}function bs(E,C){if(p&&x){let P=vs(E,C);p[P]=x()}}function hn(E,C){if(p){let P=vs(E,C),A=p[P];if(typeof A=="number")return A}return null}function Er(E,C,P){if(t.patchRoutesOnNavigation)if(E){if(Object.keys(E[0].params).length>0)return{active:!0,matches:Sn(C,P,u,!0)}}else return{active:!0,matches:Sn(C,P,u,!0)||[]};return{active:!1,matches:null}}async function xs(E,C,P,A){if(!t.patchRoutesOnNavigation)return{type:"success",matches:E};let I=E;for(;;){let K=c==null,Z=c||o,$=a;try{await t.patchRoutesOnNavigation({signal:P,path:C,matches:I,fetcherKey:A,patch:(ae,J)=>{P.aborted||cl(ae,J,Z,$,i,!1)}})}catch(ae){return{type:"error",error:ae,partialMatches:I}}finally{K&&!P.aborted&&(o=[...o])}if(P.aborted)return{type:"aborted"};let W=qt(Z,C,u),Y=null;if(W){if(Object.keys(W[0].params).length===0)return{type:"success",matches:W};if(Y=Sn(Z,C,u,!0),!(Y&&I.length<Y.length&&Ko(I,Y.slice(0,I.length))))return{type:"success",matches:W}}if(Y||(Y=Sn(Z,C,u,!0)),!Y||Ko(I,Y))return{type:"success",matches:null};I=Y}}function Ko(E,C){return E.length===C.length&&E.every((P,A)=>P.route.id===C[A].route.id)}function qf(E){a={},c=Fn(E,i,void 0,a)}function Gf(E,C,P=!1){let A=c==null;cl(E,C,c||o,a,i,P),A&&(o=[...o],O({}))}return T={get basename(){return u},get future(){return h},get state(){return _},get routes(){return o},get window(){return e},initialize:Oe,subscribe:pe,enableScrollRestoration:ys,navigate:ke,fetch:tr,revalidate:Ue,createHref:E=>t.history.createHref(E),encodeLocation:E=>t.history.encodeLocation(E),getFetcher:Dt,resetFetcher:cn,deleteFetcher:Sr,dispose:ee,getBlocker:wi,deleteBlocker:un,patchRoutes:Gf,_internalFetchControllers:R,_internalSetRoutes:qf,_internalSetStateDoNotUseOrYouWillBreakYourApp(E){O(E)}},t.unstable_instrumentations&&(T=Dm(T,t.unstable_instrumentations.map(E=>E.router).filter(Boolean))),T}function Hm(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function na(t,e,r,n,s,i){let a,o;if(s){a=[];for(let u of e)if(a.push(u),u.route.id===s){o=u;break}}else a=e,o=e[e.length-1];let c=Xa(n||".",Ya(a),ot(t.pathname,r)||t.pathname,i==="path");if(n==null&&(c.search=t.search,c.hash=t.hash),(n==null||n===""||n===".")&&o){let u=eo(c.search);if(o.route.index&&!u)c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index";else if(!o.route.index&&u){let d=new URLSearchParams(c.search),h=d.getAll("index");d.delete("index"),h.filter(m=>m).forEach(m=>d.append("index",m));let f=d.toString();c.search=f?`?${f}`:""}}return r!=="/"&&(c.pathname=Nm({basename:r,pathname:c.pathname})),Nt(c)}function ol(t,e,r){if(!r||!Hm(r))return{path:e};if(r.formMethod&&!up(r.formMethod))return{path:e,error:st(405,{method:r.formMethod})};let n=()=>({path:e,error:st(400,{type:"invalid-body"})}),i=(r.formMethod||"get").toUpperCase(),a=Gu(e);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!Ge(i))return n();let h=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((f,[m,p])=>`${f}${m}=${p}
`,""):String(r.body);return{path:e,submission:{formMethod:i,formAction:a,formEncType:r.formEncType,formData:void 0,json:void 0,text:h}}}else if(r.formEncType==="application/json"){if(!Ge(i))return n();try{let h=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:e,submission:{formMethod:i,formAction:a,formEncType:r.formEncType,formData:void 0,json:h,text:void 0}}}catch{return n()}}}me(typeof FormData=="function","FormData is not available in this environment");let o,c;if(r.formData)o=aa(r.formData),c=r.formData;else if(r.body instanceof FormData)o=aa(r.body),c=r.body;else if(r.body instanceof URLSearchParams)o=r.body,c=ml(o);else if(r.body==null)o=new URLSearchParams,c=new FormData;else try{o=new URLSearchParams(r.body),c=ml(o)}catch{return n()}let u={formMethod:i,formAction:a,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:c,json:void 0,text:void 0};if(Ge(u.formMethod))return{path:e,submission:u};let d=Qt(e);return t&&d.search&&eo(d.search)&&o.append("index",""),d.search=`?${o}`,{path:Nt(d),submission:u}}function ll(t,e,r,n,s,i,a,o,c,u,d,h,f,m,p,v,x,g,y,b,j){var le;let k=b?et(b[1])?b[1].error:b[1].data:void 0,T=s.createURL(i.location),_=s.createURL(c),S;if(d&&i.errors){let re=Object.keys(i.errors)[0];S=a.findIndex(q=>q.route.id===re)}else if(b&&et(b[1])){let re=b[0];S=a.findIndex(q=>q.route.id===re)-1}let N=b?b[1].statusCode:void 0,D=N&&N>=400,L={currentUrl:T,currentParams:((le=i.matches[0])==null?void 0:le.params)||{},nextUrl:_,nextParams:a[0].params,...o,actionResult:k,actionStatus:N},B=ns(a),F=a.map((re,q)=>{let{route:R}=re,ue=null;if(S!=null&&q>S?ue=!1:R.lazy?ue=!0:Za(R)?d?ue=sa(R,i.loaderData,i.errors):qm(i.loaderData,i.matches[q],re)&&(ue=!0):ue=!1,ue!==null)return ia(r,n,t,B,re,u,e,ue);let fe=!1;typeof j=="boolean"?fe=j:D?fe=!1:(h||T.pathname+T.search===_.pathname+_.search||T.search!==_.search||Gm(i.matches[q],re))&&(fe=!0);let G={...L,defaultShouldRevalidate:fe},de=Nn(re,G);return ia(r,n,t,B,re,u,e,de,G,j)}),X=[];return p.forEach((re,q)=>{if(d||!a.some(ge=>ge.route.id===re.routeId)||m.has(q))return;let R=i.fetchers.get(q),ue=R&&R.state!=="idle"&&R.data===void 0,fe=qt(x,re.path,g);if(!fe){if(y&&ue)return;X.push({key:q,routeId:re.routeId,path:re.path,matches:null,match:null,request:null,controller:null});return}if(v.has(q))return;let G=Bs(fe,re.path),de=new AbortController,ie=Lr(s,re.path,de.signal),se=null;if(f.has(q))f.delete(q),se=Kr(r,n,ie,fe,G,u,e);else if(ue)h&&(se=Kr(r,n,ie,fe,G,u,e));else{let ge;typeof j=="boolean"?ge=j:D?ge=!1:ge=h;let je={...L,defaultShouldRevalidate:ge};Nn(G,je)&&(se=Kr(r,n,ie,fe,G,u,e,je))}se&&X.push({key:q,routeId:re.routeId,path:re.path,matches:se,match:G,request:ie,controller:de})}),{dsMatches:F,revalidatingFetchers:X}}function Za(t){return t.loader!=null||t.middleware!=null&&t.middleware.length>0}function sa(t,e,r){if(t.lazy)return!0;if(!Za(t))return!1;let n=e!=null&&t.id in e,s=r!=null&&r[t.id]!==void 0;return!n&&s?!1:typeof t.loader=="function"&&t.loader.hydrate===!0?!0:!n&&!s}function qm(t,e,r){let n=!e||r.route.id!==e.route.id,s=!t.hasOwnProperty(r.route.id);return n||s}function Gm(t,e){let r=t.route.path;return t.pathname!==e.pathname||r!=null&&r.endsWith("*")&&t.params["*"]!==e.params["*"]}function Nn(t,e){if(t.route.shouldRevalidate){let r=t.route.shouldRevalidate(e);if(typeof r=="boolean")return r}return e.defaultShouldRevalidate}function cl(t,e,r,n,s,i){let a;if(t){let u=n[t];me(u,`No route found to patch children into: routeId = ${t}`),u.children||(u.children=[]),a=u.children}else a=r;let o=[],c=[];if(e.forEach(u=>{let d=a.find(h=>Vu(u,h));d?c.push({existingRoute:d,newRoute:u}):o.push(u)}),o.length>0){let u=Fn(o,s,[t||"_","patch",String((a==null?void 0:a.length)||"0")],n);a.push(...u)}if(i&&c.length>0)for(let u=0;u<c.length;u++){let{existingRoute:d,newRoute:h}=c[u],f=d,[m]=Fn([h],s,[],{},!0);Object.assign(f,{element:m.element?m.element:f.element,errorElement:m.errorElement?m.errorElement:f.errorElement,hydrateFallbackElement:m.hydrateFallbackElement?m.hydrateFallbackElement:f.hydrateFallbackElement})}}function Vu(t,e){return"id"in t&&"id"in e&&t.id===e.id?!0:t.index===e.index&&t.path===e.path&&t.caseSensitive===e.caseSensitive?(!t.children||t.children.length===0)&&(!e.children||e.children.length===0)?!0:t.children.every((r,n)=>{var s;return(s=e.children)==null?void 0:s.some(i=>Vu(r,i))}):!1}var ul=new WeakMap,zu=({key:t,route:e,manifest:r,mapRouteProperties:n})=>{let s=r[e.id];if(me(s,"No route found in manifest"),!s.lazy||typeof s.lazy!="object")return;let i=s.lazy[t];if(!i)return;let a=ul.get(s);a||(a={},ul.set(s,a));let o=a[t];if(o)return o;let c=(async()=>{let u=um(t),h=s[t]!==void 0&&t!=="hasErrorBoundary";if(u)Ae(!u,"Route property "+t+" is not a supported lazy route property. This property will be ignored."),a[t]=Promise.resolve();else if(h)Ae(!1,`Route "${s.id}" has a static property "${t}" defined. The lazy property will be ignored.`);else{let f=await i();f!=null&&(Object.assign(s,{[t]:f}),Object.assign(s,n(s)))}typeof s.lazy=="object"&&(s.lazy[t]=void 0,Object.values(s.lazy).every(f=>f===void 0)&&(s.lazy=void 0))})();return a[t]=c,c},dl=new WeakMap;function Km(t,e,r,n,s){let i=r[t.id];if(me(i,"No route found in manifest"),!t.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof t.lazy=="function"){let d=dl.get(i);if(d)return{lazyRoutePromise:d,lazyHandlerPromise:d};let h=(async()=>{me(typeof t.lazy=="function","No lazy route function found");let f=await t.lazy(),m={};for(let p in f){let v=f[p];if(v===void 0)continue;let x=hm(p),y=i[p]!==void 0&&p!=="hasErrorBoundary";x?Ae(!x,"Route property "+p+" is not a supported property to be returned from a lazy route function. This property will be ignored."):y?Ae(!y,`Route "${i.id}" has a static property "${p}" defined but its lazy function is also returning a value for this property. The lazy route property "${p}" will be ignored.`):m[p]=v}Object.assign(i,m),Object.assign(i,{...n(i),lazy:void 0})})();return dl.set(i,h),h.catch(()=>{}),{lazyRoutePromise:h,lazyHandlerPromise:h}}let a=Object.keys(t.lazy),o=[],c;for(let d of a){if(s&&s.includes(d))continue;let h=zu({key:d,route:t,manifest:r,mapRouteProperties:n});h&&(o.push(h),d===e&&(c=h))}let u=o.length>0?Promise.all(o).then(()=>{}):void 0;return u==null||u.catch(()=>{}),c==null||c.catch(()=>{}),{lazyRoutePromise:u,lazyHandlerPromise:c}}async function hl(t){let e=t.matches.filter(s=>s.shouldLoad),r={};return(await Promise.all(e.map(s=>s.resolve()))).forEach((s,i)=>{r[e[i].route.id]=s}),r}async function Jm(t){return t.matches.some(e=>e.route.middleware)?Wu(t,()=>hl(t)):hl(t)}function Wu(t,e){return Ym(t,e,n=>{if(cp(n))throw n;return n},ip,r);function r(n,s,i){if(i)return Promise.resolve(Object.assign(i.value,{[s]:{type:"error",result:n}}));{let{matches:a}=t,o=Math.min(Math.max(a.findIndex(u=>u.route.id===s),0),Math.max(a.findIndex(u=>u.shouldCallHandler()),0)),c=Gt(a,a[o].route.id).route.id;return Promise.resolve({[c]:{type:"error",result:n}})}}}async function Ym(t,e,r,n,s){let{matches:i,request:a,params:o,context:c,unstable_pattern:u}=t,d=i.flatMap(f=>f.route.middleware?f.route.middleware.map(m=>[f.route.id,m]):[]);return await Hu({request:a,params:o,context:c,unstable_pattern:u},d,e,r,n,s)}async function Hu(t,e,r,n,s,i,a=0){let{request:o}=t;if(o.signal.aborted)throw o.signal.reason??new Error(`Request aborted: ${o.method} ${o.url}`);let c=e[a];if(!c)return await r();let[u,d]=c,h,f=async()=>{if(h)throw new Error("You may only call `next()` once per middleware");try{return h={value:await Hu(t,e,r,n,s,i,a+1)},h.value}catch(m){return h={value:await i(m,u,h)},h.value}};try{let m=await d(t,f),p=m!=null?n(m):void 0;return s(p)?p:h?p??h.value:(h={value:await f()},h.value)}catch(m){return await i(m,u,h)}}function qu(t,e,r,n,s){let i=zu({key:"middleware",route:n.route,manifest:e,mapRouteProperties:t}),a=Km(n.route,Ge(r.method)?"action":"loader",e,t,s);return{middleware:i,route:a.lazyRoutePromise,handler:a.lazyHandlerPromise}}function ia(t,e,r,n,s,i,a,o,c=null,u){let d=!1,h=qu(t,e,r,s,i);return{...s,_lazyPromises:h,shouldLoad:o,shouldRevalidateArgs:c,shouldCallHandler(f){return d=!0,c?typeof u=="boolean"?Nn(s,{...c,defaultShouldRevalidate:u}):typeof f=="boolean"?Nn(s,{...c,defaultShouldRevalidate:f}):Nn(s,c):o},resolve(f){let{lazy:m,loader:p,middleware:v}=s.route,x=d||o||f&&!Ge(r.method)&&(m||p),g=v&&v.length>0&&!p&&!m;return x&&(Ge(r.method)||!g)?Zm({request:r,unstable_pattern:n,match:s,lazyHandlerPromise:h==null?void 0:h.handler,lazyRoutePromise:h==null?void 0:h.route,handlerOverride:f,scopedContext:a}):Promise.resolve({type:"data",result:void 0})}}}function Kr(t,e,r,n,s,i,a,o=null){return n.map(c=>c.route.id!==s.route.id?{...c,shouldLoad:!1,shouldRevalidateArgs:o,shouldCallHandler:()=>!1,_lazyPromises:qu(t,e,r,c,i),resolve:()=>Promise.resolve({type:"data",result:void 0})}:ia(t,e,r,ns(n),c,i,a,!0,o))}async function Xm(t,e,r,n,s,i){r.some(u=>{var d;return(d=u._lazyPromises)==null?void 0:d.middleware})&&await Promise.all(r.map(u=>{var d;return(d=u._lazyPromises)==null?void 0:d.middleware}));let a={request:e,unstable_pattern:ns(r),params:r[0].params,context:s,matches:r},c=await t({...a,fetcherKey:n,runClientMiddleware:u=>{let d=a;return Wu(d,()=>u({...d,fetcherKey:n,runClientMiddleware:()=>{throw new Error("Cannot call `runClientMiddleware()` from within an `runClientMiddleware` handler")}}))}});try{await Promise.all(r.flatMap(u=>{var d,h;return[(d=u._lazyPromises)==null?void 0:d.handler,(h=u._lazyPromises)==null?void 0:h.route]}))}catch{}return c}async function Zm({request:t,unstable_pattern:e,match:r,lazyHandlerPromise:n,lazyRoutePromise:s,handlerOverride:i,scopedContext:a}){let o,c,u=Ge(t.method),d=u?"action":"loader",h=f=>{let m,p=new Promise((g,y)=>m=y);c=()=>m(),t.signal.addEventListener("abort",c);let v=g=>typeof f!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${d}" [routeId: ${r.route.id}]`)):f({request:t,unstable_pattern:e,params:r.params,context:a},...g!==void 0?[g]:[]),x=(async()=>{try{return{type:"data",result:await(i?i(y=>v(y)):v())}}catch(g){return{type:"error",result:g}}})();return Promise.race([x,p])};try{let f=u?r.route.action:r.route.loader;if(n||s)if(f){let m,[p]=await Promise.all([h(f).catch(v=>{m=v}),n,s]);if(m!==void 0)throw m;o=p}else{await n;let m=u?r.route.action:r.route.loader;if(m)[o]=await Promise.all([h(m),s]);else if(d==="action"){let p=new URL(t.url),v=p.pathname+p.search;throw st(405,{method:t.method,pathname:v,routeId:r.route.id})}else return{type:"data",result:void 0}}else if(f)o=await h(f);else{let m=new URL(t.url),p=m.pathname+m.search;throw st(404,{pathname:p})}}catch(f){return{type:"error",result:f}}finally{c&&t.signal.removeEventListener("abort",c)}return o}async function Qm(t){let e=t.headers.get("Content-Type");return e&&/\bapplication\/json\b/.test(e)?t.body==null?null:t.json():t.text()}async function ep(t){var n,s,i,a,o;let{result:e,type:r}=t;if(Qa(e)){let c;try{c=await Qm(e)}catch(u){return{type:"error",error:u}}return r==="error"?{type:"error",error:new rs(e.status,e.statusText,c),statusCode:e.status,headers:e.headers}:{type:"data",data:c,statusCode:e.status,headers:e.headers}}return r==="error"?vl(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:(n=e.init)==null?void 0:n.status,headers:(s=e.init)!=null&&s.headers?new Headers(e.init.headers):void 0}:{type:"error",error:sp(e),statusCode:$n(e)?e.status:void 0,headers:(i=e.init)!=null&&i.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:$n(e)?e.status:void 0}:vl(e)?{type:"data",data:e.data,statusCode:(a=e.init)==null?void 0:a.status,headers:(o=e.init)!=null&&o.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function tp(t,e,r,n,s){let i=t.headers.get("Location");if(me(i,"Redirects returned/thrown from loaders/actions must have a Location header"),!Ja(i)){let a=n.slice(0,n.findIndex(o=>o.route.id===r)+1);i=na(new URL(e.url),a,s,i),t.headers.set("Location",i)}return t}function fl(t,e,r,n){let s=["about:","blob:","chrome:","chrome-untrusted:","content:","data:","devtools:","file:","filesystem:","javascript:"];if(Ja(t)){let i=t,a=i.startsWith("//")?new URL(e.protocol+i):new URL(i);if(s.includes(a.protocol))throw new Error("Invalid redirect location");let o=ot(a.pathname,r)!=null;if(a.origin===e.origin&&o)return a.pathname+a.search+a.hash}try{let i=n.createURL(t);if(s.includes(i.protocol))throw new Error("Invalid redirect location")}catch{}return t}function Lr(t,e,r,n){let s=t.createURL(Gu(e)).toString(),i={signal:r};if(n&&Ge(n.formMethod)){let{formMethod:a,formEncType:o}=n;i.method=a.toUpperCase(),o==="application/json"?(i.headers=new Headers({"Content-Type":o}),i.body=JSON.stringify(n.json)):o==="text/plain"?i.body=n.text:o==="application/x-www-form-urlencoded"&&n.formData?i.body=aa(n.formData):i.body=n.formData}return new Request(s,i)}function aa(t){let e=new URLSearchParams;for(let[r,n]of t.entries())e.append(r,typeof n=="string"?n:n.name);return e}function ml(t){let e=new FormData;for(let[r,n]of t.entries())e.append(r,n);return e}function rp(t,e,r,n=!1,s=!1){let i={},a=null,o,c=!1,u={},d=r&&et(r[1])?r[1].error:void 0;return t.forEach(h=>{if(!(h.route.id in e))return;let f=h.route.id,m=e[f];if(me(!mr(m),"Cannot handle redirect results in processLoaderData"),et(m)){let p=m.error;if(d!==void 0&&(p=d,d=void 0),a=a||{},s)a[f]=p;else{let v=Gt(t,f);a[v.route.id]==null&&(a[v.route.id]=p)}n||(i[f]=Uu),c||(c=!0,o=$n(m.error)?m.error.status:500),m.headers&&(u[f]=m.headers)}else i[f]=m.data,m.statusCode&&m.statusCode!==200&&!c&&(o=m.statusCode),m.headers&&(u[f]=m.headers)}),d!==void 0&&r&&(a={[r[0]]:d},r[2]&&(i[r[2]]=void 0)),{loaderData:i,errors:a,statusCode:o||200,loaderHeaders:u}}function pl(t,e,r,n,s,i){let{loaderData:a,errors:o}=rp(e,r,n);return s.filter(c=>!c.matches||c.matches.some(u=>u.shouldLoad)).forEach(c=>{let{key:u,match:d,controller:h}=c;if(h&&h.signal.aborted)return;let f=i[u];if(me(f,"Did not find corresponding fetcher result"),et(f)){let m=Gt(t.matches,d==null?void 0:d.route.id);o&&o[m.route.id]||(o={...o,[m.route.id]:f.error}),t.fetchers.delete(u)}else if(mr(f))me(!1,"Unhandled fetcher revalidation redirect");else{let m=Ot(f.data);t.fetchers.set(u,m)}}),{loaderData:a,errors:o}}function gl(t,e,r,n){let s=Object.entries(e).filter(([,i])=>i!==Uu).reduce((i,[a,o])=>(i[a]=o,i),{});for(let i of r){let a=i.route.id;if(!e.hasOwnProperty(a)&&t.hasOwnProperty(a)&&i.route.loader&&(s[a]=t[a]),n&&n.hasOwnProperty(a))break}return s}function yl(t){return t?et(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function Gt(t,e){return(e?t.slice(0,t.findIndex(n=>n.route.id===e)+1):[...t]).reverse().find(n=>n.route.hasErrorBoundary===!0)||t[0]}function ks(t){let e=t.length===1?t[0]:t.find(r=>r.index||!r.path||r.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function st(t,{pathname:e,routeId:r,method:n,type:s,message:i}={}){let a="Unknown Server Error",o="Unknown @remix-run/router error";return t===400?(a="Bad Request",n&&e&&r?o=`You made a ${n} request to "${e}" but did not provide a \`loader\` for route "${r}", so there is no way to handle the request.`:s==="invalid-body"&&(o="Unable to encode submission body")):t===403?(a="Forbidden",o=`Route "${r}" does not match URL "${e}"`):t===404?(a="Not Found",o=`No route matches URL "${e}"`):t===405&&(a="Method Not Allowed",n&&e&&r?o=`You made a ${n.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${r}", so there is no way to handle the request.`:n&&(o=`Invalid request method "${n.toUpperCase()}"`)),new rs(t||500,a,new Error(o),!0)}function Es(t){let e=Object.entries(t);for(let r=e.length-1;r>=0;r--){let[n,s]=e[r];if(mr(s))return{key:n,result:s}}}function Gu(t){let e=typeof t=="string"?Qt(t):t;return Nt({...e,hash:""})}function np(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function sp(t){var e,r;return new rs(((e=t.init)==null?void 0:e.status)??500,((r=t.init)==null?void 0:r.statusText)??"Internal Server Error",t.data)}function ip(t){return t!=null&&typeof t=="object"&&Object.entries(t).every(([e,r])=>typeof e=="string"&&ap(r))}function ap(t){return t!=null&&typeof t=="object"&&"type"in t&&"result"in t&&(t.type==="data"||t.type==="error")}function op(t){return Qa(t.result)&&$u.has(t.result.status)}function et(t){return t.type==="error"}function mr(t){return(t&&t.type)==="redirect"}function vl(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function Qa(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function lp(t){return $u.has(t)}function cp(t){return Qa(t)&&lp(t.status)&&t.headers.has("Location")}function up(t){return Bm.has(t.toUpperCase())}function Ge(t){return Fm.has(t.toUpperCase())}function eo(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function Bs(t,e){let r=typeof e=="string"?Qt(e).search:e.search;if(t[t.length-1].route.index&&eo(r||""))return t[t.length-1];let n=Iu(t);return n[n.length-1]}function bl(t){let{formMethod:e,formAction:r,formEncType:n,text:s,formData:i,json:a}=t;if(!(!e||!r||!n)){if(s!=null)return{formMethod:e,formAction:r,formEncType:n,formData:void 0,json:void 0,text:s};if(i!=null)return{formMethod:e,formAction:r,formEncType:n,formData:i,json:void 0,text:void 0};if(a!==void 0)return{formMethod:e,formAction:r,formEncType:n,formData:void 0,json:a,text:void 0}}}function Ni(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function dp(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function yn(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function hp(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function Ot(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function fp(t,e){try{let r=t.sessionStorage.getItem(Bu);if(r){let n=JSON.parse(r);for(let[s,i]of Object.entries(n||{}))i&&Array.isArray(i)&&e.set(s,new Set(i||[]))}}catch{}}function mp(t,e){if(e.size>0){let r={};for(let[n,s]of e)r[n]=[...s];try{t.sessionStorage.setItem(Bu,JSON.stringify(r))}catch(n){Ae(!1,`Failed to save applied view transitions in sessionStorage (${n}).`)}}}function xl(){let t,e,r=new Promise((n,s)=>{t=async i=>{n(i);try{await r}catch{}},e=async i=>{s(i);try{await r}catch{}}});return{promise:r,resolve:t,reject:e}}var xr=w.createContext(null);xr.displayName="DataRouter";var ss=w.createContext(null);ss.displayName="DataRouterState";var Ku=w.createContext(!1);function pp(){return w.useContext(Ku)}var to=w.createContext({isTransitioning:!1});to.displayName="ViewTransition";var Ju=w.createContext(new Map);Ju.displayName="Fetchers";var gp=w.createContext(null);gp.displayName="Await";var lt=w.createContext(null);lt.displayName="Navigation";var ci=w.createContext(null);ci.displayName="Location";var wt=w.createContext({outlet:null,matches:[],isDataRoute:!1});wt.displayName="Route";var ro=w.createContext(null);ro.displayName="RouteError";var Yu="REACT_ROUTER_ERROR",yp="REDIRECT",vp="ROUTE_ERROR_RESPONSE";function bp(t){if(t.startsWith(`${Yu}:${yp}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function xp(t){if(t.startsWith(`${Yu}:${vp}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new rs(e.status,e.statusText,e.data)}catch{}}function wp(t,{relative:e}={}){me(is(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=w.useContext(lt),{hash:s,pathname:i,search:a}=as(t,{relative:e}),o=i;return r!=="/"&&(o=i==="/"?r:kt([r,i])),n.createHref({pathname:o,search:a,hash:s})}function is(){return w.useContext(ci)!=null}function Ct(){return me(is(),"useLocation() may be used only in the context of a <Router> component."),w.useContext(ci).location}var Xu="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Zu(t){w.useContext(lt).static||w.useLayoutEffect(t)}function Pt(){let{isDataRoute:t}=w.useContext(wt);return t?Lp():_p()}function _p(){me(is(),"useNavigate() may be used only in the context of a <Router> component.");let t=w.useContext(xr),{basename:e,navigator:r}=w.useContext(lt),{matches:n}=w.useContext(wt),{pathname:s}=Ct(),i=JSON.stringify(Ya(n)),a=w.useRef(!1);return Zu(()=>{a.current=!0}),w.useCallback((c,u={})=>{if(Ae(a.current,Xu),!a.current)return;if(typeof c=="number"){r.go(c);return}let d=Xa(c,JSON.parse(i),s,u.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:kt([e,d.pathname])),(u.replace?r.replace:r.push)(d,u.state,u)},[e,r,i,s,t])}var Sp=w.createContext(null);function jp(t){let e=w.useContext(wt).outlet;return w.useMemo(()=>e&&w.createElement(Sp.Provider,{value:t},e),[e,t])}function Qu(){let{matches:t}=w.useContext(wt),e=t[t.length-1];return e?e.params:{}}function as(t,{relative:e}={}){let{matches:r}=w.useContext(wt),{pathname:n}=Ct(),s=JSON.stringify(Ya(r));return w.useMemo(()=>Xa(t,JSON.parse(s),n,e==="path"),[t,s,n,e])}function kp(t,e,r,n,s){me(is(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=w.useContext(lt),{matches:a}=w.useContext(wt),o=a[a.length-1],c=o?o.params:{},u=o?o.pathname:"/",d=o?o.pathnameBase:"/",h=o&&o.route;{let y=h&&h.path||"";td(u,!h||y.endsWith("*")||y.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${y}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${y}"> to <Route path="${y==="/"?"*":`${y}/*`}">.`)}let f=Ct(),m;m=f;let p=m.pathname||"/",v=p;if(d!=="/"){let y=d.replace(/^\//,"").split("/");v="/"+p.replace(/^\//,"").split("/").slice(y.length).join("/")}let x=qt(t,{pathname:v});return Ae(h||x!=null,`No routes matched location "${m.pathname}${m.search}${m.hash}" `),Ae(x==null||x[x.length-1].route.element!==void 0||x[x.length-1].route.Component!==void 0||x[x.length-1].route.lazy!==void 0,`Matched leaf route at location "${m.pathname}${m.search}${m.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),Pp(x&&x.map(y=>Object.assign({},y,{params:Object.assign({},c,y.params),pathname:kt([d,i.encodeLocation?i.encodeLocation(y.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?d:kt([d,i.encodeLocation?i.encodeLocation(y.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:y.pathnameBase])})),a,r,n,s)}function Ep(){let t=Op(),e=$n(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,n="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:n},i={padding:"2px 4px",backgroundColor:n},a=null;return console.error("Error handled by React Router default ErrorBoundary:",t),a=w.createElement(w.Fragment,null,w.createElement("p",null," Hey developer "),w.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",w.createElement("code",{style:i},"ErrorBoundary")," or"," ",w.createElement("code",{style:i},"errorElement")," prop on your route.")),w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},e),r?w.createElement("pre",{style:s},r):null,a)}var Np=w.createElement(Ep,null),ed=class extends w.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const r=xp(t.digest);r&&(t=r)}let e=t!==void 0?w.createElement(wt.Provider,{value:this.props.routeContext},w.createElement(ro.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?w.createElement(Tp,{error:t},e):e}};ed.contextType=Ku;var Ti=new WeakMap;function Tp({children:t,error:e}){let{basename:r}=w.useContext(lt);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let n=bp(e.digest);if(n){let s=Ti.get(e);if(s)throw s;let i=Lu(n.location,r);if(Ou&&!Ti.get(e))if(i.isExternal||n.reloadDocument)window.location.href=i.absoluteURL||i.to;else{const a=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(i.to,{replace:n.replace}));throw Ti.set(e,a),a}return w.createElement("meta",{httpEquiv:"refresh",content:`0;url=${i.absoluteURL||i.to}`})}}return t}function Cp({routeContext:t,match:e,children:r}){let n=w.useContext(xr);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),w.createElement(wt.Provider,{value:t},r)}function Pp(t,e=[],r=null,n=null,s=null){if(t==null){if(!r)return null;if(r.errors)t=r.matches;else if(e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let i=t,a=r==null?void 0:r.errors;if(a!=null){let d=i.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);me(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),i=i.slice(0,Math.min(i.length,d+1))}let o=!1,c=-1;if(r)for(let d=0;d<i.length;d++){let h=i[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=d),h.route.id){let{loaderData:f,errors:m}=r,p=h.route.loader&&!f.hasOwnProperty(h.route.id)&&(!m||m[h.route.id]===void 0);if(h.route.lazy||p){o=!0,c>=0?i=i.slice(0,c+1):i=[i[0]];break}}}let u=r&&n?(d,h)=>{var f,m;n(d,{location:r.location,params:((m=(f=r.matches)==null?void 0:f[0])==null?void 0:m.params)??{},unstable_pattern:ns(r.matches),errorInfo:h})}:void 0;return i.reduceRight((d,h,f)=>{let m,p=!1,v=null,x=null;r&&(m=a&&h.route.id?a[h.route.id]:void 0,v=h.route.errorElement||Np,o&&(c<0&&f===0?(td("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),p=!0,x=null):c===f&&(p=!0,x=h.route.hydrateFallbackElement||null)));let g=e.concat(i.slice(0,f+1)),y=()=>{let b;return m?b=v:p?b=x:h.route.Component?b=w.createElement(h.route.Component,null):h.route.element?b=h.route.element:b=d,w.createElement(Cp,{match:h,routeContext:{outlet:d,matches:g,isDataRoute:r!=null},children:b})};return r&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?w.createElement(ed,{location:r.location,revalidation:r.revalidation,component:v,error:m,children:y(),routeContext:{outlet:null,matches:g,isDataRoute:!0},onError:u}):y()},null)}function no(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Rp(t){let e=w.useContext(xr);return me(e,no(t)),e}function Ap(t){let e=w.useContext(ss);return me(e,no(t)),e}function Dp(t){let e=w.useContext(wt);return me(e,no(t)),e}function so(t){let e=Dp(t),r=e.matches[e.matches.length-1];return me(r.route.id,`${t} can only be used on routes that contain a unique "id"`),r.route.id}function Ip(){return so("useRouteId")}function Op(){var n;let t=w.useContext(ro),e=Ap("useRouteError"),r=so("useRouteError");return t!==void 0?t:(n=e.errors)==null?void 0:n[r]}function Lp(){let{router:t}=Rp("useNavigate"),e=so("useNavigate"),r=w.useRef(!1);return Zu(()=>{r.current=!0}),w.useCallback(async(s,i={})=>{Ae(r.current,Xu),r.current&&(typeof s=="number"?await t.navigate(s):await t.navigate(s,{fromRouteId:e,...i}))},[t,e])}var wl={};function td(t,e,r){!e&&!wl[t]&&(wl[t]=!0,Ae(!1,r))}var _l={};function Sl(t,e){!t&&!_l[e]&&(_l[e]=!0,console.warn(e))}var Mp="useOptimistic",jl=nm[Mp],Fp=()=>{};function $p(t){return jl?jl(t):[t,Fp]}function Bp(t){let e={hasErrorBoundary:t.hasErrorBoundary||t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&(t.element&&Ae(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:w.createElement(t.Component),Component:void 0})),t.HydrateFallback&&(t.hydrateFallbackElement&&Ae(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:w.createElement(t.HydrateFallback),HydrateFallback:void 0})),t.ErrorBoundary&&(t.errorElement&&Ae(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:w.createElement(t.ErrorBoundary),ErrorBoundary:void 0})),e}var Up=["HydrateFallback","hydrateFallbackElement"],Vp=class{constructor(){this.status="pending",this.promise=new Promise((e,r)=>{this.resolve=n=>{this.status==="pending"&&(this.status="resolved",e(n))},this.reject=n=>{this.status==="pending"&&(this.status="rejected",r(n))}})}};function zp({router:t,flushSync:e,onError:r,unstable_useTransitions:n}){n=pp()||n;let[i,a]=w.useState(t.state),[o,c]=$p(i),[u,d]=w.useState(),[h,f]=w.useState({isTransitioning:!1}),[m,p]=w.useState(),[v,x]=w.useState(),[g,y]=w.useState(),b=w.useRef(new Map),j=w.useCallback((S,{deletedFetchers:N,newErrors:D,flushSync:L,viewTransitionOpts:B})=>{D&&r&&Object.values(D).forEach(X=>{var le;return r(X,{location:S.location,params:((le=S.matches[0])==null?void 0:le.params)??{},unstable_pattern:ns(S.matches)})}),S.fetchers.forEach((X,le)=>{X.data!==void 0&&b.current.set(le,X.data)}),N.forEach(X=>b.current.delete(X)),Sl(L===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let F=t.window!=null&&t.window.document!=null&&typeof t.window.document.startViewTransition=="function";if(Sl(B==null||F,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!B||!F){e&&L?e(()=>a(S)):n===!1?a(S):w.startTransition(()=>{n===!0&&c(X=>kl(X,S)),a(S)});return}if(e&&L){e(()=>{v&&(m==null||m.resolve(),v.skipTransition()),f({isTransitioning:!0,flushSync:!0,currentLocation:B.currentLocation,nextLocation:B.nextLocation})});let X=t.window.document.startViewTransition(()=>{e(()=>a(S))});X.finished.finally(()=>{e(()=>{p(void 0),x(void 0),d(void 0),f({isTransitioning:!1})})}),e(()=>x(X));return}v?(m==null||m.resolve(),v.skipTransition(),y({state:S,currentLocation:B.currentLocation,nextLocation:B.nextLocation})):(d(S),f({isTransitioning:!0,flushSync:!1,currentLocation:B.currentLocation,nextLocation:B.nextLocation}))},[t.window,e,v,m,n,c,r]);w.useLayoutEffect(()=>t.subscribe(j),[t,j]),w.useEffect(()=>{h.isTransitioning&&!h.flushSync&&p(new Vp)},[h]),w.useEffect(()=>{if(m&&u&&t.window){let S=u,N=m.promise,D=t.window.document.startViewTransition(async()=>{n===!1?a(S):w.startTransition(()=>{n===!0&&c(L=>kl(L,S)),a(S)}),await N});D.finished.finally(()=>{p(void 0),x(void 0),d(void 0),f({isTransitioning:!1})}),x(D)}},[u,m,t.window,n,c]),w.useEffect(()=>{m&&u&&o.location.key===u.location.key&&m.resolve()},[m,v,o.location,u]),w.useEffect(()=>{!h.isTransitioning&&g&&(d(g.state),f({isTransitioning:!0,flushSync:!1,currentLocation:g.currentLocation,nextLocation:g.nextLocation}),y(void 0))},[h.isTransitioning,g]);let k=w.useMemo(()=>({createHref:t.createHref,encodeLocation:t.encodeLocation,go:S=>t.navigate(S),push:(S,N,D)=>t.navigate(S,{state:N,preventScrollReset:D==null?void 0:D.preventScrollReset}),replace:(S,N,D)=>t.navigate(S,{replace:!0,state:N,preventScrollReset:D==null?void 0:D.preventScrollReset})}),[t]),T=t.basename||"/",_=w.useMemo(()=>({router:t,navigator:k,static:!1,basename:T,onError:r}),[t,k,T,r]);return w.createElement(w.Fragment,null,w.createElement(xr.Provider,{value:_},w.createElement(ss.Provider,{value:o},w.createElement(Ju.Provider,{value:b.current},w.createElement(to.Provider,{value:h},w.createElement(qp,{basename:T,location:o.location,navigationType:o.historyAction,navigator:k,unstable_useTransitions:n},w.createElement(Wp,{routes:t.routes,future:t.future,state:o,onError:r})))))),null)}function kl(t,e){return{...t,navigation:e.navigation.state!=="idle"?e.navigation:t.navigation,revalidation:e.revalidation!=="idle"?e.revalidation:t.revalidation,actionData:e.navigation.state!=="submitting"?e.actionData:t.actionData,fetchers:e.fetchers}}var Wp=w.memo(Hp);function Hp({routes:t,future:e,state:r,onError:n}){return kp(t,void 0,r,n,e)}function rd(t){return jp(t.context)}function qp({basename:t="/",children:e=null,location:r,navigationType:n="POP",navigator:s,static:i=!1,unstable_useTransitions:a}){me(!is(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),c=w.useMemo(()=>({basename:o,navigator:s,static:i,unstable_useTransitions:a,future:{}}),[o,s,i,a]);typeof r=="string"&&(r=Qt(r));let{pathname:u="/",search:d="",hash:h="",state:f=null,key:m="default"}=r,p=w.useMemo(()=>{let v=ot(u,o);return v==null?null:{location:{pathname:v,search:d,hash:h,state:f,key:m},navigationType:n}},[o,u,d,h,f,m,n]);return Ae(p!=null,`<Router basename="${o}"> is not able to match the URL "${u}${d}${h}" because it does not start with the basename, so the <Router> won't render anything.`),p==null?null:w.createElement(lt.Provider,{value:c},w.createElement(ci.Provider,{children:e,value:p}))}var Us="get",Vs="application/x-www-form-urlencoded";function ui(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function Gp(t){return ui(t)&&t.tagName.toLowerCase()==="button"}function Kp(t){return ui(t)&&t.tagName.toLowerCase()==="form"}function Jp(t){return ui(t)&&t.tagName.toLowerCase()==="input"}function Yp(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Xp(t,e){return t.button===0&&(!e||e==="_self")&&!Yp(t)}function oa(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,r)=>{let n=t[r];return e.concat(Array.isArray(n)?n.map(s=>[r,s]):[[r,n]])},[]))}function Zp(t,e){let r=oa(t);return e&&e.forEach((n,s)=>{r.has(s)||e.getAll(s).forEach(i=>{r.append(s,i)})}),r}var Ns=null;function Qp(){if(Ns===null)try{new FormData(document.createElement("form"),0),Ns=!1}catch{Ns=!0}return Ns}var eg=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ci(t){return t!=null&&!eg.has(t)?(Ae(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Vs}"`),null):t}function tg(t,e){let r,n,s,i,a;if(Kp(t)){let o=t.getAttribute("action");n=o?ot(o,e):null,r=t.getAttribute("method")||Us,s=Ci(t.getAttribute("enctype"))||Vs,i=new FormData(t)}else if(Gp(t)||Jp(t)&&(t.type==="submit"||t.type==="image")){let o=t.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=t.getAttribute("formaction")||o.getAttribute("action");if(n=c?ot(c,e):null,r=t.getAttribute("formmethod")||o.getAttribute("method")||Us,s=Ci(t.getAttribute("formenctype"))||Ci(o.getAttribute("enctype"))||Vs,i=new FormData(o,t),!Qp()){let{name:u,type:d,value:h}=t;if(d==="image"){let f=u?`${u}.`:"";i.append(`${f}x`,"0"),i.append(`${f}y`,"0")}else u&&i.append(u,h)}}else{if(ui(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Us,n=null,s=Vs,a=t}return i&&s==="text/plain"&&(a=i,i=void 0),{action:n,method:r.toLowerCase(),encType:s,formData:i,body:a}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function io(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function rg(t,e,r,n){let s=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r?s.pathname.endsWith("/")?s.pathname=`${s.pathname}_.${n}`:s.pathname=`${s.pathname}.${n}`:s.pathname==="/"?s.pathname=`_root.${n}`:e&&ot(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function ng(t,e){if(t.id in e)return e[t.id];try{let r=await import(t.module);return e[t.id]=r,r}catch(r){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function sg(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function ig(t,e,r){let n=await Promise.all(t.map(async s=>{let i=e.routes[s.route.id];if(i){let a=await ng(i,r);return a.links?a.links():[]}return[]}));return cg(n.flat(1).filter(sg).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function El(t,e,r,n,s,i){let a=(c,u)=>r[u]?c.route.id!==r[u].route.id:!0,o=(c,u)=>{var d;return r[u].pathname!==c.pathname||((d=r[u].route.path)==null?void 0:d.endsWith("*"))&&r[u].params["*"]!==c.params["*"]};return i==="assets"?e.filter((c,u)=>a(c,u)||o(c,u)):i==="data"?e.filter((c,u)=>{var h;let d=n.routes[c.route.id];if(!d||!d.hasLoader)return!1;if(a(c,u)||o(c,u))return!0;if(c.route.shouldRevalidate){let f=c.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((h=r[0])==null?void 0:h.params)||{},nextUrl:new URL(t,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof f=="boolean")return f}return!0}):[]}function ag(t,e,{includeHydrateFallback:r}={}){return og(t.map(n=>{let s=e.routes[n.route.id];if(!s)return[];let i=[s.module];return s.clientActionModule&&(i=i.concat(s.clientActionModule)),s.clientLoaderModule&&(i=i.concat(s.clientLoaderModule)),r&&s.hydrateFallbackModule&&(i=i.concat(s.hydrateFallbackModule)),s.imports&&(i=i.concat(s.imports)),i}).flat(1))}function og(t){return[...new Set(t)]}function lg(t){let e={},r=Object.keys(t).sort();for(let n of r)e[n]=t[n];return e}function cg(t,e){let r=new Set;return new Set(e),t.reduce((n,s)=>{let i=JSON.stringify(lg(s));return r.has(i)||(r.add(i),n.push({key:i,link:s})),n},[])}function nd(){let t=w.useContext(xr);return io(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function ug(){let t=w.useContext(ss);return io(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var ao=w.createContext(void 0);ao.displayName="FrameworkContext";function sd(){let t=w.useContext(ao);return io(t,"You must render this element inside a <HydratedRouter> element"),t}function dg(t,e){let r=w.useContext(ao),[n,s]=w.useState(!1),[i,a]=w.useState(!1),{onFocus:o,onBlur:c,onMouseEnter:u,onMouseLeave:d,onTouchStart:h}=e,f=w.useRef(null);w.useEffect(()=>{if(t==="render"&&a(!0),t==="viewport"){let v=g=>{g.forEach(y=>{a(y.isIntersecting)})},x=new IntersectionObserver(v,{threshold:.5});return f.current&&x.observe(f.current),()=>{x.disconnect()}}},[t]),w.useEffect(()=>{if(n){let v=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(v)}}},[n]);let m=()=>{s(!0)},p=()=>{s(!1),a(!1)};return r?t!=="intent"?[i,f,{}]:[i,f,{onFocus:vn(o,m),onBlur:vn(c,p),onMouseEnter:vn(u,m),onMouseLeave:vn(d,p),onTouchStart:vn(h,m)}]:[!1,f,{}]}function vn(t,e){return r=>{t&&t(r),r.defaultPrevented||e(r)}}function hg({page:t,...e}){let{router:r}=nd(),n=w.useMemo(()=>qt(r.routes,t,r.basename),[r.routes,t,r.basename]);return n?w.createElement(mg,{page:t,matches:n,...e}):null}function fg(t){let{manifest:e,routeModules:r}=sd(),[n,s]=w.useState([]);return w.useEffect(()=>{let i=!1;return ig(t,e,r).then(a=>{i||s(a)}),()=>{i=!0}},[t,e,r]),n}function mg({page:t,matches:e,...r}){let n=Ct(),{future:s,manifest:i,routeModules:a}=sd(),{basename:o}=nd(),{loaderData:c,matches:u}=ug(),d=w.useMemo(()=>El(t,e,u,i,n,"data"),[t,e,u,i,n]),h=w.useMemo(()=>El(t,e,u,i,n,"assets"),[t,e,u,i,n]),f=w.useMemo(()=>{if(t===n.pathname+n.search+n.hash)return[];let v=new Set,x=!1;if(e.forEach(y=>{var j;let b=i.routes[y.route.id];!b||!b.hasLoader||(!d.some(k=>k.route.id===y.route.id)&&y.route.id in c&&((j=a[y.route.id])!=null&&j.shouldRevalidate)||b.hasClientLoader?x=!0:v.add(y.route.id))}),v.size===0)return[];let g=rg(t,o,s.unstable_trailingSlashAwareDataRequests,"data");return x&&v.size>0&&g.searchParams.set("_routes",e.filter(y=>v.has(y.route.id)).map(y=>y.route.id).join(",")),[g.pathname+g.search]},[o,s.unstable_trailingSlashAwareDataRequests,c,n,i,d,e,t,a]),m=w.useMemo(()=>ag(h,i),[h,i]),p=fg(h);return w.createElement(w.Fragment,null,f.map(v=>w.createElement("link",{key:v,rel:"prefetch",as:"fetch",href:v,...r})),m.map(v=>w.createElement("link",{key:v,rel:"modulepreload",href:v,...r})),p.map(({key:v,link:x})=>w.createElement("link",{key:v,nonce:r.nonce,...x,crossOrigin:x.crossOrigin??r.crossOrigin})))}function pg(...t){return e=>{t.forEach(r=>{typeof r=="function"?r(e):r!=null&&(r.current=e)})}}var gg=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{gg&&(window.__reactRouterVersion="7.13.0")}catch{}function yg(t,e){return Wm({basename:e==null?void 0:e.basename,getContext:e==null?void 0:e.getContext,future:e==null?void 0:e.future,history:am({window:e==null?void 0:e.window}),hydrationData:vg(),routes:t,mapRouteProperties:Bp,hydrationRouteProperties:Up,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window,unstable_instrumentations:e==null?void 0:e.unstable_instrumentations}).initialize()}function vg(){let t=window==null?void 0:window.__staticRouterHydrationData;return t&&t.errors&&(t={...t,errors:bg(t.errors)}),t}function bg(t){if(!t)return null;let e=Object.entries(t),r={};for(let[n,s]of e)if(s&&s.__type==="RouteErrorResponse")r[n]=new rs(s.status,s.statusText,s.data,s.internal===!0);else if(s&&s.__type==="Error"){if(s.__subType){let i=window[s.__subType];if(typeof i=="function")try{let a=new i(s.message);a.stack="",r[n]=a}catch{}}if(r[n]==null){let i=new Error(s.message);i.stack="",r[n]=i}}else r[n]=s;return r}var id=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Re=w.forwardRef(function({onClick:e,discover:r="render",prefetch:n="none",relative:s,reloadDocument:i,replace:a,state:o,target:c,to:u,preventScrollReset:d,viewTransition:h,unstable_defaultShouldRevalidate:f,...m},p){let{basename:v,unstable_useTransitions:x}=w.useContext(lt),g=typeof u=="string"&&id.test(u),y=Lu(u,v);u=y.to;let b=wp(u,{relative:s}),[j,k,T]=dg(n,m),_=Sg(u,{replace:a,state:o,target:c,preventScrollReset:d,relative:s,viewTransition:h,unstable_defaultShouldRevalidate:f,unstable_useTransitions:x});function S(D){e&&e(D),D.defaultPrevented||_(D)}let N=w.createElement("a",{...m,...T,href:y.absoluteURL||b,onClick:y.isExternal||i?e:S,ref:pg(p,k),target:c,"data-discover":!g&&r==="render"?"true":void 0});return j&&!g?w.createElement(w.Fragment,null,N,w.createElement(hg,{page:b})):N});Re.displayName="Link";var xg=w.forwardRef(function({"aria-current":e="page",caseSensitive:r=!1,className:n="",end:s=!1,style:i,to:a,viewTransition:o,children:c,...u},d){let h=as(a,{relative:u.relative}),f=Ct(),m=w.useContext(ss),{navigator:p,basename:v}=w.useContext(lt),x=m!=null&&Cg(h)&&o===!0,g=p.encodeLocation?p.encodeLocation(h).pathname:h.pathname,y=f.pathname,b=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;r||(y=y.toLowerCase(),b=b?b.toLowerCase():null,g=g.toLowerCase()),b&&v&&(b=ot(b,v)||b);const j=g!=="/"&&g.endsWith("/")?g.length-1:g.length;let k=y===g||!s&&y.startsWith(g)&&y.charAt(j)==="/",T=b!=null&&(b===g||!s&&b.startsWith(g)&&b.charAt(g.length)==="/"),_={isActive:k,isPending:T,isTransitioning:x},S=k?e:void 0,N;typeof n=="function"?N=n(_):N=[n,k?"active":null,T?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let D=typeof i=="function"?i(_):i;return w.createElement(Re,{...u,"aria-current":S,className:N,ref:d,style:D,to:a,viewTransition:o},typeof c=="function"?c(_):c)});xg.displayName="NavLink";var wg=w.forwardRef(({discover:t="render",fetcherKey:e,navigate:r,reloadDocument:n,replace:s,state:i,method:a=Us,action:o,onSubmit:c,relative:u,preventScrollReset:d,viewTransition:h,unstable_defaultShouldRevalidate:f,...m},p)=>{let{unstable_useTransitions:v}=w.useContext(lt),x=Ng(),g=Tg(o,{relative:u}),y=a.toLowerCase()==="get"?"get":"post",b=typeof o=="string"&&id.test(o),j=k=>{if(c&&c(k),k.defaultPrevented)return;k.preventDefault();let T=k.nativeEvent.submitter,_=(T==null?void 0:T.getAttribute("formmethod"))||a,S=()=>x(T||k.currentTarget,{fetcherKey:e,method:_,navigate:r,replace:s,state:i,relative:u,preventScrollReset:d,viewTransition:h,unstable_defaultShouldRevalidate:f});v&&r!==!1?w.startTransition(()=>S()):S()};return w.createElement("form",{ref:p,method:y,action:g,onSubmit:n?c:j,...m,"data-discover":!b&&t==="render"?"true":void 0})});wg.displayName="Form";function _g(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ad(t){let e=w.useContext(xr);return me(e,_g(t)),e}function Sg(t,{target:e,replace:r,state:n,preventScrollReset:s,relative:i,viewTransition:a,unstable_defaultShouldRevalidate:o,unstable_useTransitions:c}={}){let u=Pt(),d=Ct(),h=as(t,{relative:i});return w.useCallback(f=>{if(Xp(f,e)){f.preventDefault();let m=r!==void 0?r:Nt(d)===Nt(h),p=()=>u(t,{replace:m,state:n,preventScrollReset:s,relative:i,viewTransition:a,unstable_defaultShouldRevalidate:o});c?w.startTransition(()=>p()):p()}},[d,u,h,r,n,e,t,s,i,a,o,c])}function jg(t){Ae(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=w.useRef(oa(t)),r=w.useRef(!1),n=Ct(),s=w.useMemo(()=>Zp(n.search,r.current?null:e.current),[n.search]),i=Pt(),a=w.useCallback((o,c)=>{const u=oa(typeof o=="function"?o(new URLSearchParams(s)):o);r.current=!0,i("?"+u,c)},[i,s]);return[s,a]}var kg=0,Eg=()=>`__${String(++kg)}__`;function Ng(){let{router:t}=ad("useSubmit"),{basename:e}=w.useContext(lt),r=Ip(),n=t.fetch,s=t.navigate;return w.useCallback(async(i,a={})=>{let{action:o,method:c,encType:u,formData:d,body:h}=tg(i,e);if(a.navigate===!1){let f=a.fetcherKey||Eg();await n(f,r,a.action||o,{unstable_defaultShouldRevalidate:a.unstable_defaultShouldRevalidate,preventScrollReset:a.preventScrollReset,formData:d,body:h,formMethod:a.method||c,formEncType:a.encType||u,flushSync:a.flushSync})}else await s(a.action||o,{unstable_defaultShouldRevalidate:a.unstable_defaultShouldRevalidate,preventScrollReset:a.preventScrollReset,formData:d,body:h,formMethod:a.method||c,formEncType:a.encType||u,replace:a.replace,state:a.state,fromRouteId:r,flushSync:a.flushSync,viewTransition:a.viewTransition})},[n,s,e,r])}function Tg(t,{relative:e}={}){let{basename:r}=w.useContext(lt),n=w.useContext(wt);me(n,"useFormAction must be used inside a RouteContext");let[s]=n.matches.slice(-1),i={...as(t||".",{relative:e})},a=Ct();if(t==null){i.search=a.search;let o=new URLSearchParams(i.search),c=o.getAll("index");if(c.some(d=>d==="")){o.delete("index"),c.filter(h=>h).forEach(h=>o.append("index",h));let d=o.toString();i.search=d?`?${d}`:""}}return(!t||t===".")&&s.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(i.pathname=i.pathname==="/"?r:kt([r,i.pathname])),Nt(i)}function Cg(t,{relative:e}={}){let r=w.useContext(to);me(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=ad("useViewTransitionState"),s=as(t,{relative:e});if(!r.isTransitioning)return!1;let i=ot(r.currentLocation.pathname,n)||r.currentLocation.pathname,a=ot(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Js(s.pathname,a)!=null||Js(s.pathname,i)!=null}/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pg=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Rg=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,n)=>n?n.toUpperCase():r.toLowerCase()),Nl=t=>{const e=Rg(t);return e.charAt(0).toUpperCase()+e.slice(1)},od=(...t)=>t.filter((e,r,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===r).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Ag={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dg=w.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:i,iconNode:a,...o},c)=>w.createElement("svg",{ref:c,...Ag,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:od("lucide",s),...o},[...a.map(([u,d])=>w.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oe=(t,e)=>{const r=w.forwardRef(({className:n,...s},i)=>w.createElement(Dg,{ref:i,iconNode:e,className:od(`lucide-${Pg(Nl(t))}`,`lucide-${t}`,n),...s}));return r.displayName=Nl(t),r};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ig=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],ld=oe("arrow-left",Ig);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Og=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],di=oe("arrow-right",Og);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lg=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Mg=oe("check",Lg);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fg=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Tl=oe("circle-alert",Fg);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $g=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Tn=oe("circle-check",$g);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bg=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],la=oe("clock",Bg);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ug=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],cd=oe("copy",Ug);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vg=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],zg=oe("dollar-sign",Vg);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wg=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],ca=oe("eye-off",Wg);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hg=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Ys=oe("eye",Hg);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qg=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],Gg=oe("facebook",qg);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kg=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Jg=oe("funnel",Kg);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yg=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],Cn=oe("globe",Yg);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xg=[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]],Zg=oe("headphones",Xg);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qg=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],ey=oe("house",Qg);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ty=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],ry=oe("instagram",ty);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ny=[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]],sy=oe("linkedin",ny);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iy=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],ua=oe("lock",iy);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ay=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],oo=oe("mail",ay);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oy=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Xr=oe("map-pin",oy);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ly=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],cy=oe("menu",ly);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uy=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],dy=oe("message-circle",uy);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hy=[["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}],["path",{d:"m17 13 5 5m-5 0 5-5",key:"im3w4b"}]],fy=oe("package-x",hy);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const my=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],xt=oe("package",my);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const py=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],gy=oe("pen",py);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yy=[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]],ud=oe("phone",yy);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vy=[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]],dd=oe("plane",vy);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const by=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],xy=oe("plus",by);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wy=[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]],_y=oe("quote",wy);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sy=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],hd=oe("search",Sy);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jy=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],fd=oe("shield",jy);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ky=[["path",{d:"M12 10.189V14",key:"1p8cqu"}],["path",{d:"M12 2v3",key:"qbqxhf"}],["path",{d:"M19 13V7a2 2 0 0 0-2-2H7a2 2 0 0 0-2 2v6",key:"qpkstq"}],["path",{d:"M19.38 20A11.6 11.6 0 0 0 21 14l-8.188-3.639a2 2 0 0 0-1.624 0L3 14a11.6 11.6 0 0 0 2.81 7.76",key:"7tigtc"}],["path",{d:"M2 21c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1s1.2 1 2.5 1c2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"1924j5"}]],md=oe("ship",ky);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ey=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],pd=oe("star",Ey);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ny=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Ty=oe("target",Ny);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cy=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Py=oe("trash-2",Cy);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ry=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],Bn=oe("truck",Ry);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ay=[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]],Dy=oe("twitter",Ay);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iy=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Oy=oe("user",Iy);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ly=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],My=oe("users",Ly);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fy=[["path",{d:"M22 8.35V20a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8.35A2 2 0 0 1 3.26 6.5l8-3.2a2 2 0 0 1 1.48 0l8 3.2A2 2 0 0 1 22 8.35Z",key:"gksnxg"}],["path",{d:"M6 18h12",key:"9pbo8z"}],["path",{d:"M6 14h12",key:"4cwo0f"}],["rect",{width:"12",height:"12",x:"6",y:"10",key:"apd30q"}]],$y=oe("warehouse",Fy);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const By=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Uy=oe("x",By);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vy=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],zy=oe("zap",Vy),gd=w.createContext({});function Wy(t){const e=w.useRef(null);return e.current===null&&(e.current=t()),e.current}const yd=typeof window<"u",Hy=yd?w.useLayoutEffect:w.useEffect,lo=w.createContext(null);function co(t,e){t.indexOf(e)===-1&&t.push(e)}function Xs(t,e){const r=t.indexOf(e);r>-1&&t.splice(r,1)}const Tt=(t,e,r)=>r>e?e:r<t?t:r;let uo=()=>{};const Ft={},vd=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function bd(t){return typeof t=="object"&&t!==null}const xd=t=>/^0[^.\s]+$/u.test(t);function ho(t){let e;return()=>(e===void 0&&(e=t()),e)}const at=t=>t,qy=(t,e)=>r=>e(t(r)),os=(...t)=>t.reduce(qy),Un=(t,e,r)=>{const n=e-t;return n===0?1:(r-t)/n};class fo{constructor(){this.subscriptions=[]}add(e){return co(this.subscriptions,e),()=>Xs(this.subscriptions,e)}notify(e,r,n){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,r,n);else for(let i=0;i<s;i++){const a=this.subscriptions[i];a&&a(e,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const vt=t=>t*1e3,it=t=>t/1e3;function wd(t,e){return e?t*(1e3/e):0}const _d=(t,e,r)=>(((1-3*r+3*e)*t+(3*r-6*e))*t+3*e)*t,Gy=1e-7,Ky=12;function Jy(t,e,r,n,s){let i,a,o=0;do a=e+(r-e)/2,i=_d(a,n,s)-t,i>0?r=a:e=a;while(Math.abs(i)>Gy&&++o<Ky);return a}function ls(t,e,r,n){if(t===e&&r===n)return at;const s=i=>Jy(i,0,1,t,r);return i=>i===0||i===1?i:_d(s(i),e,n)}const Sd=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,jd=t=>e=>1-t(1-e),kd=ls(.33,1.53,.69,.99),mo=jd(kd),Ed=Sd(mo),Nd=t=>(t*=2)<1?.5*mo(t):.5*(2-Math.pow(2,-10*(t-1))),po=t=>1-Math.sin(Math.acos(t)),Td=jd(po),Cd=Sd(po),Yy=ls(.42,0,1,1),Xy=ls(0,0,.58,1),Pd=ls(.42,0,.58,1),Zy=t=>Array.isArray(t)&&typeof t[0]!="number",Rd=t=>Array.isArray(t)&&typeof t[0]=="number",Qy={linear:at,easeIn:Yy,easeInOut:Pd,easeOut:Xy,circIn:po,circInOut:Cd,circOut:Td,backIn:mo,backInOut:Ed,backOut:kd,anticipate:Nd},e0=t=>typeof t=="string",Cl=t=>{if(Rd(t)){uo(t.length===4);const[e,r,n,s]=t;return ls(e,r,n,s)}else if(e0(t))return Qy[t];return t},Ts=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function t0(t,e){let r=new Set,n=new Set,s=!1,i=!1;const a=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function c(d){a.has(d)&&(u.schedule(d),t()),d(o)}const u={schedule:(d,h=!1,f=!1)=>{const p=f&&s?r:n;return h&&a.add(d),p.has(d)||p.add(d),d},cancel:d=>{n.delete(d),a.delete(d)},process:d=>{if(o=d,s){i=!0;return}s=!0,[r,n]=[n,r],r.forEach(c),r.clear(),s=!1,i&&(i=!1,u.process(d))}};return u}const r0=40;function Ad(t,e){let r=!1,n=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>r=!0,a=Ts.reduce((b,j)=>(b[j]=t0(i),b),{}),{setup:o,read:c,resolveKeyframes:u,preUpdate:d,update:h,preRender:f,render:m,postRender:p}=a,v=()=>{const b=Ft.useManualTiming?s.timestamp:performance.now();r=!1,Ft.useManualTiming||(s.delta=n?1e3/60:Math.max(Math.min(b-s.timestamp,r0),1)),s.timestamp=b,s.isProcessing=!0,o.process(s),c.process(s),u.process(s),d.process(s),h.process(s),f.process(s),m.process(s),p.process(s),s.isProcessing=!1,r&&e&&(n=!1,t(v))},x=()=>{r=!0,n=!0,s.isProcessing||t(v)};return{schedule:Ts.reduce((b,j)=>{const k=a[j];return b[j]=(T,_=!1,S=!1)=>(r||x(),k.schedule(T,_,S)),b},{}),cancel:b=>{for(let j=0;j<Ts.length;j++)a[Ts[j]].cancel(b)},state:s,steps:a}}const{schedule:Se,cancel:Xt,state:He,steps:Pi}=Ad(typeof requestAnimationFrame<"u"?requestAnimationFrame:at,!0);let zs;function n0(){zs=void 0}const Ye={now:()=>(zs===void 0&&Ye.set(He.isProcessing||Ft.useManualTiming?He.timestamp:performance.now()),zs),set:t=>{zs=t,queueMicrotask(n0)}},Dd=t=>e=>typeof e=="string"&&e.startsWith(t),Id=Dd("--"),s0=Dd("var(--"),go=t=>s0(t)?i0.test(t.split("/*")[0].trim()):!1,i0=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function Pl(t){return typeof t!="string"?!1:t.split("/*")[0].includes("var(--")}const Qr={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Vn={...Qr,transform:t=>Tt(0,1,t)},Cs={...Qr,default:1},Pn=t=>Math.round(t*1e5)/1e5,yo=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function a0(t){return t==null}const o0=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,vo=(t,e)=>r=>!!(typeof r=="string"&&o0.test(r)&&r.startsWith(t)||e&&!a0(r)&&Object.prototype.hasOwnProperty.call(r,e)),Od=(t,e,r)=>n=>{if(typeof n!="string")return n;const[s,i,a,o]=n.match(yo);return{[t]:parseFloat(s),[e]:parseFloat(i),[r]:parseFloat(a),alpha:o!==void 0?parseFloat(o):1}},l0=t=>Tt(0,255,t),Ri={...Qr,transform:t=>Math.round(l0(t))},pr={test:vo("rgb","red"),parse:Od("red","green","blue"),transform:({red:t,green:e,blue:r,alpha:n=1})=>"rgba("+Ri.transform(t)+", "+Ri.transform(e)+", "+Ri.transform(r)+", "+Pn(Vn.transform(n))+")"};function c0(t){let e="",r="",n="",s="";return t.length>5?(e=t.substring(1,3),r=t.substring(3,5),n=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),r=t.substring(2,3),n=t.substring(3,4),s=t.substring(4,5),e+=e,r+=r,n+=n,s+=s),{red:parseInt(e,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:s?parseInt(s,16)/255:1}}const da={test:vo("#"),parse:c0,transform:pr.transform},cs=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),zt=cs("deg"),Et=cs("%"),z=cs("px"),u0=cs("vh"),d0=cs("vw"),Rl={...Et,parse:t=>Et.parse(t)/100,transform:t=>Et.transform(t*100)},Vr={test:vo("hsl","hue"),parse:Od("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:r,alpha:n=1})=>"hsla("+Math.round(t)+", "+Et.transform(Pn(e))+", "+Et.transform(Pn(r))+", "+Pn(Vn.transform(n))+")"},Ie={test:t=>pr.test(t)||da.test(t)||Vr.test(t),parse:t=>pr.test(t)?pr.parse(t):Vr.test(t)?Vr.parse(t):da.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?pr.transform(t):Vr.transform(t),getAnimatableNone:t=>{const e=Ie.parse(t);return e.alpha=0,Ie.transform(e)}},h0=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function f0(t){var e,r;return isNaN(t)&&typeof t=="string"&&(((e=t.match(yo))==null?void 0:e.length)||0)+(((r=t.match(h0))==null?void 0:r.length)||0)>0}const Ld="number",Md="color",m0="var",p0="var(",Al="${}",g0=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function zn(t){const e=t.toString(),r=[],n={color:[],number:[],var:[]},s=[];let i=0;const o=e.replace(g0,c=>(Ie.test(c)?(n.color.push(i),s.push(Md),r.push(Ie.parse(c))):c.startsWith(p0)?(n.var.push(i),s.push(m0),r.push(c)):(n.number.push(i),s.push(Ld),r.push(parseFloat(c))),++i,Al)).split(Al);return{values:r,split:o,indexes:n,types:s}}function Fd(t){return zn(t).values}function $d(t){const{split:e,types:r}=zn(t),n=e.length;return s=>{let i="";for(let a=0;a<n;a++)if(i+=e[a],s[a]!==void 0){const o=r[a];o===Ld?i+=Pn(s[a]):o===Md?i+=Ie.transform(s[a]):i+=s[a]}return i}}const y0=t=>typeof t=="number"?0:Ie.test(t)?Ie.getAnimatableNone(t):t;function v0(t){const e=Fd(t);return $d(t)(e.map(y0))}const Zt={test:f0,parse:Fd,createTransformer:$d,getAnimatableNone:v0};function Ai(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(e-t)*6*r:r<1/2?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function b0({hue:t,saturation:e,lightness:r,alpha:n}){t/=360,e/=100,r/=100;let s=0,i=0,a=0;if(!e)s=i=a=r;else{const o=r<.5?r*(1+e):r+e-r*e,c=2*r-o;s=Ai(c,o,t+1/3),i=Ai(c,o,t),a=Ai(c,o,t-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(a*255),alpha:n}}function Zs(t,e){return r=>r>0?e:t}const Ee=(t,e,r)=>t+(e-t)*r,Di=(t,e,r)=>{const n=t*t,s=r*(e*e-n)+n;return s<0?0:Math.sqrt(s)},x0=[da,pr,Vr],w0=t=>x0.find(e=>e.test(t));function Dl(t){const e=w0(t);if(!e)return!1;let r=e.parse(t);return e===Vr&&(r=b0(r)),r}const Il=(t,e)=>{const r=Dl(t),n=Dl(e);if(!r||!n)return Zs(t,e);const s={...r};return i=>(s.red=Di(r.red,n.red,i),s.green=Di(r.green,n.green,i),s.blue=Di(r.blue,n.blue,i),s.alpha=Ee(r.alpha,n.alpha,i),pr.transform(s))},ha=new Set(["none","hidden"]);function _0(t,e){return ha.has(t)?r=>r<=0?t:e:r=>r>=1?e:t}function S0(t,e){return r=>Ee(t,e,r)}function bo(t){return typeof t=="number"?S0:typeof t=="string"?go(t)?Zs:Ie.test(t)?Il:E0:Array.isArray(t)?Bd:typeof t=="object"?Ie.test(t)?Il:j0:Zs}function Bd(t,e){const r=[...t],n=r.length,s=t.map((i,a)=>bo(i)(i,e[a]));return i=>{for(let a=0;a<n;a++)r[a]=s[a](i);return r}}function j0(t,e){const r={...t,...e},n={};for(const s in r)t[s]!==void 0&&e[s]!==void 0&&(n[s]=bo(t[s])(t[s],e[s]));return s=>{for(const i in n)r[i]=n[i](s);return r}}function k0(t,e){const r=[],n={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const i=e.types[s],a=t.indexes[i][n[i]],o=t.values[a]??0;r[s]=o,n[i]++}return r}const E0=(t,e)=>{const r=Zt.createTransformer(e),n=zn(t),s=zn(e);return n.indexes.var.length===s.indexes.var.length&&n.indexes.color.length===s.indexes.color.length&&n.indexes.number.length>=s.indexes.number.length?ha.has(t)&&!s.values.length||ha.has(e)&&!n.values.length?_0(t,e):os(Bd(k0(n,s),s.values),r):Zs(t,e)};function Ud(t,e,r){return typeof t=="number"&&typeof e=="number"&&typeof r=="number"?Ee(t,e,r):bo(t)(t,e)}const N0=t=>{const e=({timestamp:r})=>t(r);return{start:(r=!0)=>Se.update(e,r),stop:()=>Xt(e),now:()=>He.isProcessing?He.timestamp:Ye.now()}},Vd=(t,e,r=10)=>{let n="";const s=Math.max(Math.round(e/r),2);for(let i=0;i<s;i++)n+=Math.round(t(i/(s-1))*1e4)/1e4+", ";return`linear(${n.substring(0,n.length-2)})`},Qs=2e4;function xo(t){let e=0;const r=50;let n=t.next(e);for(;!n.done&&e<Qs;)e+=r,n=t.next(e);return e>=Qs?1/0:e}function T0(t,e=100,r){const n=r({...t,keyframes:[0,e]}),s=Math.min(xo(n),Qs);return{type:"keyframes",ease:i=>n.next(s*i).value/e,duration:it(s)}}const C0=5;function zd(t,e,r){const n=Math.max(e-C0,0);return wd(r-t(n),e-n)}const Pe={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Ii=.001;function P0({duration:t=Pe.duration,bounce:e=Pe.bounce,velocity:r=Pe.velocity,mass:n=Pe.mass}){let s,i,a=1-e;a=Tt(Pe.minDamping,Pe.maxDamping,a),t=Tt(Pe.minDuration,Pe.maxDuration,it(t)),a<1?(s=u=>{const d=u*a,h=d*t,f=d-r,m=fa(u,a),p=Math.exp(-h);return Ii-f/m*p},i=u=>{const h=u*a*t,f=h*r+r,m=Math.pow(a,2)*Math.pow(u,2)*t,p=Math.exp(-h),v=fa(Math.pow(u,2),a);return(-s(u)+Ii>0?-1:1)*((f-m)*p)/v}):(s=u=>{const d=Math.exp(-u*t),h=(u-r)*t+1;return-Ii+d*h},i=u=>{const d=Math.exp(-u*t),h=(r-u)*(t*t);return d*h});const o=5/t,c=A0(s,i,o);if(t=vt(t),isNaN(c))return{stiffness:Pe.stiffness,damping:Pe.damping,duration:t};{const u=Math.pow(c,2)*n;return{stiffness:u,damping:a*2*Math.sqrt(n*u),duration:t}}}const R0=12;function A0(t,e,r){let n=r;for(let s=1;s<R0;s++)n=n-t(n)/e(n);return n}function fa(t,e){return t*Math.sqrt(1-e*e)}const D0=["duration","bounce"],I0=["stiffness","damping","mass"];function Ol(t,e){return e.some(r=>t[r]!==void 0)}function O0(t){let e={velocity:Pe.velocity,stiffness:Pe.stiffness,damping:Pe.damping,mass:Pe.mass,isResolvedFromDuration:!1,...t};if(!Ol(t,I0)&&Ol(t,D0))if(t.visualDuration){const r=t.visualDuration,n=2*Math.PI/(r*1.2),s=n*n,i=2*Tt(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:Pe.mass,stiffness:s,damping:i}}else{const r=P0(t);e={...e,...r,mass:Pe.mass},e.isResolvedFromDuration=!0}return e}function ei(t=Pe.visualDuration,e=Pe.bounce){const r=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:n,restDelta:s}=r;const i=r.keyframes[0],a=r.keyframes[r.keyframes.length-1],o={done:!1,value:i},{stiffness:c,damping:u,mass:d,duration:h,velocity:f,isResolvedFromDuration:m}=O0({...r,velocity:-it(r.velocity||0)}),p=f||0,v=u/(2*Math.sqrt(c*d)),x=a-i,g=it(Math.sqrt(c/d)),y=Math.abs(x)<5;n||(n=y?Pe.restSpeed.granular:Pe.restSpeed.default),s||(s=y?Pe.restDelta.granular:Pe.restDelta.default);let b;if(v<1){const k=fa(g,v);b=T=>{const _=Math.exp(-v*g*T);return a-_*((p+v*g*x)/k*Math.sin(k*T)+x*Math.cos(k*T))}}else if(v===1)b=k=>a-Math.exp(-g*k)*(x+(p+g*x)*k);else{const k=g*Math.sqrt(v*v-1);b=T=>{const _=Math.exp(-v*g*T),S=Math.min(k*T,300);return a-_*((p+v*g*x)*Math.sinh(S)+k*x*Math.cosh(S))/k}}const j={calculatedDuration:m&&h||null,next:k=>{const T=b(k);if(m)o.done=k>=h;else{let _=k===0?p:0;v<1&&(_=k===0?vt(p):zd(b,k,T));const S=Math.abs(_)<=n,N=Math.abs(a-T)<=s;o.done=S&&N}return o.value=o.done?a:T,o},toString:()=>{const k=Math.min(xo(j),Qs),T=Vd(_=>j.next(k*_).value,k,30);return k+"ms "+T},toTransition:()=>{}};return j}ei.applyToOptions=t=>{const e=T0(t,100,ei);return t.ease=e.ease,t.duration=vt(e.duration),t.type="keyframes",t};function ma({keyframes:t,velocity:e=0,power:r=.8,timeConstant:n=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:a,min:o,max:c,restDelta:u=.5,restSpeed:d}){const h=t[0],f={done:!1,value:h},m=S=>o!==void 0&&S<o||c!==void 0&&S>c,p=S=>o===void 0?c:c===void 0||Math.abs(o-S)<Math.abs(c-S)?o:c;let v=r*e;const x=h+v,g=a===void 0?x:a(x);g!==x&&(v=g-h);const y=S=>-v*Math.exp(-S/n),b=S=>g+y(S),j=S=>{const N=y(S),D=b(S);f.done=Math.abs(N)<=u,f.value=f.done?g:D};let k,T;const _=S=>{m(f.value)&&(k=S,T=ei({keyframes:[f.value,p(f.value)],velocity:zd(b,S,f.value),damping:s,stiffness:i,restDelta:u,restSpeed:d}))};return _(0),{calculatedDuration:null,next:S=>{let N=!1;return!T&&k===void 0&&(N=!0,j(S),_(S)),k!==void 0&&S>=k?T.next(S-k):(!N&&j(S),f)}}}function L0(t,e,r){const n=[],s=r||Ft.mix||Ud,i=t.length-1;for(let a=0;a<i;a++){let o=s(t[a],t[a+1]);if(e){const c=Array.isArray(e)?e[a]||at:e;o=os(c,o)}n.push(o)}return n}function M0(t,e,{clamp:r=!0,ease:n,mixer:s}={}){const i=t.length;if(uo(i===e.length),i===1)return()=>e[0];if(i===2&&e[0]===e[1])return()=>e[1];const a=t[0]===t[1];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=L0(e,n,s),c=o.length,u=d=>{if(a&&d<t[0])return e[0];let h=0;if(c>1)for(;h<t.length-2&&!(d<t[h+1]);h++);const f=Un(t[h],t[h+1],d);return o[h](f)};return r?d=>u(Tt(t[0],t[i-1],d)):u}function F0(t,e){const r=t[t.length-1];for(let n=1;n<=e;n++){const s=Un(0,e,n);t.push(Ee(r,1,s))}}function $0(t){const e=[0];return F0(e,t.length-1),e}function B0(t,e){return t.map(r=>r*e)}function U0(t,e){return t.map(()=>e||Pd).splice(0,t.length-1)}function Rn({duration:t=300,keyframes:e,times:r,ease:n="easeInOut"}){const s=Zy(n)?n.map(Cl):Cl(n),i={done:!1,value:e[0]},a=B0(r&&r.length===e.length?r:$0(e),t),o=M0(a,e,{ease:Array.isArray(s)?s:U0(e,s)});return{calculatedDuration:t,next:c=>(i.value=o(c),i.done=c>=t,i)}}const V0=t=>t!==null;function wo(t,{repeat:e,repeatType:r="loop"},n,s=1){const i=t.filter(V0),o=s<0||e&&r!=="loop"&&e%2===1?0:i.length-1;return!o||n===void 0?i[o]:n}const z0={decay:ma,inertia:ma,tween:Rn,keyframes:Rn,spring:ei};function Wd(t){typeof t.type=="string"&&(t.type=z0[t.type])}class _o{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,r){return this.finished.then(e,r)}}const W0=t=>t/100;class So extends _o{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var n,s;const{motionValue:r}=this.options;r&&r.updatedAt!==Ye.now()&&this.tick(Ye.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(s=(n=this.options).onStop)==null||s.call(n))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;Wd(e);const{type:r=Rn,repeat:n=0,repeatDelay:s=0,repeatType:i,velocity:a=0}=e;let{keyframes:o}=e;const c=r||Rn;c!==Rn&&typeof o[0]!="number"&&(this.mixKeyframes=os(W0,Ud(o[0],o[1])),o=[0,100]);const u=c({...e,keyframes:o});i==="mirror"&&(this.mirroredGenerator=c({...e,keyframes:[...o].reverse(),velocity:-a})),u.calculatedDuration===null&&(u.calculatedDuration=xo(u));const{calculatedDuration:d}=u;this.calculatedDuration=d,this.resolvedDuration=d+s,this.totalDuration=this.resolvedDuration*(n+1)-s,this.generator=u}updateTime(e){const r=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(e,r=!1){const{generator:n,totalDuration:s,mixKeyframes:i,mirroredGenerator:a,resolvedDuration:o,calculatedDuration:c}=this;if(this.startTime===null)return n.next(0);const{delay:u=0,keyframes:d,repeat:h,repeatType:f,repeatDelay:m,type:p,onUpdate:v,finalKeyframe:x}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-s/this.speed,this.startTime)),r?this.currentTime=e:this.updateTime(e);const g=this.currentTime-u*(this.playbackSpeed>=0?1:-1),y=this.playbackSpeed>=0?g<0:g>s;this.currentTime=Math.max(g,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let b=this.currentTime,j=n;if(h){const S=Math.min(this.currentTime,s)/o;let N=Math.floor(S),D=S%1;!D&&S>=1&&(D=1),D===1&&N--,N=Math.min(N,h+1),!!(N%2)&&(f==="reverse"?(D=1-D,m&&(D-=m/o)):f==="mirror"&&(j=a)),b=Tt(0,1,D)*o}const k=y?{done:!1,value:d[0]}:j.next(b);i&&(k.value=i(k.value));let{done:T}=k;!y&&c!==null&&(T=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const _=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&T);return _&&p!==ma&&(k.value=wo(d,this.options,x,this.speed)),v&&v(k.value),_&&this.finish(),k}then(e,r){return this.finished.then(e,r)}get duration(){return it(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+it(e)}get time(){return it(this.currentTime)}set time(e){var r;e=vt(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(r=this.driver)==null||r.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Ye.now());const r=this.playbackSpeed!==e;this.playbackSpeed=e,r&&(this.time=it(this.currentTime))}play(){var s,i;if(this.isStopped)return;const{driver:e=N0,startTime:r}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),(i=(s=this.options).onPlay)==null||i.call(s);const n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=r??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Ye.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,r;this.notifyFinished(),this.teardown(),this.state="finished",(r=(e=this.options).onComplete)==null||r.call(e)}cancel(){var e,r;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(r=(e=this.options).onCancel)==null||r.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var r;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(r=this.driver)==null||r.stop(),e.observe(this)}}function H0(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const gr=t=>t*180/Math.PI,pa=t=>{const e=gr(Math.atan2(t[1],t[0]));return ga(e)},q0={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:pa,rotateZ:pa,skewX:t=>gr(Math.atan(t[1])),skewY:t=>gr(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},ga=t=>(t=t%360,t<0&&(t+=360),t),Ll=pa,Ml=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),Fl=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),G0={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Ml,scaleY:Fl,scale:t=>(Ml(t)+Fl(t))/2,rotateX:t=>ga(gr(Math.atan2(t[6],t[5]))),rotateY:t=>ga(gr(Math.atan2(-t[2],t[0]))),rotateZ:Ll,rotate:Ll,skewX:t=>gr(Math.atan(t[4])),skewY:t=>gr(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function ya(t){return t.includes("scale")?1:0}function va(t,e){if(!t||t==="none")return ya(e);const r=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,s;if(r)n=G0,s=r;else{const o=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=q0,s=o}if(!s)return ya(e);const i=n[e],a=s[1].split(",").map(J0);return typeof i=="function"?i(a):a[i]}const K0=(t,e)=>{const{transform:r="none"}=getComputedStyle(t);return va(r,e)};function J0(t){return parseFloat(t.trim())}const en=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],tn=new Set(en),$l=t=>t===Qr||t===z,Y0=new Set(["x","y","z"]),X0=en.filter(t=>!Y0.has(t));function Z0(t){const e=[];return X0.forEach(r=>{const n=t.getValue(r);n!==void 0&&(e.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),e}const Yt={width:({x:t},{paddingLeft:e="0",paddingRight:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),height:({y:t},{paddingTop:e="0",paddingBottom:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>va(e,"x"),y:(t,{transform:e})=>va(e,"y")};Yt.translateX=Yt.x;Yt.translateY=Yt.y;const vr=new Set;let ba=!1,xa=!1,wa=!1;function Hd(){if(xa){const t=Array.from(vr).filter(n=>n.needsMeasurement),e=new Set(t.map(n=>n.element)),r=new Map;e.forEach(n=>{const s=Z0(n);s.length&&(r.set(n,s),n.render())}),t.forEach(n=>n.measureInitialState()),e.forEach(n=>{n.render();const s=r.get(n);s&&s.forEach(([i,a])=>{var o;(o=n.getValue(i))==null||o.set(a)})}),t.forEach(n=>n.measureEndState()),t.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}xa=!1,ba=!1,vr.forEach(t=>t.complete(wa)),vr.clear()}function qd(){vr.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(xa=!0)})}function Q0(){wa=!0,qd(),Hd(),wa=!1}class jo{constructor(e,r,n,s,i,a=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=r,this.name=n,this.motionValue=s,this.element=i,this.isAsync=a}scheduleResolve(){this.state="scheduled",this.isAsync?(vr.add(this),ba||(ba=!0,Se.read(qd),Se.resolveKeyframes(Hd))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:r,element:n,motionValue:s}=this;if(e[0]===null){const i=s==null?void 0:s.get(),a=e[e.length-1];if(i!==void 0)e[0]=i;else if(n&&r){const o=n.readValue(r,a);o!=null&&(e[0]=o)}e[0]===void 0&&(e[0]=a),s&&i===void 0&&s.set(e[0])}H0(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),vr.delete(this)}cancel(){this.state==="scheduled"&&(vr.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const ev=t=>t.startsWith("--");function tv(t,e,r){ev(e)?t.style.setProperty(e,r):t.style[e]=r}const rv=ho(()=>window.ScrollTimeline!==void 0),nv={};function sv(t,e){const r=ho(t);return()=>nv[e]??r()}const Gd=sv(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),jn=([t,e,r,n])=>`cubic-bezier(${t}, ${e}, ${r}, ${n})`,Bl={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:jn([0,.65,.55,1]),circOut:jn([.55,0,1,.45]),backIn:jn([.31,.01,.66,-.59]),backOut:jn([.33,1.53,.69,.99])};function Kd(t,e){if(t)return typeof t=="function"?Gd()?Vd(t,e):"ease-out":Rd(t)?jn(t):Array.isArray(t)?t.map(r=>Kd(r,e)||Bl.easeOut):Bl[t]}function iv(t,e,r,{delay:n=0,duration:s=300,repeat:i=0,repeatType:a="loop",ease:o="easeOut",times:c}={},u=void 0){const d={[e]:r};c&&(d.offset=c);const h=Kd(o,s);Array.isArray(h)&&(d.easing=h);const f={delay:n,duration:s,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:i+1,direction:a==="reverse"?"alternate":"normal"};return u&&(f.pseudoElement=u),t.animate(d,f)}function Jd(t){return typeof t=="function"&&"applyToOptions"in t}function av({type:t,...e}){return Jd(t)&&Gd()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class Yd extends _o{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!e)return;const{element:r,name:n,keyframes:s,pseudoElement:i,allowFlatten:a=!1,finalKeyframe:o,onComplete:c}=e;this.isPseudoElement=!!i,this.allowFlatten=a,this.options=e,uo(typeof e.type!="string");const u=av(e);this.animation=iv(r,n,s,u,i),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const d=wo(s,this.options,o,this.speed);this.updateMotionValue?this.updateMotionValue(d):tv(r,n,d),this.animation.cancel()}c==null||c(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,r;(r=(e=this.animation).finish)==null||r.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var r,n,s;const e=(r=this.options)==null?void 0:r.element;!this.isPseudoElement&&(e!=null&&e.isConnected)&&((s=(n=this.animation).commitStyles)==null||s.call(n))}get duration(){var r,n;const e=((n=(r=this.animation.effect)==null?void 0:r.getComputedTiming)==null?void 0:n.call(r).duration)||0;return it(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+it(e)}get time(){return it(Number(this.animation.currentTime)||0)}set time(e){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=vt(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(e){this.manualStartTime=this.animation.startTime=e}attachTimeline({timeline:e,observe:r}){var n;return this.allowFlatten&&((n=this.animation.effect)==null||n.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&rv()?(this.animation.timeline=e,at):r(this)}}const Xd={anticipate:Nd,backInOut:Ed,circInOut:Cd};function ov(t){return t in Xd}function lv(t){typeof t.ease=="string"&&ov(t.ease)&&(t.ease=Xd[t.ease])}const Oi=10;class cv extends Yd{constructor(e){lv(e),Wd(e),super(e),e.startTime!==void 0&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:r,onUpdate:n,onComplete:s,element:i,...a}=this.options;if(!r)return;if(e!==void 0){r.set(e);return}const o=new So({...a,autoplay:!1}),c=Math.max(Oi,Ye.now()-this.startTime),u=Tt(0,Oi,c-Oi);r.setWithVelocity(o.sample(Math.max(0,c-u)).value,o.sample(c).value,u),o.stop()}}const Ul=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Zt.test(t)||t==="0")&&!t.startsWith("url("));function uv(t){const e=t[0];if(t.length===1)return!0;for(let r=0;r<t.length;r++)if(t[r]!==e)return!0}function dv(t,e,r,n){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const i=t[t.length-1],a=Ul(s,e),o=Ul(i,e);return!a||!o?!1:uv(t)||(r==="spring"||Jd(r))&&n}function _a(t){t.duration=0,t.type="keyframes"}const hv=new Set(["opacity","clipPath","filter","transform"]),fv=ho(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function mv(t){var d;const{motionValue:e,name:r,repeatDelay:n,repeatType:s,damping:i,type:a}=t;if(!(((d=e==null?void 0:e.owner)==null?void 0:d.current)instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:u}=e.owner.getProps();return fv()&&r&&hv.has(r)&&(r!=="transform"||!u)&&!c&&!n&&s!=="mirror"&&i!==0&&a!=="inertia"}const pv=40;class gv extends _o{constructor({autoplay:e=!0,delay:r=0,type:n="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:a="loop",keyframes:o,name:c,motionValue:u,element:d,...h}){var p;super(),this.stop=()=>{var v,x;this._animation&&(this._animation.stop(),(v=this.stopTimeline)==null||v.call(this)),(x=this.keyframeResolver)==null||x.cancel()},this.createdAt=Ye.now();const f={autoplay:e,delay:r,type:n,repeat:s,repeatDelay:i,repeatType:a,name:c,motionValue:u,element:d,...h},m=(d==null?void 0:d.KeyframeResolver)||jo;this.keyframeResolver=new m(o,(v,x,g)=>this.onKeyframesResolved(v,x,f,!g),c,u,d),(p=this.keyframeResolver)==null||p.scheduleResolve()}onKeyframesResolved(e,r,n,s){var x,g;this.keyframeResolver=void 0;const{name:i,type:a,velocity:o,delay:c,isHandoff:u,onUpdate:d}=n;this.resolvedAt=Ye.now(),dv(e,i,a,o)||((Ft.instantAnimations||!c)&&(d==null||d(wo(e,n,r))),e[0]=e[e.length-1],_a(n),n.repeat=0);const f={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>pv?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...n,keyframes:e},m=!u&&mv(f),p=(g=(x=f.motionValue)==null?void 0:x.owner)==null?void 0:g.current,v=m?new cv({...f,element:p}):new So(f);v.finished.then(()=>{this.notifyFinished()}).catch(at),this.pendingTimeline&&(this.stopTimeline=v.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=v}get finished(){return this._animation?this.animation.finished:this._finished}then(e,r){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),Q0()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}function Zd(t,e,r,n=0,s=1){const i=Array.from(t).sort((u,d)=>u.sortNodePosition(d)).indexOf(e),a=t.size,o=(a-1)*n;return typeof r=="function"?r(i,a):s===1?i*n:o-i*n}const yv=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function vv(t){const e=yv.exec(t);if(!e)return[,];const[,r,n,s]=e;return[`--${r??n}`,s]}function Qd(t,e,r=1){const[n,s]=vv(t);if(!n)return;const i=window.getComputedStyle(e).getPropertyValue(n);if(i){const a=i.trim();return vd(a)?parseFloat(a):a}return go(s)?Qd(s,e,r+1):s}const bv={type:"spring",stiffness:500,damping:25,restSpeed:10},xv=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),wv={type:"keyframes",duration:.8},_v={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Sv=(t,{keyframes:e})=>e.length>2?wv:tn.has(t)?t.startsWith("scale")?xv(e[1]):bv:_v,jv=t=>t!==null;function kv(t,{repeat:e,repeatType:r="loop"},n){const s=t.filter(jv),i=e&&r!=="loop"&&e%2===1?0:s.length-1;return s[i]}function eh(t,e){if(t!=null&&t.inherit&&e){const{inherit:r,...n}=t;return{...e,...n}}return t}function ko(t,e){const r=(t==null?void 0:t[e])??(t==null?void 0:t.default)??t;return r!==t?eh(r,t):r}function Ev({when:t,delay:e,delayChildren:r,staggerChildren:n,staggerDirection:s,repeat:i,repeatType:a,repeatDelay:o,from:c,elapsed:u,...d}){return!!Object.keys(d).length}const Eo=(t,e,r,n={},s,i)=>a=>{const o=ko(n,t)||{},c=o.delay||n.delay||0;let{elapsed:u=0}=n;u=u-vt(c);const d={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:e.getVelocity(),...o,delay:-u,onUpdate:f=>{e.set(f),o.onUpdate&&o.onUpdate(f)},onComplete:()=>{a(),o.onComplete&&o.onComplete()},name:t,motionValue:e,element:i?void 0:s};Ev(o)||Object.assign(d,Sv(t,d)),d.duration&&(d.duration=vt(d.duration)),d.repeatDelay&&(d.repeatDelay=vt(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let h=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(_a(d),d.delay===0&&(h=!0)),(Ft.instantAnimations||Ft.skipAnimations||s!=null&&s.shouldSkipAnimations)&&(h=!0,_a(d),d.delay=0),d.allowFlatten=!o.type&&!o.ease,h&&!i&&e.get()!==void 0){const f=kv(d.keyframes,o);if(f!==void 0){Se.update(()=>{d.onUpdate(f),d.onComplete()});return}}return o.isSync?new So(d):new gv(d)};function Vl(t){const e=[{},{}];return t==null||t.values.forEach((r,n)=>{e[0][n]=r.get(),e[1][n]=r.getVelocity()}),e}function No(t,e,r,n){if(typeof e=="function"){const[s,i]=Vl(n);e=e(r!==void 0?r:t.custom,s,i)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,i]=Vl(n);e=e(r!==void 0?r:t.custom,s,i)}return e}function Jr(t,e,r){const n=t.getProps();return No(n,e,r!==void 0?r:n.custom,t)}const th=new Set(["width","height","top","left","right","bottom",...en]),zl=30,Nv=t=>!isNaN(parseFloat(t));class Tv{constructor(e,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=n=>{var i;const s=Ye.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&((i=this.events.change)==null||i.notify(this.current),this.dependents))for(const a of this.dependents)a.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=r.owner}setCurrent(e){this.current=e,this.updatedAt=Ye.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=Nv(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,r){this.events[e]||(this.events[e]=new fo);const n=this.events[e].add(r);return e==="change"?()=>{n(),Se.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,r){this.passiveEffect=e,this.stopPassiveEffect=r}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e,r=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Ye.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>zl)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,zl);return wd(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(e){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=e(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,r;(e=this.dependents)==null||e.clear(),(r=this.events.destroy)==null||r.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Zr(t,e){return new Tv(t,e)}const Sa=t=>Array.isArray(t);function Cv(t,e,r){t.hasValue(e)?t.getValue(e).set(r):t.addValue(e,Zr(r))}function Pv(t){return Sa(t)?t[t.length-1]||0:t}function Rv(t,e){const r=Jr(t,e);let{transitionEnd:n={},transition:s={},...i}=r||{};i={...i,...n};for(const a in i){const o=Pv(i[a]);Cv(t,a,o)}}const Ke=t=>!!(t&&t.getVelocity);function Av(t){return!!(Ke(t)&&t.add)}function ja(t,e){const r=t.getValue("willChange");if(Av(r))return r.add(e);if(!r&&Ft.WillChange){const n=new Ft.WillChange("auto");t.addValue("willChange",n),n.add(e)}}function To(t){return t.replace(/([A-Z])/g,e=>`-${e.toLowerCase()}`)}const Dv="framerAppearId",rh="data-"+To(Dv);function nh(t){return t.props[rh]}function Iv({protectedKeys:t,needsAnimating:e},r){const n=t.hasOwnProperty(r)&&e[r]!==!0;return e[r]=!1,n}function sh(t,e,{delay:r=0,transitionOverride:n,type:s}={}){let{transition:i,transitionEnd:a,...o}=e;const c=t.getDefaultTransition();i=i?eh(i,c):c;const u=i==null?void 0:i.reduceMotion;n&&(i=n);const d=[],h=s&&t.animationState&&t.animationState.getState()[s];for(const f in o){const m=t.getValue(f,t.latestValues[f]??null),p=o[f];if(p===void 0||h&&Iv(h,f))continue;const v={delay:r,...ko(i||{},f)},x=m.get();if(x!==void 0&&!m.isAnimating&&!Array.isArray(p)&&p===x&&!v.velocity)continue;let g=!1;if(window.MotionHandoffAnimation){const j=nh(t);if(j){const k=window.MotionHandoffAnimation(j,f,Se);k!==null&&(v.startTime=k,g=!0)}}ja(t,f);const y=u??t.shouldReduceMotion;m.start(Eo(f,m,p,y&&th.has(f)?{type:!1}:v,t,g));const b=m.animation;b&&d.push(b)}if(a){const f=()=>Se.update(()=>{a&&Rv(t,a)});d.length?Promise.all(d).then(f):f()}return d}function ka(t,e,r={}){var c;const n=Jr(t,e,r.type==="exit"?(c=t.presenceContext)==null?void 0:c.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(s=r.transitionOverride);const i=n?()=>Promise.all(sh(t,n,r)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:h,staggerDirection:f}=s;return Ov(t,e,u,d,h,f,r)}:()=>Promise.resolve(),{when:o}=s;if(o){const[u,d]=o==="beforeChildren"?[i,a]:[a,i];return u().then(()=>d())}else return Promise.all([i(),a(r.delay)])}function Ov(t,e,r=0,n=0,s=0,i=1,a){const o=[];for(const c of t.variantChildren)c.notify("AnimationStart",e),o.push(ka(c,e,{...a,delay:r+(typeof n=="function"?0:n)+Zd(t.variantChildren,c,n,s,i)}).then(()=>c.notify("AnimationComplete",e)));return Promise.all(o)}function Lv(t,e,r={}){t.notify("AnimationStart",e);let n;if(Array.isArray(e)){const s=e.map(i=>ka(t,i,r));n=Promise.all(s)}else if(typeof e=="string")n=ka(t,e,r);else{const s=typeof e=="function"?Jr(t,e,r.custom):e;n=Promise.all(sh(t,s,r))}return n.then(()=>{t.notify("AnimationComplete",e)})}const Mv={test:t=>t==="auto",parse:t=>t},ih=t=>e=>e.test(t),ah=[Qr,z,Et,zt,d0,u0,Mv],Wl=t=>ah.find(ih(t));function Fv(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||xd(t):!0}const $v=new Set(["brightness","contrast","saturate","opacity"]);function Bv(t){const[e,r]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[n]=r.match(yo)||[];if(!n)return t;const s=r.replace(n,"");let i=$v.has(e)?1:0;return n!==r&&(i*=100),e+"("+i+s+")"}const Uv=/\b([a-z-]*)\(.*?\)/gu,Ea={...Zt,getAnimatableNone:t=>{const e=t.match(Uv);return e?e.map(Bv).join(" "):t}},Hl={...Qr,transform:Math.round},Vv={rotate:zt,rotateX:zt,rotateY:zt,rotateZ:zt,scale:Cs,scaleX:Cs,scaleY:Cs,scaleZ:Cs,skew:zt,skewX:zt,skewY:zt,distance:z,translateX:z,translateY:z,translateZ:z,x:z,y:z,z,perspective:z,transformPerspective:z,opacity:Vn,originX:Rl,originY:Rl,originZ:z},Co={borderWidth:z,borderTopWidth:z,borderRightWidth:z,borderBottomWidth:z,borderLeftWidth:z,borderRadius:z,borderTopLeftRadius:z,borderTopRightRadius:z,borderBottomRightRadius:z,borderBottomLeftRadius:z,width:z,maxWidth:z,height:z,maxHeight:z,top:z,right:z,bottom:z,left:z,inset:z,insetBlock:z,insetBlockStart:z,insetBlockEnd:z,insetInline:z,insetInlineStart:z,insetInlineEnd:z,padding:z,paddingTop:z,paddingRight:z,paddingBottom:z,paddingLeft:z,paddingBlock:z,paddingBlockStart:z,paddingBlockEnd:z,paddingInline:z,paddingInlineStart:z,paddingInlineEnd:z,margin:z,marginTop:z,marginRight:z,marginBottom:z,marginLeft:z,marginBlock:z,marginBlockStart:z,marginBlockEnd:z,marginInline:z,marginInlineStart:z,marginInlineEnd:z,fontSize:z,backgroundPositionX:z,backgroundPositionY:z,...Vv,zIndex:Hl,fillOpacity:Vn,strokeOpacity:Vn,numOctaves:Hl},zv={...Co,color:Ie,backgroundColor:Ie,outlineColor:Ie,fill:Ie,stroke:Ie,borderColor:Ie,borderTopColor:Ie,borderRightColor:Ie,borderBottomColor:Ie,borderLeftColor:Ie,filter:Ea,WebkitFilter:Ea},oh=t=>zv[t];function lh(t,e){let r=oh(t);return r!==Ea&&(r=Zt),r.getAnimatableNone?r.getAnimatableNone(e):void 0}const Wv=new Set(["auto","none","0"]);function Hv(t,e,r){let n=0,s;for(;n<t.length&&!s;){const i=t[n];typeof i=="string"&&!Wv.has(i)&&zn(i).values.length&&(s=t[n]),n++}if(s&&r)for(const i of e)t[i]=lh(r,s)}class qv extends jo{constructor(e,r,n,s,i){super(e,r,n,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let d=0;d<e.length;d++){let h=e[d];if(typeof h=="string"&&(h=h.trim(),go(h))){const f=Qd(h,r.current);f!==void 0&&(e[d]=f),d===e.length-1&&(this.finalKeyframe=h)}}if(this.resolveNoneKeyframes(),!th.has(n)||e.length!==2)return;const[s,i]=e,a=Wl(s),o=Wl(i),c=Pl(s),u=Pl(i);if(c!==u&&Yt[n]){this.needsMeasurement=!0;return}if(a!==o)if($l(a)&&$l(o))for(let d=0;d<e.length;d++){const h=e[d];typeof h=="string"&&(e[d]=parseFloat(h))}else Yt[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:r}=this,n=[];for(let s=0;s<e.length;s++)(e[s]===null||Fv(e[s]))&&n.push(s);n.length&&Hv(e,n,r)}measureInitialState(){const{element:e,unresolvedKeyframes:r,name:n}=this;if(!e||!e.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Yt[n](e.measureViewportBox(),window.getComputedStyle(e.current)),r[0]=this.measuredOrigin;const s=r[r.length-1];s!==void 0&&e.getValue(n,s).jump(s,!1)}measureEndState(){var o;const{element:e,name:r,unresolvedKeyframes:n}=this;if(!e||!e.current)return;const s=e.getValue(r);s&&s.jump(this.measuredOrigin,!1);const i=n.length-1,a=n[i];n[i]=Yt[r](e.measureViewportBox(),window.getComputedStyle(e.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),(o=this.removedTransforms)!=null&&o.length&&this.removedTransforms.forEach(([c,u])=>{e.getValue(c).set(u)}),this.resolveNoneKeyframes()}}const Gv=new Set(["opacity","clipPath","filter","transform"]);function ch(t,e,r){if(t==null)return[];if(t instanceof EventTarget)return[t];if(typeof t=="string"){let n=document;const s=(r==null?void 0:r[t])??n.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t).filter(n=>n!=null)}const uh=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function Kv(t){return bd(t)&&"offsetHeight"in t}const{schedule:Po}=Ad(queueMicrotask,!1),pt={x:!1,y:!1};function dh(){return pt.x||pt.y}function Jv(t){return t==="x"||t==="y"?pt[t]?null:(pt[t]=!0,()=>{pt[t]=!1}):pt.x||pt.y?null:(pt.x=pt.y=!0,()=>{pt.x=pt.y=!1})}function hh(t,e){const r=ch(t),n=new AbortController,s={passive:!0,...e,signal:n.signal};return[r,s,()=>n.abort()]}function Yv(t){return!(t.pointerType==="touch"||dh())}function Xv(t,e,r={}){const[n,s,i]=hh(t,r);return n.forEach(a=>{let o=!1,c=!1,u;const d=()=>{a.removeEventListener("pointerleave",p)},h=x=>{u&&(u(x),u=void 0),d()},f=x=>{o=!1,window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",f),c&&(c=!1,h(x))},m=()=>{o=!0,window.addEventListener("pointerup",f,s),window.addEventListener("pointercancel",f,s)},p=x=>{if(x.pointerType!=="touch"){if(o){c=!0;return}h(x)}},v=x=>{if(!Yv(x))return;c=!1;const g=e(a,x);typeof g=="function"&&(u=g,a.addEventListener("pointerleave",p,s))};a.addEventListener("pointerenter",v,s),a.addEventListener("pointerdown",m,s)}),i}const fh=(t,e)=>e?t===e?!0:fh(t,e.parentElement):!1,Ro=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,Zv=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Qv(t){return Zv.has(t.tagName)||t.isContentEditable===!0}const eb=new Set(["INPUT","SELECT","TEXTAREA"]);function tb(t){return eb.has(t.tagName)||t.isContentEditable===!0}const Ws=new WeakSet;function ql(t){return e=>{e.key==="Enter"&&t(e)}}function Li(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const rb=(t,e)=>{const r=t.currentTarget;if(!r)return;const n=ql(()=>{if(Ws.has(r))return;Li(r,"down");const s=ql(()=>{Li(r,"up")}),i=()=>Li(r,"cancel");r.addEventListener("keyup",s,e),r.addEventListener("blur",i,e)});r.addEventListener("keydown",n,e),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),e)};function Gl(t){return Ro(t)&&!dh()}const Kl=new WeakSet;function nb(t,e,r={}){const[n,s,i]=hh(t,r),a=o=>{const c=o.currentTarget;if(!Gl(o)||Kl.has(o))return;Ws.add(c),r.stopPropagation&&Kl.add(o);const u=e(c,o),d=(m,p)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",f),Ws.has(c)&&Ws.delete(c),Gl(m)&&typeof u=="function"&&u(m,{success:p})},h=m=>{d(m,c===window||c===document||r.useGlobalTarget||fh(c,m.target))},f=m=>{d(m,!1)};window.addEventListener("pointerup",h,s),window.addEventListener("pointercancel",f,s)};return n.forEach(o=>{(r.useGlobalTarget?window:o).addEventListener("pointerdown",a,s),Kv(o)&&(o.addEventListener("focus",u=>rb(u,s)),!Qv(o)&&!o.hasAttribute("tabindex")&&(o.tabIndex=0))}),i}function Ao(t){return bd(t)&&"ownerSVGElement"in t}const Hs=new WeakMap;let Wt;const mh=(t,e,r)=>(n,s)=>s&&s[0]?s[0][t+"Size"]:Ao(n)&&"getBBox"in n?n.getBBox()[e]:n[r],sb=mh("inline","width","offsetWidth"),ib=mh("block","height","offsetHeight");function ab({target:t,borderBoxSize:e}){var r;(r=Hs.get(t))==null||r.forEach(n=>{n(t,{get width(){return sb(t,e)},get height(){return ib(t,e)}})})}function ob(t){t.forEach(ab)}function lb(){typeof ResizeObserver>"u"||(Wt=new ResizeObserver(ob))}function cb(t,e){Wt||lb();const r=ch(t);return r.forEach(n=>{let s=Hs.get(n);s||(s=new Set,Hs.set(n,s)),s.add(e),Wt==null||Wt.observe(n)}),()=>{r.forEach(n=>{const s=Hs.get(n);s==null||s.delete(e),s!=null&&s.size||Wt==null||Wt.unobserve(n)})}}const qs=new Set;let zr;function ub(){zr=()=>{const t={get width(){return window.innerWidth},get height(){return window.innerHeight}};qs.forEach(e=>e(t))},window.addEventListener("resize",zr)}function db(t){return qs.add(t),zr||ub(),()=>{qs.delete(t),!qs.size&&typeof zr=="function"&&(window.removeEventListener("resize",zr),zr=void 0)}}function Jl(t,e){return typeof t=="function"?db(t):cb(t,e)}function hb(t){return Ao(t)&&t.tagName==="svg"}const fb=[...ah,Ie,Zt],mb=t=>fb.find(ih(t)),Yl=()=>({translate:0,scale:1,origin:0,originPoint:0}),Wr=()=>({x:Yl(),y:Yl()}),Xl=()=>({min:0,max:0}),Fe=()=>({x:Xl(),y:Xl()}),pb=new WeakMap;function hi(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Wn(t){return typeof t=="string"||Array.isArray(t)}const Do=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Io=["initial",...Do];function fi(t){return hi(t.animate)||Io.some(e=>Wn(t[e]))}function ph(t){return!!(fi(t)||t.variants)}function gb(t,e,r){for(const n in e){const s=e[n],i=r[n];if(Ke(s))t.addValue(n,s);else if(Ke(i))t.addValue(n,Zr(s,{owner:t}));else if(i!==s)if(t.hasValue(n)){const a=t.getValue(n);a.liveStyle===!0?a.jump(s):a.hasAnimated||a.set(s)}else{const a=t.getStaticValue(n);t.addValue(n,Zr(a!==void 0?a:s,{owner:t}))}}for(const n in r)e[n]===void 0&&t.removeValue(n);return e}const Na={current:null},gh={current:!1},yb=typeof window<"u";function vb(){if(gh.current=!0,!!yb)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Na.current=t.matches;t.addEventListener("change",e),e()}else Na.current=!1}const Zl=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let ti={};function yh(t){ti=t}function bb(){return ti}class xb{scrapeMotionValuesFromProps(e,r,n){return{}}constructor({parent:e,props:r,presenceContext:n,reducedMotionConfig:s,skipAnimations:i,blockInitialAnimation:a,visualState:o},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.shouldSkipAnimations=!1,this.values=new Map,this.KeyframeResolver=jo,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.hasBeenMounted=!1,this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const m=Ye.now();this.renderScheduledAt<m&&(this.renderScheduledAt=m,Se.render(this.render,!1,!0))};const{latestValues:u,renderState:d}=o;this.latestValues=u,this.baseTarget={...u},this.initialValues=r.initial?{...u}:{},this.renderState=d,this.parent=e,this.props=r,this.presenceContext=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.skipAnimationsConfig=i,this.options=c,this.blockInitialAnimation=!!a,this.isControllingVariants=fi(r),this.isVariantNode=ph(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:h,...f}=this.scrapeMotionValuesFromProps(r,{},this);for(const m in f){const p=f[m];u[m]!==void 0&&Ke(p)&&p.set(u[m])}}mount(e){var r,n;if(this.hasBeenMounted)for(const s in this.initialValues)(r=this.values.get(s))==null||r.jump(this.initialValues[s]),this.latestValues[s]=this.initialValues[s];this.current=e,pb.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((s,i)=>this.bindToMotionValue(i,s)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(gh.current||vb(),this.shouldReduceMotion=Na.current),this.shouldSkipAnimations=this.skipAnimationsConfig??!1,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext),this.hasBeenMounted=!0}unmount(){var e;this.projection&&this.projection.unmount(),Xt(this.notifyUpdate),Xt(this.render),this.valueSubscriptions.forEach(r=>r()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const r in this.events)this.events[r].clear();for(const r in this.features){const n=this.features[r];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,r){if(this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)(),r.accelerate&&Gv.has(e)&&this.current instanceof HTMLElement){const{factory:a,keyframes:o,times:c,ease:u,duration:d}=r.accelerate,h=new Yd({element:this.current,name:e,keyframes:o,times:c,ease:u,duration:vt(d)}),f=a(h);this.valueSubscriptions.set(e,()=>{f(),h.cancel()});return}const n=tn.has(e);n&&this.onBindTransform&&this.onBindTransform();const s=r.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&Se.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;typeof window<"u"&&window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,e,r)),this.valueSubscriptions.set(e,()=>{s(),i&&i(),r.owner&&r.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in ti){const r=ti[e];if(!r)continue;const{isEnabled:n,Feature:s}=r;if(!this.features[e]&&s&&n(this.props)&&(this.features[e]=new s(this)),this.features[e]){const i=this.features[e];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Fe()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,r){this.latestValues[e]=r}update(e,r){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<Zl.length;n++){const s=Zl[n];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,a=e[i];a&&(this.propEventSubscriptions[s]=this.on(s,a))}this.prevMotionValues=gb(this,this.scrapeMotionValuesFromProps(e,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(e),()=>r.variantChildren.delete(e)}addValue(e,r){const n=this.values.get(e);r!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,r),this.values.set(e,r),this.latestValues[e]=r.get())}removeValue(e){this.values.delete(e);const r=this.valueSubscriptions.get(e);r&&(r(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,r){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return n===void 0&&r!==void 0&&(n=Zr(r===null?void 0:r,{owner:this}),this.addValue(e,n)),n}readValue(e,r){let n=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return n!=null&&(typeof n=="string"&&(vd(n)||xd(n))?n=parseFloat(n):!mb(n)&&Zt.test(r)&&(n=lh(e,r)),this.setBaseTarget(e,Ke(n)?n.get():n)),Ke(n)?n.get():n}setBaseTarget(e,r){this.baseTarget[e]=r}getBaseTarget(e){var i;const{initial:r}=this.props;let n;if(typeof r=="string"||typeof r=="object"){const a=No(this.props,r,(i=this.presenceContext)==null?void 0:i.custom);a&&(n=a[e])}if(r&&n!==void 0)return n;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!Ke(s)?s:this.initialValues[e]!==void 0&&n===void 0?void 0:this.baseTarget[e]}on(e,r){return this.events[e]||(this.events[e]=new fo),this.events[e].add(r)}notify(e,...r){this.events[e]&&this.events[e].notify(...r)}scheduleRenderMicrotask(){Po.render(this.render)}}class vh extends xb{constructor(){super(...arguments),this.KeyframeResolver=qv}sortInstanceNodePosition(e,r){return e.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(e,r){const n=e.style;return n?n[r]:void 0}removeValueFromRenderState(e,{vars:r,style:n}){delete r[e],delete n[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Ke(e)&&(this.childSubscription=e.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}class er{constructor(e){this.isMounted=!1,this.node=e}update(){}}function bh({top:t,left:e,right:r,bottom:n}){return{x:{min:e,max:r},y:{min:t,max:n}}}function wb({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function _b(t,e){if(!e)return t;const r=e({x:t.left,y:t.top}),n=e({x:t.right,y:t.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function Mi(t){return t===void 0||t===1}function Ta({scale:t,scaleX:e,scaleY:r}){return!Mi(t)||!Mi(e)||!Mi(r)}function ur(t){return Ta(t)||xh(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function xh(t){return Ql(t.x)||Ql(t.y)}function Ql(t){return t&&t!=="0%"}function ri(t,e,r){const n=t-r,s=e*n;return r+s}function ec(t,e,r,n,s){return s!==void 0&&(t=ri(t,s,n)),ri(t,r,n)+e}function Ca(t,e=0,r=1,n,s){t.min=ec(t.min,e,r,n,s),t.max=ec(t.max,e,r,n,s)}function wh(t,{x:e,y:r}){Ca(t.x,e.translate,e.scale,e.originPoint),Ca(t.y,r.translate,r.scale,r.originPoint)}const tc=.999999999999,rc=1.0000000000001;function Sb(t,e,r,n=!1){const s=r.length;if(!s)return;e.x=e.y=1;let i,a;for(let o=0;o<s;o++){i=r[o],a=i.projectionDelta;const{visualElement:c}=i.options;c&&c.props.style&&c.props.style.display==="contents"||(n&&i.options.layoutScroll&&i.scroll&&i!==i.root&&qr(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,wh(t,a)),n&&ur(i.latestValues)&&qr(t,i.latestValues))}e.x<rc&&e.x>tc&&(e.x=1),e.y<rc&&e.y>tc&&(e.y=1)}function Hr(t,e){t.min=t.min+e,t.max=t.max+e}function nc(t,e,r,n,s=.5){const i=Ee(t.min,t.max,s);Ca(t,e,r,i,n)}function qr(t,e){nc(t.x,e.x,e.scaleX,e.scale,e.originX),nc(t.y,e.y,e.scaleY,e.scale,e.originY)}function _h(t,e){return bh(_b(t.getBoundingClientRect(),e))}function jb(t,e,r){const n=_h(t,r),{scroll:s}=e;return s&&(Hr(n.x,s.offset.x),Hr(n.y,s.offset.y)),n}const kb={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Eb=en.length;function Nb(t,e,r){let n="",s=!0;for(let i=0;i<Eb;i++){const a=en[i],o=t[a];if(o===void 0)continue;let c=!0;if(typeof o=="number")c=o===(a.startsWith("scale")?1:0);else{const u=parseFloat(o);c=a.startsWith("scale")?u===1:u===0}if(!c||r){const u=uh(o,Co[a]);if(!c){s=!1;const d=kb[a]||a;n+=`${d}(${u}) `}r&&(e[a]=u)}}return n=n.trim(),r?n=r(e,s?"":n):s&&(n="none"),n}function Oo(t,e,r){const{style:n,vars:s,transformOrigin:i}=t;let a=!1,o=!1;for(const c in e){const u=e[c];if(tn.has(c)){a=!0;continue}else if(Id(c)){s[c]=u;continue}else{const d=uh(u,Co[c]);c.startsWith("origin")?(o=!0,i[c]=d):n[c]=d}}if(e.transform||(a||r?n.transform=Nb(e,t.transform,r):n.transform&&(n.transform="none")),o){const{originX:c="50%",originY:u="50%",originZ:d=0}=i;n.transformOrigin=`${c} ${u} ${d}`}}function Sh(t,{style:e,vars:r},n,s){const i=t.style;let a;for(a in e)i[a]=e[a];s==null||s.applyProjectionStyles(i,n);for(a in r)i.setProperty(a,r[a])}function sc(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const bn={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(z.test(t))t=parseFloat(t);else return t;const r=sc(t,e.target.x),n=sc(t,e.target.y);return`${r}% ${n}%`}},Tb={correct:(t,{treeScale:e,projectionDelta:r})=>{const n=t,s=Zt.parse(t);if(s.length>5)return n;const i=Zt.createTransformer(t),a=typeof s[0]!="number"?1:0,o=r.x.scale*e.x,c=r.y.scale*e.y;s[0+a]/=o,s[1+a]/=c;const u=Ee(o,c,.5);return typeof s[2+a]=="number"&&(s[2+a]/=u),typeof s[3+a]=="number"&&(s[3+a]/=u),i(s)}},Pa={borderRadius:{...bn,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:bn,borderTopRightRadius:bn,borderBottomLeftRadius:bn,borderBottomRightRadius:bn,boxShadow:Tb};function jh(t,{layout:e,layoutId:r}){return tn.has(t)||t.startsWith("origin")||(e||r!==void 0)&&(!!Pa[t]||t==="opacity")}function Lo(t,e,r){var a;const n=t.style,s=e==null?void 0:e.style,i={};if(!n)return i;for(const o in n)(Ke(n[o])||s&&Ke(s[o])||jh(o,t)||((a=r==null?void 0:r.getValue(o))==null?void 0:a.liveStyle)!==void 0)&&(i[o]=n[o]);return i}function Cb(t){return window.getComputedStyle(t)}class Pb extends vh{constructor(){super(...arguments),this.type="html",this.renderInstance=Sh}readValueFromInstance(e,r){var n;if(tn.has(r))return(n=this.projection)!=null&&n.isProjecting?ya(r):K0(e,r);{const s=Cb(e),i=(Id(r)?s.getPropertyValue(r):s[r])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:r}){return _h(e,r)}build(e,r,n){Oo(e,r,n.transformTemplate)}scrapeMotionValuesFromProps(e,r,n){return Lo(e,r,n)}}const Rb={offset:"stroke-dashoffset",array:"stroke-dasharray"},Ab={offset:"strokeDashoffset",array:"strokeDasharray"};function Db(t,e,r=1,n=0,s=!0){t.pathLength=1;const i=s?Rb:Ab;t[i.offset]=`${-n}`,t[i.array]=`${e} ${r}`}const Ib=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function kh(t,{attrX:e,attrY:r,attrScale:n,pathLength:s,pathSpacing:i=1,pathOffset:a=0,...o},c,u,d){if(Oo(t,o,u),c){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:h,style:f}=t;h.transform&&(f.transform=h.transform,delete h.transform),(f.transform||h.transformOrigin)&&(f.transformOrigin=h.transformOrigin??"50% 50%",delete h.transformOrigin),f.transform&&(f.transformBox=(d==null?void 0:d.transformBox)??"fill-box",delete h.transformBox);for(const m of Ib)h[m]!==void 0&&(f[m]=h[m],delete h[m]);e!==void 0&&(h.x=e),r!==void 0&&(h.y=r),n!==void 0&&(h.scale=n),s!==void 0&&Db(h,s,i,a,!1)}const Eh=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),Nh=t=>typeof t=="string"&&t.toLowerCase()==="svg";function Ob(t,e,r,n){Sh(t,e,void 0,n);for(const s in e.attrs)t.setAttribute(Eh.has(s)?s:To(s),e.attrs[s])}function Th(t,e,r){const n=Lo(t,e,r);for(const s in t)if(Ke(t[s])||Ke(e[s])){const i=en.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;n[i]=t[s]}return n}class Lb extends vh{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Fe}getBaseTargetFromProps(e,r){return e[r]}readValueFromInstance(e,r){if(tn.has(r)){const n=oh(r);return n&&n.default||0}return r=Eh.has(r)?r:To(r),e.getAttribute(r)}scrapeMotionValuesFromProps(e,r,n){return Th(e,r,n)}build(e,r,n){kh(e,r,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(e,r,n,s){Ob(e,r,n,s)}mount(e){this.isSVGTag=Nh(e.tagName),super.mount(e)}}const Mb=Io.length;function Ch(t){if(!t)return;if(!t.isControllingVariants){const r=t.parent?Ch(t.parent)||{}:{};return t.props.initial!==void 0&&(r.initial=t.props.initial),r}const e={};for(let r=0;r<Mb;r++){const n=Io[r],s=t.props[n];(Wn(s)||s===!1)&&(e[n]=s)}return e}function Ph(t,e){if(!Array.isArray(e))return!1;const r=e.length;if(r!==t.length)return!1;for(let n=0;n<r;n++)if(e[n]!==t[n])return!1;return!0}const Fb=[...Do].reverse(),$b=Do.length;function Bb(t){return e=>Promise.all(e.map(({animation:r,options:n})=>Lv(t,r,n)))}function Ub(t){let e=Bb(t),r=ic(),n=!0;const s=c=>(u,d)=>{var f;const h=Jr(t,d,c==="exit"?(f=t.presenceContext)==null?void 0:f.custom:void 0);if(h){const{transition:m,transitionEnd:p,...v}=h;u={...u,...v,...p}}return u};function i(c){e=c(t)}function a(c){const{props:u}=t,d=Ch(t.parent)||{},h=[],f=new Set;let m={},p=1/0;for(let x=0;x<$b;x++){const g=Fb[x],y=r[g],b=u[g]!==void 0?u[g]:d[g],j=Wn(b),k=g===c?y.isActive:null;k===!1&&(p=x);let T=b===d[g]&&b!==u[g]&&j;if(T&&n&&t.manuallyAnimateOnMount&&(T=!1),y.protectedKeys={...m},!y.isActive&&k===null||!b&&!y.prevProp||hi(b)||typeof b=="boolean")continue;if(g==="exit"&&y.isActive&&k!==!0){y.prevResolvedValues&&(m={...m,...y.prevResolvedValues});continue}const _=Vb(y.prevProp,b);let S=_||g===c&&y.isActive&&!T&&j||x>p&&j,N=!1;const D=Array.isArray(b)?b:[b];let L=D.reduce(s(g),{});k===!1&&(L={});const{prevResolvedValues:B={}}=y,F={...B,...L},X=q=>{S=!0,f.has(q)&&(N=!0,f.delete(q)),y.needsAnimating[q]=!0;const R=t.getValue(q);R&&(R.liveStyle=!1)};for(const q in F){const R=L[q],ue=B[q];if(m.hasOwnProperty(q))continue;let fe=!1;Sa(R)&&Sa(ue)?fe=!Ph(R,ue):fe=R!==ue,fe?R!=null?X(q):f.add(q):R!==void 0&&f.has(q)?X(q):y.protectedKeys[q]=!0}y.prevProp=b,y.prevResolvedValues=L,y.isActive&&(m={...m,...L}),n&&t.blockInitialAnimation&&(S=!1);const le=T&&_;S&&(!le||N)&&h.push(...D.map(q=>{const R={type:g};if(typeof q=="string"&&n&&!le&&t.manuallyAnimateOnMount&&t.parent){const{parent:ue}=t,fe=Jr(ue,q);if(ue.enteringChildren&&fe){const{delayChildren:G}=fe.transition||{};R.delay=Zd(ue.enteringChildren,t,G)}}return{animation:q,options:R}}))}if(f.size){const x={};if(typeof u.initial!="boolean"){const g=Jr(t,Array.isArray(u.initial)?u.initial[0]:u.initial);g&&g.transition&&(x.transition=g.transition)}f.forEach(g=>{const y=t.getBaseTarget(g),b=t.getValue(g);b&&(b.liveStyle=!0),x[g]=y??null}),h.push({animation:x})}let v=!!h.length;return n&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(v=!1),n=!1,v?e(h):Promise.resolve()}function o(c,u){var h;if(r[c].isActive===u)return Promise.resolve();(h=t.variantChildren)==null||h.forEach(f=>{var m;return(m=f.animationState)==null?void 0:m.setActive(c,u)}),r[c].isActive=u;const d=a(c);for(const f in r)r[f].protectedKeys={};return d}return{animateChanges:a,setActive:o,setAnimateFunction:i,getState:()=>r,reset:()=>{r=ic()}}}function Vb(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!Ph(e,t):!1}function ar(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function ic(){return{animate:ar(!0),whileInView:ar(),whileHover:ar(),whileTap:ar(),whileDrag:ar(),whileFocus:ar(),exit:ar()}}function ac(t,e){t.min=e.min,t.max=e.max}function ft(t,e){ac(t.x,e.x),ac(t.y,e.y)}function oc(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}const Rh=1e-4,zb=1-Rh,Wb=1+Rh,Ah=.01,Hb=0-Ah,qb=0+Ah;function Xe(t){return t.max-t.min}function Gb(t,e,r){return Math.abs(t-e)<=r}function lc(t,e,r,n=.5){t.origin=n,t.originPoint=Ee(e.min,e.max,t.origin),t.scale=Xe(r)/Xe(e),t.translate=Ee(r.min,r.max,t.origin)-t.originPoint,(t.scale>=zb&&t.scale<=Wb||isNaN(t.scale))&&(t.scale=1),(t.translate>=Hb&&t.translate<=qb||isNaN(t.translate))&&(t.translate=0)}function An(t,e,r,n){lc(t.x,e.x,r.x,n?n.originX:void 0),lc(t.y,e.y,r.y,n?n.originY:void 0)}function cc(t,e,r){t.min=r.min+e.min,t.max=t.min+Xe(e)}function Kb(t,e,r){cc(t.x,e.x,r.x),cc(t.y,e.y,r.y)}function uc(t,e,r){t.min=e.min-r.min,t.max=t.min+Xe(e)}function ni(t,e,r){uc(t.x,e.x,r.x),uc(t.y,e.y,r.y)}function dc(t,e,r,n,s){return t-=e,t=ri(t,1/r,n),s!==void 0&&(t=ri(t,1/s,n)),t}function Jb(t,e=0,r=1,n=.5,s,i=t,a=t){if(Et.test(e)&&(e=parseFloat(e),e=Ee(a.min,a.max,e/100)-a.min),typeof e!="number")return;let o=Ee(i.min,i.max,n);t===i&&(o-=e),t.min=dc(t.min,e,r,o,s),t.max=dc(t.max,e,r,o,s)}function hc(t,e,[r,n,s],i,a){Jb(t,e[r],e[n],e[s],e.scale,i,a)}const Yb=["x","scaleX","originX"],Xb=["y","scaleY","originY"];function fc(t,e,r,n){hc(t.x,e,Yb,r?r.x:void 0,n?n.x:void 0),hc(t.y,e,Xb,r?r.y:void 0,n?n.y:void 0)}function mc(t){return t.translate===0&&t.scale===1}function Dh(t){return mc(t.x)&&mc(t.y)}function pc(t,e){return t.min===e.min&&t.max===e.max}function Zb(t,e){return pc(t.x,e.x)&&pc(t.y,e.y)}function gc(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function Ih(t,e){return gc(t.x,e.x)&&gc(t.y,e.y)}function yc(t){return Xe(t.x)/Xe(t.y)}function vc(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}function jt(t){return[t("x"),t("y")]}function Qb(t,e,r){let n="";const s=t.x.translate/e.x,i=t.y.translate/e.y,a=(r==null?void 0:r.z)||0;if((s||i||a)&&(n=`translate3d(${s}px, ${i}px, ${a}px) `),(e.x!==1||e.y!==1)&&(n+=`scale(${1/e.x}, ${1/e.y}) `),r){const{transformPerspective:u,rotate:d,rotateX:h,rotateY:f,skewX:m,skewY:p}=r;u&&(n=`perspective(${u}px) ${n}`),d&&(n+=`rotate(${d}deg) `),h&&(n+=`rotateX(${h}deg) `),f&&(n+=`rotateY(${f}deg) `),m&&(n+=`skewX(${m}deg) `),p&&(n+=`skewY(${p}deg) `)}const o=t.x.scale*e.x,c=t.y.scale*e.y;return(o!==1||c!==1)&&(n+=`scale(${o}, ${c})`),n||"none"}const Oh=["TopLeft","TopRight","BottomLeft","BottomRight"],ex=Oh.length,bc=t=>typeof t=="string"?parseFloat(t):t,xc=t=>typeof t=="number"||z.test(t);function tx(t,e,r,n,s,i){s?(t.opacity=Ee(0,r.opacity??1,rx(n)),t.opacityExit=Ee(e.opacity??1,0,nx(n))):i&&(t.opacity=Ee(e.opacity??1,r.opacity??1,n));for(let a=0;a<ex;a++){const o=`border${Oh[a]}Radius`;let c=wc(e,o),u=wc(r,o);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||xc(c)===xc(u)?(t[o]=Math.max(Ee(bc(c),bc(u),n),0),(Et.test(u)||Et.test(c))&&(t[o]+="%")):t[o]=u}(e.rotate||r.rotate)&&(t.rotate=Ee(e.rotate||0,r.rotate||0,n))}function wc(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const rx=Lh(0,.5,Td),nx=Lh(.5,.95,at);function Lh(t,e,r){return n=>n<t?0:n>e?1:r(Un(t,e,n))}function sx(t,e,r){const n=Ke(t)?t:Zr(t);return n.start(Eo("",n,e,r)),n.animation}function Hn(t,e,r,n={passive:!0}){return t.addEventListener(e,r,n),()=>t.removeEventListener(e,r)}const ix=(t,e)=>t.depth-e.depth;class ax{constructor(){this.children=[],this.isDirty=!1}add(e){co(this.children,e),this.isDirty=!0}remove(e){Xs(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(ix),this.isDirty=!1,this.children.forEach(e)}}function ox(t,e){const r=Ye.now(),n=({timestamp:s})=>{const i=s-r;i>=e&&(Xt(n),t(i-e))};return Se.setup(n,!0),()=>Xt(n)}function Gs(t){return Ke(t)?t.get():t}class lx{constructor(){this.members=[]}add(e){co(this.members,e);for(let r=this.members.length-1;r>=0;r--){const n=this.members[r];if(n===e||n===this.lead||n===this.prevLead)continue;const s=n.instance;s&&s.isConnected===!1&&n.isPresent!==!1&&!n.snapshot&&Xs(this.members,n)}e.scheduleRender()}remove(e){if(Xs(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(e){const r=this.members.findIndex(s=>e===s);if(r===0)return!1;let n;for(let s=r;s>=0;s--){const i=this.members[s],a=i.instance;if(i.isPresent!==!1&&(!a||a.isConnected!==!1)){n=i;break}}return n?(this.promote(n),!0):!1}promote(e,r){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender();const s=n.options.layoutDependency,i=e.options.layoutDependency;if(!(s!==void 0&&i!==void 0&&s===i)){const c=n.instance;c&&c.isConnected===!1&&!n.snapshot||(e.resumeFrom=n,r&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0))}const{crossfade:o}=e.options;o===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:r,resumingFrom:n}=e;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const Ks={hasAnimatedSinceResize:!0,hasEverUpdated:!1},Fi=["","X","Y","Z"],cx=1e3;let ux=0;function $i(t,e,r,n){const{latestValues:s}=e;s[t]&&(r[t]=s[t],e.setStaticValue(t,0),n&&(n[t]=0))}function Mh(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const r=nh(e);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:s,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(r,"transform",Se,!(s||i))}const{parent:n}=t;n&&!n.hasCheckedOptimisedAppear&&Mh(n)}function Fh({attachResizeListener:t,defaultParent:e,measureScroll:r,checkIsScrollRoot:n,resetTransform:s}){return class{constructor(a={},o=e==null?void 0:e()){this.id=ux++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(fx),this.nodes.forEach(yx),this.nodes.forEach(vx),this.nodes.forEach(mx)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new ax)}addEventListener(a,o){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new fo),this.eventHandlers.get(a).add(o)}notifyListeners(a,...o){const c=this.eventHandlers.get(a);c&&c.notify(...o)}hasListeners(a){return this.eventHandlers.has(a)}mount(a){if(this.instance)return;this.isSVG=Ao(a)&&!hb(a),this.instance=a;const{layoutId:o,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||o)&&(this.isLayoutDirty=!0),t){let d,h=0;const f=()=>this.root.updateBlockedByResize=!1;Se.read(()=>{h=window.innerWidth}),t(a,()=>{const m=window.innerWidth;m!==h&&(h=m,this.root.updateBlockedByResize=!0,d&&d(),d=ox(f,250),Ks.hasAnimatedSinceResize&&(Ks.hasAnimatedSinceResize=!1,this.nodes.forEach(jc)))})}o&&this.root.registerSharedNode(o,this),this.options.animate!==!1&&u&&(o||c)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:h,hasRelativeLayoutChanged:f,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const p=this.options.transition||u.getDefaultTransition()||Sx,{onLayoutAnimationStart:v,onLayoutAnimationComplete:x}=u.getProps(),g=!this.targetLayout||!Ih(this.targetLayout,m),y=!h&&f;if(this.options.layoutRoot||this.resumeFrom||y||h&&(g||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const b={...ko(p,"layout"),onPlay:v,onComplete:x};(u.shouldReduceMotion||this.options.layoutRoot)&&(b.delay=0,b.type=!1),this.startAnimation(b),this.setAnimationOrigin(d,y)}else h||jc(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Xt(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(bx),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Mh(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:o,layout:c}=this.options;if(o===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(_c);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Sc);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(gx),this.nodes.forEach(dx),this.nodes.forEach(hx)):this.nodes.forEach(Sc),this.clearAllSnapshots();const o=Ye.now();He.delta=Tt(0,1e3/60,o-He.timestamp),He.timestamp=o,He.isProcessing=!0,Pi.update.process(He),Pi.preRender.process(He),Pi.render.process(He),He.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Po.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(px),this.sharedNodes.forEach(xx)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Se.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Se.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Xe(this.snapshot.measuredBox.x)&&!Xe(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Fe(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let o=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(o=!1),o&&this.instance){const c=n(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:c,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!s)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,o=this.projectionDelta&&!Dh(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;a&&this.instance&&(o||ur(this.latestValues)||d)&&(s(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const o=this.measurePageBox();let c=this.removeElementScroll(o);return a&&(c=this.removeTransform(c)),jx(c),{animationId:this.root.animationId,measuredBox:o,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:a}=this.options;if(!a)return Fe();const o=a.measureViewportBox();if(!(((u=this.scroll)==null?void 0:u.wasRoot)||this.path.some(kx))){const{scroll:d}=this.root;d&&(Hr(o.x,d.offset.x),Hr(o.y,d.offset.y))}return o}removeElementScroll(a){var c;const o=Fe();if(ft(o,a),(c=this.scroll)!=null&&c.wasRoot)return o;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:h,options:f}=d;d!==this.root&&h&&f.layoutScroll&&(h.wasRoot&&ft(o,a),Hr(o.x,h.offset.x),Hr(o.y,h.offset.y))}return o}applyTransform(a,o=!1){const c=Fe();ft(c,a);for(let u=0;u<this.path.length;u++){const d=this.path[u];!o&&d.options.layoutScroll&&d.scroll&&d!==d.root&&qr(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),ur(d.latestValues)&&qr(c,d.latestValues)}return ur(this.latestValues)&&qr(c,this.latestValues),c}removeTransform(a){const o=Fe();ft(o,a);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!ur(u.latestValues))continue;Ta(u.latestValues)&&u.updateSnapshot();const d=Fe(),h=u.measurePageBox();ft(d,h),fc(o,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return ur(this.latestValues)&&fc(o,this.latestValues),o}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==He.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var m;const o=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=o.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=o.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=o.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==o;if(!(a||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(m=this.parent)!=null&&m.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:h}=this.options;if(!this.layout||!(d||h))return;this.resolvedRelativeTargetAt=He.timestamp;const f=this.getClosestProjectingParent();f&&this.linkedParentVersion!==f.layoutVersion&&!f.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(f&&f.layout?this.createRelativeTarget(f,this.layout.layoutBox,f.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Fe(),this.targetWithTransforms=Fe()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Kb(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ft(this.target,this.layout.layoutBox),wh(this.target,this.targetDelta)):ft(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,f&&!!f.resumingFrom==!!this.resumingFrom&&!f.options.layoutScroll&&f.target&&this.animationProgress!==1?this.createRelativeTarget(f,this.target,f.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||Ta(this.parent.latestValues)||xh(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(a,o,c){this.relativeParent=a,this.linkedParentVersion=a.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Fe(),this.relativeTargetOrigin=Fe(),ni(this.relativeTargetOrigin,o,c),ft(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var p;const a=this.getLead(),o=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||(p=this.parent)!=null&&p.isProjectionDirty)&&(c=!1),o&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===He.timestamp&&(c=!1),c)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;ft(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,f=this.treeScale.y;Sb(this.layoutCorrected,this.treeScale,this.path,o),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=Fe());const{target:m}=a;if(!m){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(oc(this.prevProjectionDelta.x,this.projectionDelta.x),oc(this.prevProjectionDelta.y,this.projectionDelta.y)),An(this.projectionDelta,this.layoutCorrected,m,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==f||!vc(this.projectionDelta.x,this.prevProjectionDelta.x)||!vc(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){var o;if((o=this.options.visualElement)==null||o.scheduleRender(),a){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Wr(),this.projectionDelta=Wr(),this.projectionDeltaWithTransform=Wr()}setAnimationOrigin(a,o=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},h=Wr();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const f=Fe(),m=c?c.source:void 0,p=this.layout?this.layout.source:void 0,v=m!==p,x=this.getStack(),g=!x||x.members.length<=1,y=!!(v&&!g&&this.options.crossfade===!0&&!this.path.some(_x));this.animationProgress=0;let b;this.mixTargetDelta=j=>{const k=j/1e3;kc(h.x,a.x,k),kc(h.y,a.y,k),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ni(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),wx(this.relativeTarget,this.relativeTargetOrigin,f,k),b&&Zb(this.relativeTarget,b)&&(this.isProjectionDirty=!1),b||(b=Fe()),ft(b,this.relativeTarget)),v&&(this.animationValues=d,tx(d,u,this.latestValues,k,y,g)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=k},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){var o,c,u;this.notifyListeners("animationStart"),(o=this.currentAnimation)==null||o.stop(),(u=(c=this.resumingFrom)==null?void 0:c.currentAnimation)==null||u.stop(),this.pendingAnimation&&(Xt(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Se.update(()=>{Ks.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Zr(0)),this.currentAnimation=sx(this.motionValue,[0,1e3],{...a,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),a.onUpdate&&a.onUpdate(d)},onStop:()=>{},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(cx),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:o,target:c,layout:u,latestValues:d}=a;if(!(!o||!c||!u)){if(this!==a&&this.layout&&u&&$h(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||Fe();const h=Xe(this.layout.layoutBox.x);c.x.min=a.target.x.min,c.x.max=c.x.min+h;const f=Xe(this.layout.layoutBox.y);c.y.min=a.target.y.min,c.y.max=c.y.min+f}ft(o,c),qr(o,d),An(this.projectionDeltaWithTransform,this.layoutCorrected,o,d)}}registerSharedNode(a,o){this.sharedNodes.has(a)||this.sharedNodes.set(a,new lx),this.sharedNodes.get(a).add(o);const u=o.options.initialPromotionConfig;o.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(o):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())==null?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())==null?void 0:o.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:o,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),a&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let o=!1;const{latestValues:c}=a;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(o=!0),!o)return;const u={};c.z&&$i("z",a,u,this.animationValues);for(let d=0;d<Fi.length;d++)$i(`rotate${Fi[d]}`,a,u,this.animationValues),$i(`skew${Fi[d]}`,a,u,this.animationValues);a.render();for(const d in u)a.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);a.scheduleRender()}applyProjectionStyles(a,o){if(!this.instance||this.isSVG)return;if(!this.isVisible){a.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,a.visibility="",a.opacity="",a.pointerEvents=Gs(o==null?void 0:o.pointerEvents)||"",a.transform=c?c(this.latestValues,""):"none";return}const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){this.options.layoutId&&(a.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,a.pointerEvents=Gs(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!ur(this.latestValues)&&(a.transform=c?c({},""):"none",this.hasProjected=!1);return}a.visibility="";const d=u.animationValues||u.latestValues;this.applyTransformsToTarget();let h=Qb(this.projectionDeltaWithTransform,this.treeScale,d);c&&(h=c(d,h)),a.transform=h;const{x:f,y:m}=this.projectionDelta;a.transformOrigin=`${f.origin*100}% ${m.origin*100}% 0`,u.animationValues?a.opacity=u===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:a.opacity=u===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const p in Pa){if(d[p]===void 0)continue;const{correct:v,applyTo:x,isCSSVariable:g}=Pa[p],y=h==="none"?d[p]:v(d[p],u);if(x){const b=x.length;for(let j=0;j<b;j++)a[x[j]]=y}else g?this.options.visualElement.renderState.vars[p]=y:a[p]=y}this.options.layoutId&&(a.pointerEvents=u===this?Gs(o==null?void 0:o.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var o;return(o=a.currentAnimation)==null?void 0:o.stop()}),this.root.nodes.forEach(_c),this.root.sharedNodes.clear()}}}function dx(t){t.updateLayout()}function hx(t){var r;const e=((r=t.resumeFrom)==null?void 0:r.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=t.layout,{animationType:i}=t.options,a=e.source!==t.layout.source;i==="size"?jt(h=>{const f=a?e.measuredBox[h]:e.layoutBox[h],m=Xe(f);f.min=n[h].min,f.max=f.min+m}):$h(i,e.layoutBox,n)&&jt(h=>{const f=a?e.measuredBox[h]:e.layoutBox[h],m=Xe(n[h]);f.max=f.min+m,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+m)});const o=Wr();An(o,n,e.layoutBox);const c=Wr();a?An(c,t.applyTransform(s,!0),e.measuredBox):An(c,n,e.layoutBox);const u=!Dh(o);let d=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:m}=h;if(f&&m){const p=Fe();ni(p,e.layoutBox,f.layoutBox);const v=Fe();ni(v,n,m.layoutBox),Ih(p,v)||(d=!0),h.options.layoutRoot&&(t.relativeTarget=v,t.relativeTargetOrigin=p,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:c,layoutDelta:o,hasLayoutChanged:u,hasRelativeLayoutChanged:d})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function fx(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function mx(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function px(t){t.clearSnapshot()}function _c(t){t.clearMeasurements()}function Sc(t){t.isLayoutDirty=!1}function gx(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function jc(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function yx(t){t.resolveTargetDelta()}function vx(t){t.calcProjection()}function bx(t){t.resetSkewAndRotation()}function xx(t){t.removeLeadSnapshot()}function kc(t,e,r){t.translate=Ee(e.translate,0,r),t.scale=Ee(e.scale,1,r),t.origin=e.origin,t.originPoint=e.originPoint}function Ec(t,e,r,n){t.min=Ee(e.min,r.min,n),t.max=Ee(e.max,r.max,n)}function wx(t,e,r,n){Ec(t.x,e.x,r.x,n),Ec(t.y,e.y,r.y,n)}function _x(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const Sx={duration:.45,ease:[.4,0,.1,1]},Nc=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),Tc=Nc("applewebkit/")&&!Nc("chrome/")?Math.round:at;function Cc(t){t.min=Tc(t.min),t.max=Tc(t.max)}function jx(t){Cc(t.x),Cc(t.y)}function $h(t,e,r){return t==="position"||t==="preserve-aspect"&&!Gb(yc(e),yc(r),.2)}function kx(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const Ex=Fh({attachResizeListener:(t,e)=>Hn(t,"resize",e),measureScroll:()=>{var t,e;return{x:document.documentElement.scrollLeft||((t=document.body)==null?void 0:t.scrollLeft)||0,y:document.documentElement.scrollTop||((e=document.body)==null?void 0:e.scrollTop)||0}},checkIsScrollRoot:()=>!0}),Bi={current:void 0},Bh=Fh({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Bi.current){const t=new Ex({});t.mount(window),t.setOptions({layoutScroll:!0}),Bi.current=t}return Bi.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Uh=w.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function Nx(t=!0){const e=w.useContext(lo);if(e===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:s}=e,i=w.useId();w.useEffect(()=>{if(t)return s(i)},[t]);const a=w.useCallback(()=>t&&n&&n(i),[i,n,t]);return!r&&n?[!1,a]:[!0]}const Vh=w.createContext({strict:!1}),Pc={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let Rc=!1;function Tx(){if(Rc)return;const t={};for(const e in Pc)t[e]={isEnabled:r=>Pc[e].some(n=>!!r[n])};yh(t),Rc=!0}function zh(){return Tx(),bb()}function Cx(t){const e=zh();for(const r in t)e[r]={...e[r],...t[r]};yh(e)}const Px=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","propagate","ignoreStrict","viewport"]);function si(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||Px.has(t)}let Wh=t=>!si(t);function Rx(t){typeof t=="function"&&(Wh=e=>e.startsWith("on")?!si(e):t(e))}try{Rx(require("@emotion/is-prop-valid").default)}catch{}function Ax(t,e,r){const n={};for(const s in t)s==="values"&&typeof t.values=="object"||(Wh(s)||r===!0&&si(s)||!e&&!si(s)||t.draggable&&s.startsWith("onDrag"))&&(n[s]=t[s]);return n}const mi=w.createContext({});function Dx(t,e){if(fi(t)){const{initial:r,animate:n}=t;return{initial:r===!1||Wn(r)?r:void 0,animate:Wn(n)?n:void 0}}return t.inherit!==!1?e:{}}function Ix(t){const{initial:e,animate:r}=Dx(t,w.useContext(mi));return w.useMemo(()=>({initial:e,animate:r}),[Ac(e),Ac(r)])}function Ac(t){return Array.isArray(t)?t.join(" "):t}const Mo=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Hh(t,e,r){for(const n in e)!Ke(e[n])&&!jh(n,r)&&(t[n]=e[n])}function Ox({transformTemplate:t},e){return w.useMemo(()=>{const r=Mo();return Oo(r,e,t),Object.assign({},r.vars,r.style)},[e])}function Lx(t,e){const r=t.style||{},n={};return Hh(n,r,t),Object.assign(n,Ox(t,e)),n}function Mx(t,e){const r={},n=Lx(t,e);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=n,r}const qh=()=>({...Mo(),attrs:{}});function Fx(t,e,r,n){const s=w.useMemo(()=>{const i=qh();return kh(i,e,Nh(n),t.transformTemplate,t.style),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};Hh(i,t.style,t),s.style={...i,...s.style}}return s}const $x=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Fo(t){return typeof t!="string"||t.includes("-")?!1:!!($x.indexOf(t)>-1||/[A-Z]/u.test(t))}function Bx(t,e,r,{latestValues:n},s,i=!1,a){const c=(a??Fo(t)?Fx:Mx)(e,n,s,t),u=Ax(e,typeof t=="string",i),d=t!==w.Fragment?{...u,...c,ref:r}:{},{children:h}=e,f=w.useMemo(()=>Ke(h)?h.get():h,[h]);return w.createElement(t,{...d,children:f})}function Ux({scrapeMotionValuesFromProps:t,createRenderState:e},r,n,s){return{latestValues:Vx(r,n,s,t),renderState:e()}}function Vx(t,e,r,n){const s={},i=n(t,{});for(const f in i)s[f]=Gs(i[f]);let{initial:a,animate:o}=t;const c=fi(t),u=ph(t);e&&u&&!c&&t.inherit!==!1&&(a===void 0&&(a=e.initial),o===void 0&&(o=e.animate));let d=r?r.initial===!1:!1;d=d||a===!1;const h=d?o:a;if(h&&typeof h!="boolean"&&!hi(h)){const f=Array.isArray(h)?h:[h];for(let m=0;m<f.length;m++){const p=No(t,f[m]);if(p){const{transitionEnd:v,transition:x,...g}=p;for(const y in g){let b=g[y];if(Array.isArray(b)){const j=d?b.length-1:0;b=b[j]}b!==null&&(s[y]=b)}for(const y in v)s[y]=v[y]}}}return s}const Gh=t=>(e,r)=>{const n=w.useContext(mi),s=w.useContext(lo),i=()=>Ux(t,e,n,s);return r?i():Wy(i)},zx=Gh({scrapeMotionValuesFromProps:Lo,createRenderState:Mo}),Wx=Gh({scrapeMotionValuesFromProps:Th,createRenderState:qh}),Hx=Symbol.for("motionComponentSymbol");function qx(t,e,r){const n=w.useRef(r);w.useInsertionEffect(()=>{n.current=r});const s=w.useRef(null);return w.useCallback(i=>{var o;i&&((o=t.onMount)==null||o.call(t,i)),e&&(i?e.mount(i):e.unmount());const a=n.current;if(typeof a=="function")if(i){const c=a(i);typeof c=="function"&&(s.current=c)}else s.current?(s.current(),s.current=null):a(i);else a&&(a.current=i)},[e])}const Kh=w.createContext({});function Mr(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function Gx(t,e,r,n,s,i){var b,j;const{visualElement:a}=w.useContext(mi),o=w.useContext(Vh),c=w.useContext(lo),u=w.useContext(Uh),d=u.reducedMotion,h=u.skipAnimations,f=w.useRef(null),m=w.useRef(!1);n=n||o.renderer,!f.current&&n&&(f.current=n(t,{visualState:e,parent:a,props:r,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:d,skipAnimations:h,isSVG:i}),m.current&&f.current&&(f.current.manuallyAnimateOnMount=!0));const p=f.current,v=w.useContext(Kh);p&&!p.projection&&s&&(p.type==="html"||p.type==="svg")&&Kx(f.current,r,s,v);const x=w.useRef(!1);w.useInsertionEffect(()=>{p&&x.current&&p.update(r,c)});const g=r[rh],y=w.useRef(!!g&&!((b=window.MotionHandoffIsComplete)!=null&&b.call(window,g))&&((j=window.MotionHasOptimisedAnimation)==null?void 0:j.call(window,g)));return Hy(()=>{m.current=!0,p&&(x.current=!0,window.MotionIsMounted=!0,p.updateFeatures(),p.scheduleRenderMicrotask(),y.current&&p.animationState&&p.animationState.animateChanges())}),w.useEffect(()=>{p&&(!y.current&&p.animationState&&p.animationState.animateChanges(),y.current&&(queueMicrotask(()=>{var k;(k=window.MotionHandoffMarkAsComplete)==null||k.call(window,g)}),y.current=!1),p.enteringChildren=void 0)}),p}function Kx(t,e,r,n){const{layoutId:s,layout:i,drag:a,dragConstraints:o,layoutScroll:c,layoutRoot:u,layoutCrossfade:d}=e;t.projection=new r(t.latestValues,e["data-framer-portal-id"]?void 0:Jh(t.parent)),t.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!a||o&&Mr(o),visualElement:t,animationType:typeof i=="string"?i:"both",initialPromotionConfig:n,crossfade:d,layoutScroll:c,layoutRoot:u})}function Jh(t){if(t)return t.options.allowProjection!==!1?t.projection:Jh(t.parent)}function Ui(t,{forwardMotionProps:e=!1,type:r}={},n,s){n&&Cx(n);const i=r?r==="svg":Fo(t),a=i?Wx:zx;function o(u,d){let h;const f={...w.useContext(Uh),...u,layoutId:Jx(u)},{isStatic:m}=f,p=Ix(u),v=a(u,m);if(!m&&yd){Yx();const x=Xx(f);h=x.MeasureLayout,p.visualElement=Gx(t,v,f,s,x.ProjectionNode,i)}return l.jsxs(mi.Provider,{value:p,children:[h&&p.visualElement?l.jsx(h,{visualElement:p.visualElement,...f}):null,Bx(t,u,qx(v,p.visualElement,d),v,m,e,i)]})}o.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const c=w.forwardRef(o);return c[Hx]=t,c}function Jx({layoutId:t}){const e=w.useContext(gd).id;return e&&t!==void 0?e+"-"+t:t}function Yx(t,e){w.useContext(Vh).strict}function Xx(t){const e=zh(),{drag:r,layout:n}=e;if(!r&&!n)return{};const s={...r,...n};return{MeasureLayout:r!=null&&r.isEnabled(t)||n!=null&&n.isEnabled(t)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function Zx(t,e){if(typeof Proxy>"u")return Ui;const r=new Map,n=(i,a)=>Ui(i,a,t,e),s=(i,a)=>n(i,a);return new Proxy(s,{get:(i,a)=>a==="create"?n:(r.has(a)||r.set(a,Ui(a,void 0,t,e)),r.get(a))})}const Qx=(t,e)=>e.isSVG??Fo(t)?new Lb(e):new Pb(e,{allowProjection:t!==w.Fragment});class ew extends er{constructor(e){super(e),e.animationState||(e.animationState=Ub(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();hi(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:r}=this.node.prevProps||{};e!==r&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let tw=0;class rw extends er{constructor(){super(...arguments),this.id=tw++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const s=this.node.animationState.setActive("exit",!e);r&&!e&&s.then(()=>{r(this.id)})}mount(){const{register:e,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const nw={animation:{Feature:ew},exit:{Feature:rw}};function us(t){return{point:{x:t.pageX,y:t.pageY}}}const sw=t=>e=>Ro(e)&&t(e,us(e));function Dn(t,e,r,n){return Hn(t,e,sw(r),n)}const Yh=({current:t})=>t?t.ownerDocument.defaultView:null,Dc=(t,e)=>Math.abs(t-e);function iw(t,e){const r=Dc(t.x,e.x),n=Dc(t.y,e.y);return Math.sqrt(r**2+n**2)}const Ic=new Set(["auto","scroll"]);class Xh{constructor(e,r,{transformPagePoint:n,contextWindow:s=window,dragSnapToOrigin:i=!1,distanceThreshold:a=3,element:o}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=m=>{this.handleScroll(m.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const m=zi(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,v=iw(m.offset,{x:0,y:0})>=this.distanceThreshold;if(!p&&!v)return;const{point:x}=m,{timestamp:g}=He;this.history.push({...x,timestamp:g});const{onStart:y,onMove:b}=this.handlers;p||(y&&y(this.lastMoveEvent,m),this.startEvent=this.lastMoveEvent),b&&b(this.lastMoveEvent,m)},this.handlePointerMove=(m,p)=>{this.lastMoveEvent=m,this.lastMoveEventInfo=Vi(p,this.transformPagePoint),Se.update(this.updatePoint,!0)},this.handlePointerUp=(m,p)=>{this.end();const{onEnd:v,onSessionEnd:x,resumeAnimation:g}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&g&&g(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=zi(m.type==="pointercancel"?this.lastMoveEventInfo:Vi(p,this.transformPagePoint),this.history);this.startEvent&&v&&v(m,y),x&&x(m,y)},!Ro(e))return;this.dragSnapToOrigin=i,this.handlers=r,this.transformPagePoint=n,this.distanceThreshold=a,this.contextWindow=s||window;const c=us(e),u=Vi(c,this.transformPagePoint),{point:d}=u,{timestamp:h}=He;this.history=[{...d,timestamp:h}];const{onSessionStart:f}=r;f&&f(e,zi(u,this.history)),this.removeListeners=os(Dn(this.contextWindow,"pointermove",this.handlePointerMove),Dn(this.contextWindow,"pointerup",this.handlePointerUp),Dn(this.contextWindow,"pointercancel",this.handlePointerUp)),o&&this.startScrollTracking(o)}startScrollTracking(e){let r=e.parentElement;for(;r;){const n=getComputedStyle(r);(Ic.has(n.overflowX)||Ic.has(n.overflowY))&&this.scrollPositions.set(r,{x:r.scrollLeft,y:r.scrollTop}),r=r.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(e){const r=this.scrollPositions.get(e);if(!r)return;const n=e===window,s=n?{x:window.scrollX,y:window.scrollY}:{x:e.scrollLeft,y:e.scrollTop},i={x:s.x-r.x,y:s.y-r.y};i.x===0&&i.y===0||(n?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=i.x,this.lastMoveEventInfo.point.y+=i.y):this.history.length>0&&(this.history[0].x-=i.x,this.history[0].y-=i.y),this.scrollPositions.set(e,s),Se.update(this.updatePoint,!0))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),Xt(this.updatePoint)}}function Vi(t,e){return e?{point:e(t.point)}:t}function Oc(t,e){return{x:t.x-e.x,y:t.y-e.y}}function zi({point:t},e){return{point:t,delta:Oc(t,Zh(e)),offset:Oc(t,aw(e)),velocity:ow(e,.1)}}function aw(t){return t[0]}function Zh(t){return t[t.length-1]}function ow(t,e){if(t.length<2)return{x:0,y:0};let r=t.length-1,n=null;const s=Zh(t);for(;r>=0&&(n=t[r],!(s.timestamp-n.timestamp>vt(e)));)r--;if(!n)return{x:0,y:0};n===t[0]&&t.length>2&&s.timestamp-n.timestamp>vt(e)*2&&(n=t[1]);const i=it(s.timestamp-n.timestamp);if(i===0)return{x:0,y:0};const a={x:(s.x-n.x)/i,y:(s.y-n.y)/i};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function lw(t,{min:e,max:r},n){return e!==void 0&&t<e?t=n?Ee(e,t,n.min):Math.max(t,e):r!==void 0&&t>r&&(t=n?Ee(r,t,n.max):Math.min(t,r)),t}function Lc(t,e,r){return{min:e!==void 0?t.min+e:void 0,max:r!==void 0?t.max+r-(t.max-t.min):void 0}}function cw(t,{top:e,left:r,bottom:n,right:s}){return{x:Lc(t.x,r,s),y:Lc(t.y,e,n)}}function Mc(t,e){let r=e.min-t.min,n=e.max-t.max;return e.max-e.min<t.max-t.min&&([r,n]=[n,r]),{min:r,max:n}}function uw(t,e){return{x:Mc(t.x,e.x),y:Mc(t.y,e.y)}}function dw(t,e){let r=.5;const n=Xe(t),s=Xe(e);return s>n?r=Un(e.min,e.max-n,t.min):n>s&&(r=Un(t.min,t.max-s,e.min)),Tt(0,1,r)}function hw(t,e){const r={};return e.min!==void 0&&(r.min=e.min-t.min),e.max!==void 0&&(r.max=e.max-t.min),r}const Ra=.35;function fw(t=Ra){return t===!1?t=0:t===!0&&(t=Ra),{x:Fc(t,"left","right"),y:Fc(t,"top","bottom")}}function Fc(t,e,r){return{min:$c(t,e),max:$c(t,r)}}function $c(t,e){return typeof t=="number"?t:t[e]||0}const mw=new WeakMap;class pw{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Fe(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:r=!1,distanceThreshold:n}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const i=h=>{r&&this.snapToCursor(us(h).point),this.stopAnimation()},a=(h,f)=>{const{drag:m,dragPropagation:p,onDragStart:v}=this.getProps();if(m&&!p&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Jv(m),!this.openDragLock))return;this.latestPointerEvent=h,this.latestPanInfo=f,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),jt(g=>{let y=this.getAxisMotionValue(g).get()||0;if(Et.test(y)){const{projection:b}=this.visualElement;if(b&&b.layout){const j=b.layout.layoutBox[g];j&&(y=Xe(j)*(parseFloat(y)/100))}}this.originPoint[g]=y}),v&&Se.update(()=>v(h,f),!1,!0),ja(this.visualElement,"transform");const{animationState:x}=this.visualElement;x&&x.setActive("whileDrag",!0)},o=(h,f)=>{this.latestPointerEvent=h,this.latestPanInfo=f;const{dragPropagation:m,dragDirectionLock:p,onDirectionLock:v,onDrag:x}=this.getProps();if(!m&&!this.openDragLock)return;const{offset:g}=f;if(p&&this.currentDirection===null){this.currentDirection=yw(g),this.currentDirection!==null&&v&&v(this.currentDirection);return}this.updateAxis("x",f.point,g),this.updateAxis("y",f.point,g),this.visualElement.render(),x&&Se.update(()=>x(h,f),!1,!0)},c=(h,f)=>{this.latestPointerEvent=h,this.latestPanInfo=f,this.stop(h,f),this.latestPointerEvent=null,this.latestPanInfo=null},u=()=>{const{dragSnapToOrigin:h}=this.getProps();(h||this.constraints)&&this.startAnimation({x:0,y:0})},{dragSnapToOrigin:d}=this.getProps();this.panSession=new Xh(e,{onSessionStart:i,onStart:a,onMove:o,onSessionEnd:c,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,distanceThreshold:n,contextWindow:Yh(this.visualElement),element:this.visualElement.current})}stop(e,r){const n=e||this.latestPointerEvent,s=r||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!s||!n)return;const{velocity:a}=s;this.startAnimation(a);const{onDragEnd:o}=this.getProps();o&&Se.postRender(()=>o(n,s))}cancel(){this.isDragging=!1;const{projection:e,animationState:r}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(e,r,n){const{drag:s}=this.getProps();if(!n||!Ps(e,s,this.currentDirection))return;const i=this.getAxisMotionValue(e);let a=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(a=lw(a,this.constraints[e],this.elastic[e])),i.set(a)}resolveConstraints(){var i;const{dragConstraints:e,dragElastic:r}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,s=this.constraints;e&&Mr(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&n?this.constraints=cw(n.layoutBox,e):this.constraints=!1,this.elastic=fw(r),s!==this.constraints&&!Mr(e)&&n&&this.constraints&&!this.hasMutatedConstraints&&jt(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=hw(n.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:r}=this.getProps();if(!e||!Mr(e))return!1;const n=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=jb(n,s.root,this.visualElement.getTransformPagePoint());let a=uw(s.layout.layoutBox,i);if(r){const o=r(wb(a));this.hasMutatedConstraints=!!o,o&&(a=bh(o))}return a}startAnimation(e){const{drag:r,dragMomentum:n,dragElastic:s,dragTransition:i,dragSnapToOrigin:a,onDragTransitionEnd:o}=this.getProps(),c=this.constraints||{},u=jt(d=>{if(!Ps(d,r,this.currentDirection))return;let h=c&&c[d]||{};a&&(h={min:0,max:0});const f=s?200:1e6,m=s?40:1e7,p={type:"inertia",velocity:n?e[d]:0,bounceStiffness:f,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...i,...h};return this.startAxisValueAnimation(d,p)});return Promise.all(u).then(o)}startAxisValueAnimation(e,r){const n=this.getAxisMotionValue(e);return ja(this.visualElement,e),n.start(Eo(e,n,0,r,this.visualElement,!1))}stopAnimation(){jt(e=>this.getAxisMotionValue(e).stop())}getAxisMotionValue(e){const r=`_drag${e.toUpperCase()}`,n=this.visualElement.getProps(),s=n[r];return s||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){jt(r=>{const{drag:n}=this.getProps();if(!Ps(r,n,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(r);if(s&&s.layout){const{min:a,max:o}=s.layout.layoutBox[r],c=i.get()||0;i.set(e[r]-Ee(a,o,.5)+c)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!Mr(r)||!n||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};jt(a=>{const o=this.getAxisMotionValue(a);if(o&&this.constraints!==!1){const c=o.get();s[a]=dw({min:c,max:c},this.constraints[a])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.constraints=!1,this.resolveConstraints(),jt(a=>{if(!Ps(a,e,null))return;const o=this.getAxisMotionValue(a),{min:c,max:u}=this.constraints[a];o.set(Ee(c,u,s[a]))}),this.visualElement.render()}addListeners(){if(!this.visualElement.current)return;mw.set(this.visualElement,this);const e=this.visualElement.current,r=Dn(e,"pointerdown",u=>{const{drag:d,dragListener:h=!0}=this.getProps(),f=u.target,m=f!==e&&tb(f);d&&h&&!m&&this.start(u)});let n;const s=()=>{const{dragConstraints:u}=this.getProps();Mr(u)&&u.current&&(this.constraints=this.resolveRefConstraints(),n||(n=gw(e,u.current,()=>this.scalePositionWithinConstraints())))},{projection:i}=this.visualElement,a=i.addEventListener("measure",s);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Se.read(s);const o=Hn(window,"resize",()=>this.scalePositionWithinConstraints()),c=i.addEventListener("didUpdate",(({delta:u,hasLayoutChanged:d})=>{this.isDragging&&d&&(jt(h=>{const f=this.getAxisMotionValue(h);f&&(this.originPoint[h]+=u[h].translate,f.set(f.get()+u[h].translate))}),this.visualElement.render())}));return()=>{o(),r(),a(),c&&c(),n&&n()}}getProps(){const e=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:a=Ra,dragMomentum:o=!0}=e;return{...e,drag:r,dragDirectionLock:n,dragPropagation:s,dragConstraints:i,dragElastic:a,dragMomentum:o}}}function Bc(t){let e=!0;return()=>{if(e){e=!1;return}t()}}function gw(t,e,r){const n=Jl(t,Bc(r)),s=Jl(e,Bc(r));return()=>{n(),s()}}function Ps(t,e,r){return(e===!0||e===t)&&(r===null||r===t)}function yw(t,e=10){let r=null;return Math.abs(t.y)>e?r="y":Math.abs(t.x)>e&&(r="x"),r}class vw extends er{constructor(e){super(e),this.removeGroupControls=at,this.removeListeners=at,this.controls=new pw(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||at}update(){const{dragControls:e}=this.node.getProps(),{dragControls:r}=this.node.prevProps||{};e!==r&&(this.removeGroupControls(),e&&(this.removeGroupControls=e.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}}const Wi=t=>(e,r)=>{t&&Se.update(()=>t(e,r),!1,!0)};class bw extends er{constructor(){super(...arguments),this.removePointerDownListener=at}onPointerDown(e){this.session=new Xh(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Yh(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:r,onPan:n,onPanEnd:s}=this.node.getProps();return{onSessionStart:Wi(e),onStart:Wi(r),onMove:Wi(n),onEnd:(i,a)=>{delete this.session,s&&Se.postRender(()=>s(i,a))}}}mount(){this.removePointerDownListener=Dn(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let Hi=!1;class xw extends w.Component{componentDidMount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n,layoutId:s}=this.props,{projection:i}=e;i&&(r.group&&r.group.add(i),n&&n.register&&s&&n.register(i),Hi&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),Ks.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:r,visualElement:n,drag:s,isPresent:i}=this.props,{projection:a}=n;return a&&(a.isPresent=i,e.layoutDependency!==r&&a.setOptions({...a.options,layoutDependency:r}),Hi=!0,s||e.layoutDependency!==r||r===void 0||e.isPresent!==i?a.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?a.promote():a.relegate()||Se.postRender(()=>{const o=a.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Po.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:s}=e;Hi=!0,s&&(s.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(s),n&&n.deregister&&n.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Qh(t){const[e,r]=Nx(),n=w.useContext(gd);return l.jsx(xw,{...t,layoutGroup:n,switchLayoutGroup:w.useContext(Kh),isPresent:e,safeToRemove:r})}const ww={pan:{Feature:bw},drag:{Feature:vw,ProjectionNode:Bh,MeasureLayout:Qh}};function Uc(t,e,r){const{props:n}=t;t.animationState&&n.whileHover&&t.animationState.setActive("whileHover",r==="Start");const s="onHover"+r,i=n[s];i&&Se.postRender(()=>i(e,us(e)))}class _w extends er{mount(){const{current:e}=this.node;e&&(this.unmount=Xv(e,(r,n)=>(Uc(this.node,n,"Start"),s=>Uc(this.node,s,"End"))))}unmount(){}}class Sw extends er{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=os(Hn(this.node.current,"focus",()=>this.onFocus()),Hn(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Vc(t,e,r){const{props:n}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&n.whileTap&&t.animationState.setActive("whileTap",r==="Start");const s="onTap"+(r==="End"?"":r),i=n[s];i&&Se.postRender(()=>i(e,us(e)))}class jw extends er{mount(){const{current:e}=this.node;if(!e)return;const{globalTapTarget:r,propagate:n}=this.node.props;this.unmount=nb(e,(s,i)=>(Vc(this.node,i,"Start"),(a,{success:o})=>Vc(this.node,a,o?"End":"Cancel")),{useGlobalTarget:r,stopPropagation:(n==null?void 0:n.tap)===!1})}unmount(){}}const Aa=new WeakMap,qi=new WeakMap,kw=t=>{const e=Aa.get(t.target);e&&e(t)},Ew=t=>{t.forEach(kw)};function Nw({root:t,...e}){const r=t||document;qi.has(r)||qi.set(r,{});const n=qi.get(r),s=JSON.stringify(e);return n[s]||(n[s]=new IntersectionObserver(Ew,{root:t,...e})),n[s]}function Tw(t,e,r){const n=Nw(e);return Aa.set(t,r),n.observe(t),()=>{Aa.delete(t),n.unobserve(t)}}const Cw={some:0,all:1};class Pw extends er{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:r,margin:n,amount:s="some",once:i}=e,a={root:r?r.current:void 0,rootMargin:n,threshold:typeof s=="number"?s:Cw[s]},o=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),f=u?d:h;f&&f(c)};return Tw(this.node.current,a,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:r}=this.node;["amount","margin","root"].some(Rw(e,r))&&this.startObserver()}unmount(){}}function Rw({viewport:t={}},{viewport:e={}}={}){return r=>t[r]!==e[r]}const Aw={inView:{Feature:Pw},tap:{Feature:jw},focus:{Feature:Sw},hover:{Feature:_w}},Dw={layout:{ProjectionNode:Bh,MeasureLayout:Qh}},Iw={...nw,...Aw,...ww,...Dw},M=Zx(Iw,Qx);function pi(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r}function Ow(t,e,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(d){try{u(n.next(d))}catch(h){a(h)}}function c(d){try{u(n.throw(d))}catch(h){a(h)}}function u(d){d.done?i(d.value):s(d.value).then(o,c)}u((n=n.apply(t,e||[])).next())})}const Lw=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class $o extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class Mw extends $o{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class zc extends $o{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Wc extends $o{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Da;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Da||(Da={}));class Fw{constructor(e,{headers:r={},customFetch:n,region:s=Da.Any}={}){this.url=e,this.headers=r,this.region=s,this.fetch=Lw(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return Ow(this,arguments,void 0,function*(r,n={}){var s;let i,a;try{const{headers:o,method:c,body:u,signal:d,timeout:h}=n;let f={},{region:m}=n;m||(m=this.region);const p=new URL(`${this.url}/${r}`);m&&m!=="any"&&(f["x-region"]=m,p.searchParams.set("forceFunctionRegion",m));let v;u&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(f["Content-Type"]="application/octet-stream",v=u):typeof u=="string"?(f["Content-Type"]="text/plain",v=u):typeof FormData<"u"&&u instanceof FormData?v=u:(f["Content-Type"]="application/json",v=JSON.stringify(u)):u&&typeof u!="string"&&!(typeof Blob<"u"&&u instanceof Blob)&&!(u instanceof ArrayBuffer)&&!(typeof FormData<"u"&&u instanceof FormData)?v=JSON.stringify(u):v=u;let x=d;h&&(a=new AbortController,i=setTimeout(()=>a.abort(),h),d?(x=a.signal,d.addEventListener("abort",()=>a.abort())):x=a.signal);const g=yield this.fetch(p.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},f),this.headers),o),body:v,signal:x}).catch(k=>{throw new Mw(k)}),y=g.headers.get("x-relay-error");if(y&&y==="true")throw new zc(g);if(!g.ok)throw new Wc(g);let b=((s=g.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),j;return b==="application/json"?j=yield g.json():b==="application/octet-stream"||b==="application/pdf"?j=yield g.blob():b==="text/event-stream"?j=g:b==="multipart/form-data"?j=yield g.formData():j=yield g.text(),{data:j,error:null,response:g}}catch(o){return{data:null,error:o,response:o instanceof Wc||o instanceof zc?o.context:void 0}}finally{i&&clearTimeout(i)}})}}var $w=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}},Bw=class{constructor(t){var e,r,n;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(e=t.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=t.signal,this.isMaybeSingle=(r=t.isMaybeSingle)!==null&&r!==void 0?r:!1,this.urlLengthLimit=(n=t.urlLengthLimit)!==null&&n!==void 0?n:8e3,t.fetch?this.fetch=t.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=new Headers(this.headers),this.headers.set(t,e),this}then(t,e){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{let a=null,o=null,c=null,u=i.status,d=i.statusText;if(i.ok){var h,f;if(r.method!=="HEAD"){var m;const g=await i.text();g===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((m=r.headers.get("Accept"))===null||m===void 0)&&m.includes("application/vnd.pgrst.plan+text"))?o=g:o=JSON.parse(g))}const v=(h=r.headers.get("Prefer"))===null||h===void 0?void 0:h.match(/count=(exact|planned|estimated)/),x=(f=i.headers.get("content-range"))===null||f===void 0?void 0:f.split("/");v&&x&&x.length>1&&(c=parseInt(x[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(o)&&(o.length>1?(a={code:"PGRST116",details:`Results contain ${o.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},o=null,c=null,u=406,d="Not Acceptable"):o.length===1?o=o[0]:o=null)}else{var p;const v=await i.text();try{a=JSON.parse(v),Array.isArray(a)&&i.status===404&&(o=[],a=null,u=200,d="OK")}catch{i.status===404&&v===""?(u=204,d="No Content"):a={message:v}}if(a&&r.isMaybeSingle&&(!(a==null||(p=a.details)===null||p===void 0)&&p.includes("0 rows"))&&(a=null,u=200,d="OK"),a&&r.shouldThrowOnError)throw new $w(a)}return{error:a,data:o,count:c,status:u,statusText:d}});return this.shouldThrowOnError||(s=s.catch(i=>{var a;let o="",c="",u="";const d=i==null?void 0:i.cause;if(d){var h,f,m,p;const g=(h=d==null?void 0:d.message)!==null&&h!==void 0?h:"",y=(f=d==null?void 0:d.code)!==null&&f!==void 0?f:"";o=`${(m=i==null?void 0:i.name)!==null&&m!==void 0?m:"FetchError"}: ${i==null?void 0:i.message}`,o+=`

Caused by: ${(p=d==null?void 0:d.name)!==null&&p!==void 0?p:"Error"}: ${g}`,y&&(o+=` (${y})`),d!=null&&d.stack&&(o+=`
${d.stack}`)}else{var v;o=(v=i==null?void 0:i.stack)!==null&&v!==void 0?v:""}const x=this.url.toString().length;return(i==null?void 0:i.name)==="AbortError"||(i==null?void 0:i.code)==="ABORT_ERR"?(u="",c="Request was aborted (timeout or manual cancellation)",x>this.urlLengthLimit&&(c+=`. Note: Your request URL is ${x} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):((d==null?void 0:d.name)==="HeadersOverflowError"||(d==null?void 0:d.code)==="UND_ERR_HEADERS_OVERFLOW")&&(u="",c="HTTP headers exceeded server limits (typically 16KB)",x>this.urlLengthLimit&&(c+=`. Your request URL is ${x} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${(a=i==null?void 0:i.name)!==null&&a!==void 0?a:"FetchError"}: ${i==null?void 0:i.message}`,details:o,hint:c,code:u},data:null,count:null,status:0,statusText:""}})),s.then(t,e)}returns(){return this}overrideTypes(){return this}},Uw=class extends Bw{select(t){let e=!1;const r=(t??"*").split("").map(n=>/\s/.test(n)&&!e?"":(n==='"'&&(e=!e),n)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:e=!0,nullsFirst:r,foreignTable:n,referencedTable:s=n}={}){const i=s?`${s}.order`:"order",a=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${a?`${a},`:""}${t}.${e?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:r=e}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${t}`),this}range(t,e,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"offset":`${n}.offset`,i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this.url.searchParams.set(i,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:e=!1,settings:r=!1,buffers:n=!1,wal:s=!1,format:i="text"}={}){var a;const o=[t?"analyze":null,e?"verbose":null,r?"settings":null,n?"buffers":null,s?"wal":null].filter(Boolean).join("|"),c=(a=this.headers.get("Accept"))!==null&&a!==void 0?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${c}"; options=${o};`),i==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};const Hc=new RegExp("[,()]");var Fr=class extends Uw{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}regexMatch(t,e){return this.url.searchParams.append(t,`match.${e}`),this}regexIMatch(t,e){return this.url.searchParams.append(t,`imatch.${e}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}isDistinct(t,e){return this.url.searchParams.append(t,`isdistinct.${e}`),this}in(t,e){const r=Array.from(new Set(e)).map(n=>typeof n=="string"&&Hc.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}notIn(t,e){const r=Array.from(new Set(e)).map(n=>typeof n=="string"&&Hc.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(t,`not.in.(${r})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:r,type:n}={}){let s="";n==="plain"?s="pl":n==="phrase"?s="ph":n==="websearch"&&(s="w");const i=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${s}fts${i}.${e}`),this}match(t){return Object.entries(t).forEach(([e,r])=>{this.url.searchParams.append(e,`eq.${r}`)}),this}not(t,e,r){return this.url.searchParams.append(t,`not.${e}.${r}`),this}or(t,{foreignTable:e,referencedTable:r=e}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${t})`),this}filter(t,e,r){return this.url.searchParams.append(t,`${e}.${r}`),this}},Vw=class{constructor(t,{headers:e={},schema:r,fetch:n,urlLengthLimit:s=8e3}){this.url=t,this.headers=new Headers(e),this.schema=r,this.fetch=n,this.urlLengthLimit=s}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(t,e){const{head:r=!1,count:n}=e??{},s=r?"HEAD":"GET";let i=!1;const a=(t??"*").split("").map(u=>/\s/.test(u)&&!i?"":(u==='"'&&(i=!i),u)).join(""),{url:o,headers:c}=this.cloneRequestState();return o.searchParams.set("select",a),n&&c.append("Prefer",`count=${n}`),new Fr({method:s,url:o,headers:c,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(t,{count:e,defaultToNull:r=!0}={}){var n;const s="POST",{url:i,headers:a}=this.cloneRequestState();if(e&&a.append("Prefer",`count=${e}`),r||a.append("Prefer","missing=default"),Array.isArray(t)){const o=t.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(o.length>0){const c=[...new Set(o)].map(u=>`"${u}"`);i.searchParams.set("columns",c.join(","))}}return new Fr({method:s,url:i,headers:a,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(t,{onConflict:e,ignoreDuplicates:r=!1,count:n,defaultToNull:s=!0}={}){var i;const a="POST",{url:o,headers:c}=this.cloneRequestState();if(c.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),e!==void 0&&o.searchParams.set("on_conflict",e),n&&c.append("Prefer",`count=${n}`),s||c.append("Prefer","missing=default"),Array.isArray(t)){const u=t.reduce((d,h)=>d.concat(Object.keys(h)),[]);if(u.length>0){const d=[...new Set(u)].map(h=>`"${h}"`);o.searchParams.set("columns",d.join(","))}}return new Fr({method:a,url:o,headers:c,schema:this.schema,body:t,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch,urlLengthLimit:this.urlLengthLimit})}update(t,{count:e}={}){var r;const n="PATCH",{url:s,headers:i}=this.cloneRequestState();return e&&i.append("Prefer",`count=${e}`),new Fr({method:n,url:s,headers:i,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:t}={}){var e;const r="DELETE",{url:n,headers:s}=this.cloneRequestState();return t&&s.append("Prefer",`count=${t}`),new Fr({method:r,url:n,headers:s,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch,urlLengthLimit:this.urlLengthLimit})}};function qn(t){"@babel/helpers - typeof";return qn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qn(t)}function zw(t,e){if(qn(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(qn(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ww(t){var e=zw(t,"string");return qn(e)=="symbol"?e:e+""}function Hw(t,e,r){return(e=Ww(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function qc(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Rs(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?qc(Object(r),!0).forEach(function(n){Hw(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qc(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var qw=class ef{constructor(e,{headers:r={},schema:n,fetch:s,timeout:i,urlLengthLimit:a=8e3}={}){this.url=e,this.headers=new Headers(r),this.schemaName=n,this.urlLengthLimit=a;const o=s??globalThis.fetch;i!==void 0&&i>0?this.fetch=(c,u)=>{const d=new AbortController,h=setTimeout(()=>d.abort(),i),f=u==null?void 0:u.signal;if(f){if(f.aborted)return clearTimeout(h),o(c,u);const m=()=>{clearTimeout(h),d.abort()};return f.addEventListener("abort",m,{once:!0}),o(c,Rs(Rs({},u),{},{signal:d.signal})).finally(()=>{clearTimeout(h),f.removeEventListener("abort",m)})}return o(c,Rs(Rs({},u),{},{signal:d.signal})).finally(()=>clearTimeout(h))}:this.fetch=o}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new Vw(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(e){return new ef(this.url,{headers:this.headers,schema:e,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(e,r={},{head:n=!1,get:s=!1,count:i}={}){var a;let o;const c=new URL(`${this.url}/rpc/${e}`);let u;const d=m=>m!==null&&typeof m=="object"&&(!Array.isArray(m)||m.some(d)),h=n&&Object.values(r).some(d);h?(o="POST",u=r):n||s?(o=n?"HEAD":"GET",Object.entries(r).filter(([m,p])=>p!==void 0).map(([m,p])=>[m,Array.isArray(p)?`{${p.join(",")}}`:`${p}`]).forEach(([m,p])=>{c.searchParams.append(m,p)})):(o="POST",u=r);const f=new Headers(this.headers);return h?f.set("Prefer",i?`count=${i},return=minimal`:"return=minimal"):i&&f.set("Prefer",`count=${i}`),new Fr({method:o,url:c,headers:f,schema:this.schemaName,body:u,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch,urlLengthLimit:this.urlLengthLimit})}};class Gw{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const r=globalThis.process;if(r){const n=r.versions;if(n&&n.node){const s=n.node,i=parseInt(s.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const Kw="2.95.3",Jw=`realtime-js/${Kw}`,Yw="1.0.0",tf="2.0.0",Gc=tf,Ia=1e4,Xw=1e3,Zw=100;var Ht;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Ht||(Ht={}));var Me;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Me||(Me={}));var yt;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(yt||(yt={}));var Oa;(function(t){t.websocket="websocket"})(Oa||(Oa={}));var hr;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(hr||(hr={}));class Qw{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,r){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(e));let n=[e.join_ref,e.ref,e.topic,e.event,e.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(e){var r;return this._isArrayBuffer((r=e.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var r,n;const s=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,s)}_encodeJsonUserBroadcastPush(e){var r,n;const s=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},a=new TextEncoder().encode(JSON.stringify(s)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,a)}_encodeUserBroadcastPush(e,r,n){var s,i;const a=e.topic,o=(s=e.ref)!==null&&s!==void 0?s:"",c=(i=e.join_ref)!==null&&i!==void 0?i:"",u=e.payload.event,d=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},h=Object.keys(d).length===0?"":JSON.stringify(d);if(c.length>255)throw new Error(`joinRef length ${c.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`ref length ${o.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`topic length ${a.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`metadata length ${h.length} exceeds maximum of 255`);const f=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+o.length+a.length+u.length+h.length,m=new ArrayBuffer(this.HEADER_LENGTH+f);let p=new DataView(m),v=0;p.setUint8(v++,this.KINDS.userBroadcastPush),p.setUint8(v++,c.length),p.setUint8(v++,o.length),p.setUint8(v++,a.length),p.setUint8(v++,u.length),p.setUint8(v++,h.length),p.setUint8(v++,r),Array.from(c,g=>p.setUint8(v++,g.charCodeAt(0))),Array.from(o,g=>p.setUint8(v++,g.charCodeAt(0))),Array.from(a,g=>p.setUint8(v++,g.charCodeAt(0))),Array.from(u,g=>p.setUint8(v++,g.charCodeAt(0))),Array.from(h,g=>p.setUint8(v++,g.charCodeAt(0)));var x=new Uint8Array(m.byteLength+n.byteLength);return x.set(new Uint8Array(m),0),x.set(new Uint8Array(n),m.byteLength),x.buffer}decode(e,r){if(this._isArrayBuffer(e)){let n=this._binaryDecode(e);return r(n)}if(typeof e=="string"){const n=JSON.parse(e),[s,i,a,o,c]=n;return r({join_ref:s,ref:i,topic:a,event:o,payload:c})}return r({})}_binaryDecode(e){const r=new DataView(e),n=r.getUint8(0),s=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,r,s)}}_decodeUserBroadcast(e,r,n){const s=r.getUint8(1),i=r.getUint8(2),a=r.getUint8(3),o=r.getUint8(4);let c=this.HEADER_LENGTH+4;const u=n.decode(e.slice(c,c+s));c=c+s;const d=n.decode(e.slice(c,c+i));c=c+i;const h=n.decode(e.slice(c,c+a));c=c+a;const f=e.slice(c,e.byteLength),m=o===this.JSON_ENCODING?JSON.parse(n.decode(f)):f,p={type:this.BROADCAST_EVENT,event:d,payload:m};return a>0&&(p.meta=JSON.parse(h)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:p}}_isArrayBuffer(e){var r;return e instanceof ArrayBuffer||((r=e==null?void 0:e.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(e,r){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([n])=>r.includes(n)))}}class rf{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var _e;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(_e||(_e={}));const Kc=(t,e,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return e?Object.keys(e).reduce((i,a)=>(i[a]=e_(a,t,e,s),i),{}):{}},e_=(t,e,r,n)=>{const s=e.find(o=>o.name===t),i=s==null?void 0:s.type,a=r[t];return i&&!n.includes(i)?nf(i,a):La(a)},nf=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return s_(e,r)}switch(t){case _e.bool:return t_(e);case _e.float4:case _e.float8:case _e.int2:case _e.int4:case _e.int8:case _e.numeric:case _e.oid:return r_(e);case _e.json:case _e.jsonb:return n_(e);case _e.timestamp:return i_(e);case _e.abstime:case _e.date:case _e.daterange:case _e.int4range:case _e.int8range:case _e.money:case _e.reltime:case _e.text:case _e.time:case _e.timestamptz:case _e.timetz:case _e.tsrange:case _e.tstzrange:return La(e);default:return La(e)}},La=t=>t,t_=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},r_=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},n_=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t},s_=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let i;const a=t.slice(1,r);try{i=JSON.parse("["+a+"]")}catch{i=a?a.split(","):[]}return i.map(o=>nf(e,o))}return t},i_=t=>typeof t=="string"?t.replace(" ","T"):t,sf=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Gi{constructor(e,r,n={},s=Ia){this.channel=e,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Jc;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Jc||(Jc={}));class In{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:a,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=In.syncState(this.state,s,i,a),this.pendingDiffs.forEach(c=>{this.state=In.syncDiff(this.state,c,i,a)}),this.pendingDiffs=[],o()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:a,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=In.syncDiff(this.state,s,i,a),o())}),this.onJoin((s,i,a)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:a})}),this.onLeave((s,i,a)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,s){const i=this.cloneDeep(e),a=this.transformState(r),o={},c={};return this.map(i,(u,d)=>{a[u]||(c[u]=d)}),this.map(a,(u,d)=>{const h=i[u];if(h){const f=d.map(x=>x.presence_ref),m=h.map(x=>x.presence_ref),p=d.filter(x=>m.indexOf(x.presence_ref)<0),v=h.filter(x=>f.indexOf(x.presence_ref)<0);p.length>0&&(o[u]=p),v.length>0&&(c[u]=v)}else o[u]=d}),this.syncDiff(i,{joins:o,leaves:c},n,s)}static syncDiff(e,r,n,s){const{joins:i,leaves:a}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(o,c)=>{var u;const d=(u=e[o])!==null&&u!==void 0?u:[];if(e[o]=this.cloneDeep(c),d.length>0){const h=e[o].map(m=>m.presence_ref),f=d.filter(m=>h.indexOf(m.presence_ref)<0);e[o].unshift(...f)}n(o,d,c)}),this.map(a,(o,c)=>{let u=e[o];if(!u)return;const d=c.map(h=>h.presence_ref);u=u.filter(h=>d.indexOf(h.presence_ref)<0),e[o]=u,s(o,u,c),u.length===0&&delete e[o]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const s=e[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Yc;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Yc||(Yc={}));var On;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(On||(On={}));var Lt;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Lt||(Lt={}));class Gr{constructor(e,r={config:{}},n){var s,i;if(this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=Me.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Gi(this,yt.join,this.params,this.timeout),this.rejoinTimer=new rf(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Me.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Me.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Me.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Me.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Me.errored,this.rejoinTimer.scheduleTimeout())}),this._on(yt.reply,{},(a,o)=>{this._trigger(this._replyEventName(o),a)}),this.presence=new In(this),this.broadcastEndpointURL=sf(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var n,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Me.closed){const{config:{broadcast:a,presence:o,private:c}}=this.params,u=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(m=>m.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[On.PRESENCE]&&this.bindings[On.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,h={},f={broadcast:a,presence:Object.assign(Object.assign({},o),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(m=>e==null?void 0:e(Lt.CHANNEL_ERROR,m)),this._onClose(()=>e==null?void 0:e(Lt.CLOSED)),this.updateJoinPayload(Object.assign({config:f},h)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:m})=>{var p;if(this.socket._isManualToken()||this.socket.setAuth(),m===void 0){e==null||e(Lt.SUBSCRIBED);return}else{const v=this.bindings.postgres_changes,x=(p=v==null?void 0:v.length)!==null&&p!==void 0?p:0,g=[];for(let y=0;y<x;y++){const b=v[y],{filter:{event:j,schema:k,table:T,filter:_}}=b,S=m&&m[y];if(S&&S.event===j&&Gr.isFilterValueEqual(S.schema,k)&&Gr.isFilterValueEqual(S.table,T)&&Gr.isFilterValueEqual(S.filter,_))g.push(Object.assign(Object.assign({},b),{id:S.id}));else{this.unsubscribe(),this.state=Me.errored,e==null||e(Lt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,e&&e(Lt.SUBSCRIBED);return}}).receive("error",m=>{this.state=Me.errored,e==null||e(Lt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Lt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===Me.joined&&e===On.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,r,n)}async httpSend(e,r,n={}){var s;if(r==null)return Promise.reject("Payload is required for httpSend()");const i={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(i.Authorization=`Bearer ${this.socket.accessTokenValue}`);const a={method:"POST",headers:i,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},o=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);if(o.status===202)return{success:!0};let c=o.statusText;try{const u=await o.json();c=u.error||u.message||c}catch{}return Promise.reject(new Error(c))}async send(e,r={}){var n,s;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:a}=e,o={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(o.Authorization=`Bearer ${this.socket.accessTokenValue}`);const c={method:"POST",headers:o,body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:a,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var a,o,c;const u=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(o=(a=this.params)===null||a===void 0?void 0:a.config)===null||o===void 0?void 0:o.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Me.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(yt.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new Gi(this,yt.leave,{},e),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Me.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),a=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),a}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Gi(this,e,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>Zw){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var s,i;const a=e.toLocaleLowerCase(),{close:o,error:c,leave:u,join:d}=yt;if(n&&[o,c,u,d].indexOf(a)>=0&&n!==this._joinRef())return;let f=this._onMessage(a,r,n);if(r&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(m=>{var p,v,x;return((p=m.filter)===null||p===void 0?void 0:p.event)==="*"||((x=(v=m.filter)===null||v===void 0?void 0:v.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===a}).map(m=>m.callback(f,n)):(i=this.bindings[a])===null||i===void 0||i.filter(m=>{var p,v,x,g,y,b;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in m){const j=m.id,k=(p=m.filter)===null||p===void 0?void 0:p.event;return j&&((v=r.ids)===null||v===void 0?void 0:v.includes(j))&&(k==="*"||(k==null?void 0:k.toLocaleLowerCase())===((x=r.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const j=(y=(g=m==null?void 0:m.filter)===null||g===void 0?void 0:g.event)===null||y===void 0?void 0:y.toLocaleLowerCase();return j==="*"||j===((b=r==null?void 0:r.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===a}).map(m=>{if(typeof f=="object"&&"ids"in f){const p=f.data,{schema:v,table:x,commit_timestamp:g,type:y,errors:b}=p;f=Object.assign(Object.assign({},{schema:v,table:x,commit_timestamp:g,eventType:y,new:{},old:{},errors:b}),this._getPayloadRecords(p))}m.callback(f,n)})}_isClosed(){return this.state===Me.closed}_isJoined(){return this.state===Me.joined}_isJoining(){return this.state===Me.joining}_isLeaving(){return this.state===Me.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const s=e.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&Gr.isEqual(s.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}static isFilterValueEqual(e,r){return(e??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(yt.close,{},e)}_onError(e){this._on(yt.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Me.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=Kc(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=Kc(e.columns,e.old_record)),r}}const Ki=()=>{},As={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},a_=[1e3,2e3,5e3,1e4],o_=1e4,l_=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class c_{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Ia,this.transport=null,this.heartbeatIntervalMs=As.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Ki,this.ref=0,this.reconnectTimer=null,this.vsn=Gc,this.logger=Ki,this.conn=null,this.sendBuffer=[],this.serializer=new Qw,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=s=>s?(...i)=>s(...i):(...i)=>fetch(...i),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${Oa.websocket}`,this.httpEndpoint=sf(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Gw.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return r==="ok"&&this._remove(e),this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Ht.connecting:return hr.Connecting;case Ht.open:return hr.Open;case Ht.closing:return hr.Closing;default:return hr.Closed}}isConnected(){return this.connectionState()===hr.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new Gr(`realtime:${e}`,r,this);return this.channels.push(i),i}}push(e){const{topic:r,event:n,payload:s,ref:i}=e,a=()=>{this.encode(e,o=>{var c;(c=this.conn)===null||c===void 0||c.send(o)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(Xw,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},As.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply"&&r.ref&&r.ref===this.pendingHeartbeatRef){const u=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error",u)}catch(d){this.log("error","error in heartbeat callback",d)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:n,event:s,payload:i,ref:a}=r,o=a?`(${a})`:"",c=i.status||"";this.log("receive",`${c} ${n} ${s} ${o}`.trim(),i),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(s,i,a)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===Ht.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Ht.open||this.conn.readyState===Ht.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e);try{this.heartbeatCallback("error")}catch(r){this.log("error","error in heartbeat callback",r)}}_triggerChanError(){this.channels.forEach(e=>e._trigger(yt.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${e}${n}${s}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([l_],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r,n=!1;if(e)r=e,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(s){this.log("error","Error fetching access token from callback",s),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(s=>{const i={access_token:r,version:Jw};r&&s.updateJoinPayload(i),s.joinedOnce&&s._isJoined()&&s._push(yt.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new rf(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},As.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,s,i,a,o,c,u,d,h,f,m;switch(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:Ia,this.heartbeatIntervalMs=(s=e==null?void 0:e.heartbeatIntervalMs)!==null&&s!==void 0?s:As.HEARTBEAT_INTERVAL,this.worker=(i=e==null?void 0:e.worker)!==null&&i!==void 0?i:!1,this.accessToken=(a=e==null?void 0:e.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(o=e==null?void 0:e.heartbeatCallback)!==null&&o!==void 0?o:Ki,this.vsn=(c=e==null?void 0:e.vsn)!==null&&c!==void 0?c:Gc,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=e==null?void 0:e.reconnectAfterMs)!==null&&u!==void 0?u:(p=>a_[p-1]||o_),this.vsn){case Yw:this.encode=(d=e==null?void 0:e.encode)!==null&&d!==void 0?d:((p,v)=>v(JSON.stringify(p))),this.decode=(h=e==null?void 0:e.decode)!==null&&h!==void 0?h:((p,v)=>v(JSON.parse(p)));break;case tf:this.encode=(f=e==null?void 0:e.encode)!==null&&f!==void 0?f:this.serializer.encode.bind(this.serializer),this.decode=(m=e==null?void 0:e.decode)!==null&&m!==void 0?m:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}var Gn=class extends Error{constructor(t,e){var r;super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&((r=e.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function u_(t,e,r){const n=new URL(e,t);if(r)for(const[s,i]of Object.entries(r))i!==void 0&&n.searchParams.set(s,i);return n.toString()}async function d_(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function h_(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:s,body:i,headers:a}){const o=u_(t.baseUrl,n,s),c=await d_(t.auth),u=await e(o,{method:r,headers:{...i?{"Content-Type":"application/json"}:{},...c,...a},body:i?JSON.stringify(i):void 0}),d=await u.text(),h=(u.headers.get("content-type")||"").includes("application/json"),f=h&&d?JSON.parse(d):d;if(!u.ok){const m=h?f:void 0,p=m==null?void 0:m.error;throw new Gn((p==null?void 0:p.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:p==null?void 0:p.type,icebergCode:p==null?void 0:p.code,details:m})}return{status:u.status,headers:u.headers,data:f}}}}function Ds(t){return t.join("")}var f_=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:Ds(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(t,e){const r={namespace:t.namespace,properties:e==null?void 0:e.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Ds(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ds(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Ds(t.namespace)}`}),!0}catch(e){if(e instanceof Gn&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(r){if(r instanceof Gn&&r.status===409)return;throw r}}};function Tr(t){return t.join("")}var m_=class{constructor(t,e="",r){this.client=t,this.prefix=e,this.accessDelegation=r}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Tr(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Tr(t.namespace)}/tables`,body:e,headers:r})).data.metadata}async updateTable(t,e){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Tr(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Tr(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String((e==null?void 0:e.purge)??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Tr(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Tr(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(r){if(r instanceof Gn&&r.status===404)return!1;throw r}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(r){if(r instanceof Gn&&r.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw r}}},p_=class{constructor(t){var n;let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const r=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=h_({baseUrl:r,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=(n=t.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new f_(this.client,e),this.tableOps=new m_(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}},gi=class extends Error{constructor(t,e="storage",r,n){super(t),this.__isStorageError=!0,this.namespace=e,this.name=e==="vectors"?"StorageVectorsError":"StorageError",this.status=r,this.statusCode=n}};function yi(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var Is=class extends gi{constructor(t,e,r,n="storage"){super(t,n,e,r),this.name=n==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=e,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},af=class extends gi{constructor(t,e,r="storage"){super(t,r),this.name=r==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=e}};const g_=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),y_=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Ma=t=>{if(Array.isArray(t))return t.map(r=>Ma(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=Ma(n)}),e},v_=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t);function Kn(t){"@babel/helpers - typeof";return Kn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kn(t)}function b_(t,e){if(Kn(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Kn(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function x_(t){var e=b_(t,"string");return Kn(e)=="symbol"?e:e+""}function w_(t,e,r){return(e=x_(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Xc(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function ne(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Xc(Object(r),!0).forEach(function(n){w_(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Xc(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}const Zc=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},__=async(t,e,r,n)=>{if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(r!=null&&r.noResolveJson)){const s=t,i=s.status||500;if(typeof s.json=="function")s.json().then(a=>{const o=(a==null?void 0:a.statusCode)||(a==null?void 0:a.code)||i+"";e(new Is(Zc(a),i,o,n))}).catch(()=>{if(n==="vectors"){const a=i+"";e(new Is(s.statusText||`HTTP ${i} error`,i,a,n))}else{const a=i+"";e(new Is(s.statusText||`HTTP ${i} error`,i,a,n))}});else{const a=i+"";e(new Is(s.statusText||`HTTP ${i} error`,i,a,n))}}else e(new af(Zc(t),t,n))},S_=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||t==="HEAD"||!n?ne(ne({},s),r):(y_(n)?(s.headers=ne({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(n)):s.body=n,e!=null&&e.duplex&&(s.duplex=e.duplex),ne(ne({},s),r))};async function xn(t,e,r,n,s,i,a){return new Promise((o,c)=>{t(r,S_(e,n,s,i)).then(u=>{if(!u.ok)throw u;if(n!=null&&n.noResolveJson)return u;if(a==="vectors"){const d=u.headers.get("content-type");if(u.headers.get("content-length")==="0"||u.status===204)return{};if(!d||!d.includes("application/json"))return{}}return u.json()}).then(u=>o(u)).catch(u=>__(u,c,n,a))})}function of(t="storage"){return{get:async(e,r,n,s)=>xn(e,"GET",r,n,s,void 0,t),post:async(e,r,n,s,i)=>xn(e,"POST",r,s,i,n,t),put:async(e,r,n,s,i)=>xn(e,"PUT",r,s,i,n,t),head:async(e,r,n,s)=>xn(e,"HEAD",r,ne(ne({},n),{},{noResolveJson:!0}),s,void 0,t),remove:async(e,r,n,s,i)=>xn(e,"DELETE",r,s,i,n,t)}}const j_=of("storage"),{get:Jn,post:gt,put:Fa,head:k_,remove:Bo}=j_,tt=of("vectors");var rn=class{constructor(t,e={},r,n="storage"){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.fetch=g_(r),this.namespace=n}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(t){var e=this;try{return{data:await t(),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(yi(r))return{data:null,error:r};throw r}}},E_=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}then(t,e){return this.execute().then(t,e)}async execute(){var t=this;try{return{data:(await t.downloadFn()).body,error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(yi(e))return{data:null,error:e};throw e}}};let lf;lf=Symbol.toStringTag;var N_=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e,this[lf]="BlobDownloadBuilder",this.promise=null}asStream(){return new E_(this.downloadFn,this.shouldThrowOnError)}then(t,e){return this.getPromise().then(t,e)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var t=this;try{return{data:await(await t.downloadFn()).blob(),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(yi(e))return{data:null,error:e};throw e}}};const T_={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Qc={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var C_=class extends rn{constructor(t,e={},r,n){super(t,e,n,"storage"),this.bucketId=r}async uploadOrUpdate(t,e,r,n){var s=this;return s.handleOperation(async()=>{let i;const a=ne(ne({},Qc),n);let o=ne(ne({},s.headers),t==="POST"&&{"x-upsert":String(a.upsert)});const c=a.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",a.cacheControl),c&&i.append("metadata",s.encodeMetadata(c)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.has("cacheControl")||i.append("cacheControl",a.cacheControl),c&&!i.has("metadata")&&i.append("metadata",s.encodeMetadata(c))):(i=r,o["cache-control"]=`max-age=${a.cacheControl}`,o["content-type"]=a.contentType,c&&(o["x-metadata"]=s.toBase64(s.encodeMetadata(c))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!a.duplex&&(a.duplex="half")),n!=null&&n.headers&&(o=ne(ne({},o),n.headers));const u=s._removeEmptyFolders(e),d=s._getFinalPath(u),h=await(t=="PUT"?Fa:gt)(s.fetch,`${s.url}/object/${d}`,i,ne({headers:o},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{path:u,id:h.Id,fullPath:h.Key}})}async upload(t,e,r){return this.uploadOrUpdate("POST",t,e,r)}async uploadToSignedUrl(t,e,r,n){var s=this;const i=s._removeEmptyFolders(t),a=s._getFinalPath(i),o=new URL(s.url+`/object/upload/sign/${a}`);return o.searchParams.set("token",e),s.handleOperation(async()=>{let c;const u=ne({upsert:Qc.upsert},n),d=ne(ne({},s.headers),{"x-upsert":String(u.upsert)});return typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",u.cacheControl)):(c=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType),{path:i,fullPath:(await Fa(s.fetch,o.toString(),c,{headers:d})).Key}})}async createSignedUploadUrl(t,e){var r=this;return r.handleOperation(async()=>{let n=r._getFinalPath(t);const s=ne({},r.headers);e!=null&&e.upsert&&(s["x-upsert"]="true");const i=await gt(r.fetch,`${r.url}/object/upload/sign/${n}`,{},{headers:s}),a=new URL(r.url+i.url),o=a.searchParams.get("token");if(!o)throw new gi("No token returned by API");return{signedUrl:a.toString(),path:t,token:o}})}async update(t,e,r){return this.uploadOrUpdate("PUT",t,e,r)}async move(t,e,r){var n=this;return n.handleOperation(async()=>await gt(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers}))}async copy(t,e,r){var n=this;return n.handleOperation(async()=>({path:(await gt(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers})).Key}))}async createSignedUrl(t,e,r){var n=this;return n.handleOperation(async()=>{let s=n._getFinalPath(t),i=await gt(n.fetch,`${n.url}/object/sign/${s}`,ne({expiresIn:e},r!=null&&r.transform?{transform:r.transform}:{}),{headers:n.headers});const a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{signedUrl:encodeURI(`${n.url}${i.signedURL}${a}`)}})}async createSignedUrls(t,e,r){var n=this;return n.handleOperation(async()=>{const s=await gt(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:e,paths:t},{headers:n.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return s.map(a=>ne(ne({},a),{},{signedUrl:a.signedURL?encodeURI(`${n.url}${a.signedURL}${i}`):null}))})}download(t,e,r){const n=typeof(e==null?void 0:e.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((e==null?void 0:e.transform)||{}),i=s?`?${s}`:"",a=this._getFinalPath(t),o=()=>Jn(this.fetch,`${this.url}/${n}/${a}${i}`,{headers:this.headers,noResolveJson:!0},r);return new N_(o,this.shouldThrowOnError)}async info(t){var e=this;const r=e._getFinalPath(t);return e.handleOperation(async()=>Ma(await Jn(e.fetch,`${e.url}/object/info/${r}`,{headers:e.headers})))}async exists(t){var e=this;const r=e._getFinalPath(t);try{return await k_(e.fetch,`${e.url}/object/${r}`,{headers:e.headers}),{data:!0,error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(yi(n)&&n instanceof af){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}}getPublicUrl(t,e){const r=this._getFinalPath(t),n=[],s=e!=null&&e.download?`download=${e.download===!0?"":e.download}`:"";s!==""&&n.push(s);const i=typeof(e==null?void 0:e.transform)<"u"?"render/image":"object",a=this.transformOptsToQueryString((e==null?void 0:e.transform)||{});a!==""&&n.push(a);let o=n.join("&");return o!==""&&(o=`?${o}`),{data:{publicUrl:encodeURI(`${this.url}/${i}/public/${r}${o}`)}}}async remove(t){var e=this;return e.handleOperation(async()=>await Bo(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:t},{headers:e.headers}))}async list(t,e,r){var n=this;return n.handleOperation(async()=>{const s=ne(ne(ne({},T_),e),{},{prefix:t||""});return await gt(n.fetch,`${n.url}/object/list/${n.bucketId}`,s,{headers:n.headers},r)})}async listV2(t,e){var r=this;return r.handleOperation(async()=>{const n=ne({},t);return await gt(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,n,{headers:r.headers},e)})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};const P_="2.95.3",ds={"X-Client-Info":`storage-js/${P_}`};var R_=class extends rn{constructor(t,e={},r,n){const s=new URL(t);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase."));const i=s.href.replace(/\/$/,""),a=ne(ne({},ds),e);super(i,a,r,"storage")}async listBuckets(t){var e=this;return e.handleOperation(async()=>{const r=e.listBucketOptionsToQueryString(t);return await Jn(e.fetch,`${e.url}/bucket${r}`,{headers:e.headers})})}async getBucket(t){var e=this;return e.handleOperation(async()=>await Jn(e.fetch,`${e.url}/bucket/${t}`,{headers:e.headers}))}async createBucket(t,e={public:!1}){var r=this;return r.handleOperation(async()=>await gt(r.fetch,`${r.url}/bucket`,{id:t,name:t,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:r.headers}))}async updateBucket(t,e){var r=this;return r.handleOperation(async()=>await Fa(r.fetch,`${r.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:r.headers}))}async emptyBucket(t){var e=this;return e.handleOperation(async()=>await gt(e.fetch,`${e.url}/bucket/${t}/empty`,{},{headers:e.headers}))}async deleteBucket(t){var e=this;return e.handleOperation(async()=>await Bo(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}))}listBucketOptionsToQueryString(t){const e={};return t&&("limit"in t&&(e.limit=String(t.limit)),"offset"in t&&(e.offset=String(t.offset)),t.search&&(e.search=t.search),t.sortColumn&&(e.sortColumn=t.sortColumn),t.sortOrder&&(e.sortOrder=t.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},A_=class extends rn{constructor(t,e={},r){const n=t.replace(/\/$/,""),s=ne(ne({},ds),e);super(n,s,r,"storage")}async createBucket(t){var e=this;return e.handleOperation(async()=>await gt(e.fetch,`${e.url}/bucket`,{name:t},{headers:e.headers}))}async listBuckets(t){var e=this;return e.handleOperation(async()=>{const r=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&r.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&r.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&r.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&r.set("sortOrder",t.sortOrder),t!=null&&t.search&&r.set("search",t.search);const n=r.toString(),s=n?`${e.url}/bucket?${n}`:`${e.url}/bucket`;return await Jn(e.fetch,s,{headers:e.headers})})}async deleteBucket(t){var e=this;return e.handleOperation(async()=>await Bo(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}))}from(t){var e=this;if(!v_(t))throw new gi("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new p_({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(s,i){const a=s[i];return typeof a!="function"?a:async(...o)=>{try{return{data:await a.apply(s,o),error:null}}catch(c){if(n)throw c;return{data:null,error:c}}}}})}},D_=class extends rn{constructor(t,e={},r){const n=t.replace(/\/$/,""),s=ne(ne({},ds),{},{"Content-Type":"application/json"},e);super(n,s,r,"vectors")}async createIndex(t){var e=this;return e.handleOperation(async()=>await tt.post(e.fetch,`${e.url}/CreateIndex`,t,{headers:e.headers})||{})}async getIndex(t,e){var r=this;return r.handleOperation(async()=>await tt.post(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:t,indexName:e},{headers:r.headers}))}async listIndexes(t){var e=this;return e.handleOperation(async()=>await tt.post(e.fetch,`${e.url}/ListIndexes`,t,{headers:e.headers}))}async deleteIndex(t,e){var r=this;return r.handleOperation(async()=>await tt.post(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:t,indexName:e},{headers:r.headers})||{})}},I_=class extends rn{constructor(t,e={},r){const n=t.replace(/\/$/,""),s=ne(ne({},ds),{},{"Content-Type":"application/json"},e);super(n,s,r,"vectors")}async putVectors(t){var e=this;if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return e.handleOperation(async()=>await tt.post(e.fetch,`${e.url}/PutVectors`,t,{headers:e.headers})||{})}async getVectors(t){var e=this;return e.handleOperation(async()=>await tt.post(e.fetch,`${e.url}/GetVectors`,t,{headers:e.headers}))}async listVectors(t){var e=this;if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return e.handleOperation(async()=>await tt.post(e.fetch,`${e.url}/ListVectors`,t,{headers:e.headers}))}async queryVectors(t){var e=this;return e.handleOperation(async()=>await tt.post(e.fetch,`${e.url}/QueryVectors`,t,{headers:e.headers}))}async deleteVectors(t){var e=this;if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return e.handleOperation(async()=>await tt.post(e.fetch,`${e.url}/DeleteVectors`,t,{headers:e.headers})||{})}},O_=class extends rn{constructor(t,e={},r){const n=t.replace(/\/$/,""),s=ne(ne({},ds),{},{"Content-Type":"application/json"},e);super(n,s,r,"vectors")}async createBucket(t){var e=this;return e.handleOperation(async()=>await tt.post(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{})}async getBucket(t){var e=this;return e.handleOperation(async()=>await tt.post(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:t},{headers:e.headers}))}async listBuckets(t={}){var e=this;return e.handleOperation(async()=>await tt.post(e.fetch,`${e.url}/ListVectorBuckets`,t,{headers:e.headers}))}async deleteBucket(t){var e=this;return e.handleOperation(async()=>await tt.post(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{})}},L_=class extends O_{constructor(t,e={}){super(t,e.headers||{},e.fetch)}from(t){return new M_(this.url,this.headers,t,this.fetch)}async createBucket(t){var e=()=>super.createBucket,r=this;return e().call(r,t)}async getBucket(t){var e=()=>super.getBucket,r=this;return e().call(r,t)}async listBuckets(t={}){var e=()=>super.listBuckets,r=this;return e().call(r,t)}async deleteBucket(t){var e=()=>super.deleteBucket,r=this;return e().call(r,t)}},M_=class extends D_{constructor(t,e,r,n){super(t,e,n),this.vectorBucketName=r}async createIndex(t){var e=()=>super.createIndex,r=this;return e().call(r,ne(ne({},t),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(t={}){var e=()=>super.listIndexes,r=this;return e().call(r,ne(ne({},t),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(t){var e=()=>super.getIndex,r=this;return e().call(r,r.vectorBucketName,t)}async deleteIndex(t){var e=()=>super.deleteIndex,r=this;return e().call(r,r.vectorBucketName,t)}index(t){return new F_(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},F_=class extends I_{constructor(t,e,r,n,s){super(t,e,s),this.vectorBucketName=r,this.indexName=n}async putVectors(t){var e=()=>super.putVectors,r=this;return e().call(r,ne(ne({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(t){var e=()=>super.getVectors,r=this;return e().call(r,ne(ne({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(t={}){var e=()=>super.listVectors,r=this;return e().call(r,ne(ne({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(t){var e=()=>super.queryVectors,r=this;return e().call(r,ne(ne({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(t){var e=()=>super.deleteVectors,r=this;return e().call(r,ne(ne({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},$_=class extends R_{constructor(t,e={},r,n){super(t,e,r,n)}from(t){return new C_(this.url,this.headers,t,this.fetch)}get vectors(){return new L_(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new A_(this.url+"/iceberg",this.headers,this.fetch)}};const cf="2.95.3",$r=30*1e3,$a=3,Ji=$a*$r,B_="http://localhost:9999",U_="supabase.auth.token",V_={"X-Client-Info":`gotrue-js/${cf}`},Ba="X-Supabase-Api-Version",uf={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},z_=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,W_=600*1e3;class Yn extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function H(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class H_ extends Yn{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function q_(t){return H(t)&&t.name==="AuthApiError"}class fr extends Yn{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class $t extends Yn{constructor(e,r,n,s){super(e,n,s),this.name=r,this.status=n}}class Qe extends $t{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Yi(t){return H(t)&&t.name==="AuthSessionMissingError"}class Cr extends $t{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Os extends $t{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Ls extends $t{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function G_(t){return H(t)&&t.name==="AuthImplicitGrantRedirectError"}class eu extends $t{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class K_ extends $t{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Ua extends $t{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function Xi(t){return H(t)&&t.name==="AuthRetryableFetchError"}class tu extends $t{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Va extends $t{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const ii="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),ru=` 	
\r=`.split(""),J_=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<ru.length;e+=1)t[ru[e].charCodeAt(0)]=-2;for(let e=0;e<ii.length;e+=1)t[ii[e].charCodeAt(0)]=e;return t})();function nu(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(ii[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(ii[n]),e.queuedBits-=6}}function df(t,e,r){const n=J_[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function su(t){const e=[],r=a=>{e.push(String.fromCodePoint(a))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=a=>{Z_(a,n,r)};for(let a=0;a<t.length;a+=1)df(t.charCodeAt(a),s,i);return e.join("")}function Y_(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function X_(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}Y_(n,e)}}function Z_(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if((t>>7-n&1)===0){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function Yr(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)df(t.charCodeAt(s),r,n);return new Uint8Array(e)}function Q_(t){const e=[];return X_(t,r=>e.push(r)),new Uint8Array(e)}function yr(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};return t.forEach(s=>nu(s,r,n)),nu(null,r,n),e.join("")}function eS(t){return Math.round(Date.now()/1e3)+t}function tS(){return Symbol("auth-callback")}const We=()=>typeof window<"u"&&typeof document<"u",or={tested:!1,writable:!1},hf=()=>{if(!We())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(or.tested)return or.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),or.tested=!0,or.writable=!0}catch{or.tested=!0,or.writable=!1}return or.writable};function rS(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{e[s]=n}),e}const ff=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),nS=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Br=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},lr=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},ze=async(t,e)=>{await t.removeItem(e)};class vi{constructor(){this.promise=new vi.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}vi.promiseConstructor=Promise;function Ms(t){const e=t.split(".");if(e.length!==3)throw new Va("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!z_.test(e[n]))throw new Va("JWT not in base64url format");return{header:JSON.parse(su(e[0])),payload:JSON.parse(su(e[1])),signature:Yr(e[2]),raw:{header:e[0],payload:e[1]}}}async function sS(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function iS(t,e){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const a=await t(i);if(!e(i,null,a)){n(a);return}}catch(a){if(!e(i,a)){s(a);return}}})()})}function aS(t){return("0"+t.toString(16)).substr(-2)}function oS(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(e),Array.from(e,aS).join("")}async function lS(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function cS(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await lS(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Pr(t,e,r=!1){const n=oS();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await Br(t,`${e}-code-verifier`,s);const i=await cS(n);return[i,n===i?"plain":"s256"]}const uS=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function dS(t){const e=t.headers.get(Ba);if(!e||!e.match(uS))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function hS(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function fS(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const mS=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Rr(t){if(!mS.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Zi(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function pS(t,e){return new Proxy(t,{get:(r,n,s)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,s)}return!e.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(r,n,s)}})}function iu(t){return JSON.parse(JSON.stringify(t))}const dr=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),gS=[502,503,504];async function au(t){var e;if(!nS(t))throw new Ua(dr(t),0);if(gS.includes(t.status))throw new Ua(dr(t),t.status);let r;try{r=await t.json()}catch(i){throw new fr(dr(i),i)}let n;const s=dS(t);if(s&&s.getTime()>=uf["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new tu(dr(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new Qe}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,a)=>i&&typeof a=="string",!0))throw new tu(dr(r),t.status,r.weak_password.reasons);throw new H_(dr(r),t.status||500,n)}const yS=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function te(t,e,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[Ba]||(i[Ba]=uf["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const a=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(a.redirect_to=n.redirectTo);const o=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",c=await vS(t,e,r+o,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function vS(t,e,r,n,s,i){const a=yS(e,n,s,i);let o;try{o=await t(r,Object.assign({},a))}catch(c){throw console.error(c),new Ua(dr(c),0)}if(o.ok||await au(o),n!=null&&n.noResolveJson)return o;try{return await o.json()}catch(c){await au(c)}}function mt(t){var e;let r=null;wS(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=eS(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function ou(t){const e=mt(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Kt(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function bS(t){return{data:t,error:null}}function xS(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=t,a=pi(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},c=Object.assign({},a);return{data:{properties:o,user:c},error:null}}function lu(t){return t}function wS(t){return t.access_token&&t.refresh_token&&t.expires_in}const Qi=["global","local","others"];class _S{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=ff(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=Qi[0]){if(Qi.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Qi.join(", ")}`);try{return await te(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(H(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await te(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Kt})}catch(n){if(H(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=pi(e,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await te(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:xS,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(H(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await te(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Kt})}catch(r){if(H(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,s,i,a,o,c;try{const u={nextPage:null,lastPage:0,total:0},d=await te(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:lu});if(d.error)throw d.error;const h=await d.json(),f=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,m=(c=(o=d.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(p=>{const v=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(p.split(";")[1].split("=")[1]);u[`${x}Page`]=v}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(H(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){Rr(e);try{return await te(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Kt})}catch(r){if(H(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){Rr(e);try{return await te(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:Kt})}catch(n){if(H(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){Rr(e);try{return await te(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:Kt})}catch(n){if(H(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){Rr(e.userId);try{const{data:r,error:n}=await te(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(H(r))return{data:null,error:r};throw r}}async _deleteFactor(e){Rr(e.userId),Rr(e.id);try{return{data:await te(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(H(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,n,s,i,a,o,c;try{const u={nextPage:null,lastPage:0,total:0},d=await te(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:lu});if(d.error)throw d.error;const h=await d.json(),f=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,m=(c=(o=d.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(p=>{const v=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(p.split(";")[1].split("=")[1]);u[`${x}Page`]=v}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(H(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(e){try{return await te(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(H(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await te(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(H(r))return{data:null,error:r};throw r}}async _updateOAuthClient(e,r){try{return await te(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(H(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await te(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(H(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await te(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(H(r))return{data:null,error:r};throw r}}}function cu(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const Ar={debug:!!(globalThis&&hf()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class mf extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class SS extends mf{}async function jS(t,e,r){Ar.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),Ar.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){Ar.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await r()}finally{Ar.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw Ar.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new SS(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Ar.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function kS(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function pf(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function ES(t){return parseInt(t,16)}function NS(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,n=>n.toString(16).padStart(2,"0")).join("")}function TS(t){var e;const{chainId:r,domain:n,expirationTime:s,issuedAt:i=new Date,nonce:a,notBefore:o,requestId:c,resources:u,scheme:d,uri:h,version:f}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(a&&a.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(f!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${f}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const m=pf(t.address),p=d?`${d}://${n}`:n,v=t.statement?`${t.statement}
`:"",x=`${p} wants you to sign in with your Ethereum account:
${m}

${v}`;let g=`URI: ${h}
Version: ${f}
Chain ID: ${r}${a?`
Nonce: ${a}`:""}
Issued At: ${i.toISOString()}`;if(s&&(g+=`
Expiration Time: ${s.toISOString()}`),o&&(g+=`
Not Before: ${o.toISOString()}`),c&&(g+=`
Request ID: ${c}`),u){let y=`
Resources:`;for(const b of u){if(!b||typeof b!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${b}`);y+=`
- ${b}`}g+=y}return`${x}
${g}`}class De extends Error{constructor({message:e,code:r,cause:n,name:s}){var i;super(e,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=s??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class ai extends De{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function CS({error:t,options:e}){var r,n,s;const{publicKey:i}=e;if(!i)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new De({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new De({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new De({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new De({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new De({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new De({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return i.pubKeyCredParams.filter(o=>o.type==="public-key").length===0?new De({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new De({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const a=window.location.hostname;if(gf(a)){if(i.rp.id!==a)return new De({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new De({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new De({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new De({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new De({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function PS({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new De({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new De({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const n=window.location.hostname;if(gf(n)){if(r.rpId!==n)return new De({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new De({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new De({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new De({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class RS{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const AS=new RS;function DS(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:n}=t,s=pi(t,["challenge","user","excludeCredentials"]),i=Yr(e).buffer,a=Object.assign(Object.assign({},r),{id:Yr(r.id).buffer}),o=Object.assign(Object.assign({},s),{challenge:i,user:a});if(n&&n.length>0){o.excludeCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const u=n[c];o.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:Yr(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return o}function IS(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,n=pi(t,["challenge","allowCredentials"]),s=Yr(e).buffer,i=Object.assign(Object.assign({},n),{challenge:s});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let a=0;a<r.length;a++){const o=r[a];i.allowCredentials[a]=Object.assign(Object.assign({},o),{id:Yr(o.id).buffer,type:o.type||"public-key",transports:o.transports})}}return i}function OS(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:yr(new Uint8Array(t.response.attestationObject)),clientDataJSON:yr(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function LS(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,n=t.getClientExtensionResults(),s=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:yr(new Uint8Array(s.authenticatorData)),clientDataJSON:yr(new Uint8Array(s.clientDataJSON)),signature:yr(new Uint8Array(s.signature)),userHandle:s.userHandle?yr(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function gf(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function uu(){var t,e;return!!(We()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function MS(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new ai("Browser returned unexpected credential type",e)}:{data:null,error:new ai("Empty credential response",e)}}catch(e){return{data:null,error:CS({error:e,options:t})}}}async function FS(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new ai("Browser returned unexpected credential type",e)}:{data:null,error:new ai("Empty credential response",e)}}catch(e){return{data:null,error:PS({error:e,options:t})}}}const $S={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},BS={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function oi(...t){const e=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),r=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),n={};for(const s of t)if(s)for(const i in s){const a=s[i];if(a!==void 0)if(Array.isArray(a))n[i]=a;else if(r(a))n[i]=a;else if(e(a)){const o=n[i];e(o)?n[i]=oi(o,a):n[i]=oi(a)}else n[i]=a}return n}function US(t,e){return oi($S,t,e||{})}function VS(t,e){return oi(BS,t,e||{})}class zS{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:n,signal:s},i){var a;try{const{data:o,error:c}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!o)return{data:null,error:c};const u=s??AS.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:d}=o.webauthn.credential_options.publicKey;if(!d.name){const h=n;if(h)d.name=`${d.id}:${h}`;else{const m=(await this.client.getUser()).data.user,p=((a=m==null?void 0:m.user_metadata)===null||a===void 0?void 0:a.name)||(m==null?void 0:m.email)||(m==null?void 0:m.id)||"User";d.name=`${d.id}:${p}`}}d.displayName||(d.displayName=d.name)}switch(o.webauthn.type){case"create":{const d=US(o.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:h,error:f}=await MS({publicKey:d,signal:u});return h?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:h}},error:null}:{data:null,error:f}}case"request":{const d=VS(o.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:h,error:f}=await FS(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:d,signal:u}));return h?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:h}},error:null}:{data:null,error:f}}}}catch(o){return H(o)?{data:null,error:o}:{data:null,error:new fr("Unexpected error in challenge",o)}}}async _verify({challengeId:e,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:n})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!r)return{data:null,error:new Yn("rpId is required for WebAuthn authentication")};try{if(!uu())return{data:null,error:new fr("Browser does not support WebAuthn",null)};const{data:a,error:o}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:n},signal:s},{request:i});if(!a)return{data:null,error:o};const{webauthn:c}=a;return this._verify({factorId:e,challengeId:a.challengeId,webauthn:{type:c.type,rpId:r,rpOrigins:n,credential_response:c.credential_response}})}catch(a){return H(a)?{data:null,error:a}:{data:null,error:new fr("Unexpected error in authenticate",a)}}}async _register({friendlyName:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!r)return{data:null,error:new Yn("rpId is required for WebAuthn registration")};try{if(!uu())return{data:null,error:new fr("Browser does not support WebAuthn",null)};const{data:a,error:o}=await this._enroll({friendlyName:e});if(!a)return await this.client.mfa.listFactors().then(d=>{var h;return(h=d.data)===null||h===void 0?void 0:h.all.find(f=>f.factor_type==="webauthn"&&f.friendly_name===e&&f.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:o};const{data:c,error:u}=await this._challenge({factorId:a.id,friendlyName:a.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:s},{create:i});return c?this._verify({factorId:a.id,challengeId:c.challengeId,webauthn:{rpId:r,rpOrigins:n,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(a){return H(a)?{data:null,error:a}:{data:null,error:new fr("Unexpected error in register",a)}}}}kS();const WS={url:B_,storageKey:U_,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:V_,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function du(t,e,r){return await r()}const Dr={};class Xn{get jwks(){var e,r;return(r=(e=Dr[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){Dr[this.storageKey]=Object.assign(Object.assign({},Dr[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=Dr[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Dr[this.storageKey]=Object.assign(Object.assign({},Dr[this.storageKey]),{cachedAt:e})}constructor(e){var r,n,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},WS),e);if(this.storageKey=i.storageKey,this.instanceID=(r=Xn.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,Xn.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&We()){const a=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(a),this.logDebugMessages&&console.trace(a)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new _S({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=ff(i.fetch),this.lock=i.lock||du,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,this.lockAcquireTimeout=i.lockAcquireTimeout,i.lock?this.lock=i.lock:this.persistSession&&We()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=jS:this.lock=du,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new zS(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:hf()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=cu(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=cu(this.memoryStorage)),We()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a);try{await this._notifyAllSubscribers(a.data.event,a.data.session,!1)}catch(o){this._debug("#broadcastChannel","error",o)}})}this.initialize().catch(a=>{this._debug("#initialize()","error",a)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${cf}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let r={},n="none";if(We()&&(r=rS(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),We()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),G_(i)){const c=(e=i.details)===null||e===void 0?void 0:e.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return{error:i}}const{session:a,redirectType:o}=s;return this._debug("#_initialize()","detected session in URL",a,"redirect type",o),await this._saveSession(a),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return H(r)?this._returnResult({error:r}):this._returnResult({error:new fr("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,s;try{const i=await te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:mt}),{data:a,error:o}=i;if(o||!a)return this._returnResult({data:{user:null,session:null},error:o});const c=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(i){if(H(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(e){var r,n,s;try{let i;if("email"in e){const{email:d,password:h,options:f}=e;let m=null,p=null;this.flowType==="pkce"&&([m,p]=await Pr(this.storage,this.storageKey)),i=await te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:d,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:m,code_challenge_method:p},xform:mt})}else if("phone"in e){const{phone:d,password:h,options:f}=e;i=await te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:mt})}else throw new Os("You must provide either an email or phone number and a password");const{data:a,error:o}=i;if(o||!a)return await ze(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:o});const c=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(i){if(await ze(this.storage,`${this.storageKey}-code-verifier`),H(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(e){try{let r;if("email"in e){const{email:i,password:a,options:o}=e;r=await te(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:ou})}else if("phone"in e){const{phone:i,password:a,options:o}=e;r=await te(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:ou})}else throw new Os("You must provide either an email or phone number and a password");const{data:n,error:s}=r;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!n||!n.session||!n.user){const i=new Cr;return this._returnResult({data:{user:null,session:null},error:i})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(H(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(e){var r,n,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,n,s,i,a,o,c,u,d,h,f;let m,p;if("message"in e)m=e.message,p=e.signature;else{const{chain:v,wallet:x,statement:g,options:y}=e;let b;if(We())if(typeof x=="object")b=x;else{const N=window;if("ethereum"in N&&typeof N.ethereum=="object"&&"request"in N.ethereum&&typeof N.ethereum.request=="function")b=N.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(y!=null&&y.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");b=x}const j=new URL((r=y==null?void 0:y.url)!==null&&r!==void 0?r:window.location.href),k=await b.request({method:"eth_requestAccounts"}).then(N=>N).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!k||k.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const T=pf(k[0]);let _=(n=y==null?void 0:y.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!_){const N=await b.request({method:"eth_chainId"});_=ES(N)}const S={domain:j.host,address:T,statement:g,uri:j.href,version:"1",chainId:_,nonce:(s=y==null?void 0:y.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(a=(i=y==null?void 0:y.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(o=y==null?void 0:y.signInWithEthereum)===null||o===void 0?void 0:o.expirationTime,notBefore:(c=y==null?void 0:y.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=y==null?void 0:y.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=y==null?void 0:y.signInWithEthereum)===null||d===void 0?void 0:d.resources};m=TS(S),p=await b.request({method:"personal_sign",params:[NS(m),T]})}try{const{data:v,error:x}=await te(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:m,signature:p},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(f=e.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:mt});if(x)throw x;if(!v||!v.session||!v.user){const g=new Cr;return this._returnResult({data:{user:null,session:null},error:g})}return v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),this._returnResult({data:Object.assign({},v),error:x})}catch(v){if(H(v))return this._returnResult({data:{user:null,session:null},error:v});throw v}}async signInWithSolana(e){var r,n,s,i,a,o,c,u,d,h,f,m;let p,v;if("message"in e)p=e.message,v=e.signature;else{const{chain:x,wallet:g,statement:y,options:b}=e;let j;if(We())if(typeof g=="object")j=g;else{const T=window;if("solana"in T&&typeof T.solana=="object"&&("signIn"in T.solana&&typeof T.solana.signIn=="function"||"signMessage"in T.solana&&typeof T.solana.signMessage=="function"))j=T.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");j=g}const k=new URL((r=b==null?void 0:b.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in j&&j.signIn){const T=await j.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},b==null?void 0:b.signInWithSolana),{version:"1",domain:k.host,uri:k.href}),y?{statement:y}:null));let _;if(Array.isArray(T)&&T[0]&&typeof T[0]=="object")_=T[0];else if(T&&typeof T=="object"&&"signedMessage"in T&&"signature"in T)_=T;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in _&&"signature"in _&&(typeof _.signedMessage=="string"||_.signedMessage instanceof Uint8Array)&&_.signature instanceof Uint8Array)p=typeof _.signedMessage=="string"?_.signedMessage:new TextDecoder().decode(_.signedMessage),v=_.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in j)||typeof j.signMessage!="function"||!("publicKey"in j)||typeof j!="object"||!j.publicKey||!("toBase58"in j.publicKey)||typeof j.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");p=[`${k.host} wants you to sign in with your Solana account:`,j.publicKey.toBase58(),...y?["",y,""]:[""],"Version: 1",`URI: ${k.href}`,`Issued At: ${(s=(n=b==null?void 0:b.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=b==null?void 0:b.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${b.signInWithSolana.notBefore}`]:[],...!((a=b==null?void 0:b.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${b.signInWithSolana.expirationTime}`]:[],...!((o=b==null?void 0:b.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${b.signInWithSolana.chainId}`]:[],...!((c=b==null?void 0:b.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${b.signInWithSolana.nonce}`]:[],...!((u=b==null?void 0:b.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${b.signInWithSolana.requestId}`]:[],...!((h=(d=b==null?void 0:b.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...b.signInWithSolana.resources.map(_=>`- ${_}`)]:[]].join(`
`);const T=await j.signMessage(new TextEncoder().encode(p),"utf8");if(!T||!(T instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");v=T}}try{const{data:x,error:g}=await te(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:p,signature:yr(v)},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(m=e.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:mt});if(g)throw g;if(!x||!x.session||!x.user){const y=new Cr;return this._returnResult({data:{user:null,session:null},error:y})}return x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),this._returnResult({data:Object.assign({},x),error:g})}catch(x){if(H(x))return this._returnResult({data:{user:null,session:null},error:x});throw x}}async _exchangeCodeForSession(e){const r=await lr(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{if(!n&&this.flowType==="pkce")throw new K_;const{data:i,error:a}=await te(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:mt});if(await ze(this.storage,`${this.storageKey}-code-verifier`),a)throw a;if(!i||!i.session||!i.user){const o=new Cr;return this._returnResult({data:{user:null,session:null,redirectType:null},error:o})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:a})}catch(i){if(await ze(this.storage,`${this.storageKey}-code-verifier`),H(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(e){try{const{options:r,provider:n,token:s,access_token:i,nonce:a}=e,o=await te(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:a,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:mt}),{data:c,error:u}=o;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!c||!c.session||!c.user){const d=new Cr;return this._returnResult({data:{user:null,session:null},error:d})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:u})}catch(r){if(H(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(e){var r,n,s,i,a;try{if("email"in e){const{email:o,options:c}=e;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Pr(this.storage,this.storageKey));const{error:h}=await te(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}if("phone"in e){const{phone:o,options:c}=e,{data:u,error:d}=await te(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(a=c==null?void 0:c.channel)!==null&&a!==void 0?a:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d})}throw new Os("You must provide either an email or phone number.")}catch(o){if(await ze(this.storage,`${this.storageKey}-code-verifier`),H(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async verifyOtp(e){var r,n;try{let s,i;"options"in e&&(s=(r=e.options)===null||r===void 0?void 0:r.redirectTo,i=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:a,error:o}=await te(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:mt});if(o)throw o;if(!a)throw new Error("An error occurred on token verification.");const c=a.session,u=a.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(s){if(H(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(e){var r,n,s,i,a;try{let o=null,c=null;this.flowType==="pkce"&&([o,c]=await Pr(this.storage,this.storageKey));const u=await te(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:c}),headers:this.headers,xform:bS});return!((i=u.data)===null||i===void 0)&&i.url&&We()&&!(!((a=e.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(o){if(await ze(this.storage,`${this.storageKey}-code-verifier`),H(o))return this._returnResult({data:null,error:o});throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new Qe;const{error:s}=await te(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(e){if(H(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:s,options:i}=e,{error:a}=await te(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}else if("phone"in e){const{phone:n,type:s,options:i}=e,{data:a,error:o}=await te(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:o})}throw new Os("You must provide either an email or phone number and a type")}catch(r){if(H(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await lr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<Ji:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const a=await lr(this.userStorage,this.storageKey+"-user");a!=null&&a.user?e.user=a.user:e.user=Zi()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const a={value:this.suppressGetSessionWarning};e.user=pS(e.user,a),a.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(e){try{return e?await te(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Kt}):await this._useSession(async r=>{var n,s,i;const{data:a,error:o}=r;if(o)throw o;return!(!((n=a.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Qe}:await te(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Kt})})}catch(r){if(H(r))return Yi(r)&&(await this._removeSession(),await ze(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new Qe;const a=s.session;let o=null,c=null;this.flowType==="pkce"&&e.email!=null&&([o,c]=await Pr(this.storage,this.storageKey));const{data:u,error:d}=await te(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:o,code_challenge_method:c}),jwt:a.access_token,xform:Kt});if(d)throw d;return a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),this._returnResult({data:{user:a.user},error:null})})}catch(n){if(await ze(this.storage,`${this.storageKey}-code-verifier`),H(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Qe;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:a}=Ms(e.access_token);if(a.exp&&(n=a.exp,s=n<=r),s){const{data:o,error:c}=await this._callRefreshToken(e.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!o)return{data:{user:null,session:null},error:null};i=o}else{const{data:o,error:c}=await this._getUser(e.access_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});i={access_token:e.access_token,refresh_token:e.refresh_token,user:o.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(r){if(H(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:a,error:o}=r;if(o)throw o;e=(n=a.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new Qe;const{data:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(H(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(e,r){try{if(!We())throw new Ls("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Ls(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new eu("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ls("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new eu("No code detected.");const{data:y,error:b}=await this._exchangeCodeForSession(e.code);if(b)throw b;const j=new URL(window.location.href);return j.searchParams.delete("code"),window.history.replaceState(window.history.state,"",j.toString()),{data:{session:y.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:a,expires_in:o,expires_at:c,token_type:u}=e;if(!i||!o||!a||!u)throw new Ls("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(o);let f=d+h;c&&(f=parseInt(c));const m=f-d;m*1e3<=$r&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${h}s`);const p=f-h;d-p>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",p,f,d):d-p<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",p,f,d);const{data:v,error:x}=await this._getUser(i);if(x)throw x;const g={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:f,refresh_token:a,token_type:u,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:g,redirectType:e.type},error:null})}catch(n){if(H(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await lr(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i&&!Yi(i))return this._returnResult({error:i});const a=(n=s.session)===null||n===void 0?void 0:n.access_token;if(a){const{error:o}=await this.admin.signOut(a,e);if(o&&!(q_(o)&&(o.status===404||o.status===401||o.status===403)||Yi(o)))return this._returnResult({error:o})}return e!=="others"&&(await this._removeSession(),await ze(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const r=tS(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:a}=r;if(a)throw a;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await Pr(this.storage,this.storageKey,!0));try{return await te(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(await ze(this.storage,`${this.storageKey}-code-verifier`),H(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(r){if(H(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var a,o,c,u,d;const{data:h,error:f}=i;if(f)throw f;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(o=e.options)===null||o===void 0?void 0:o.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await te(this.fetch,"GET",m,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return We()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:e.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(H(n))return this._returnResult({data:{provider:e.provider,url:null},error:n});throw n}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var n;try{const{error:s,data:{session:i}}=r;if(s)throw s;const{options:a,provider:o,token:c,access_token:u,nonce:d}=e,h=await te(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i==null?void 0:i.access_token)!==null&&n!==void 0?n:void 0,body:{provider:o,id_token:c,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:mt}),{data:f,error:m}=h;return m?this._returnResult({data:{user:null,session:null},error:m}):!f||!f.session||!f.user?this._returnResult({data:{user:null,session:null},error:new Cr}):(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("USER_UPDATED",f.session)),this._returnResult({data:f,error:m}))}catch(s){if(await ze(this.storage,`${this.storageKey}-code-verifier`),H(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:a}=r;if(a)throw a;return await te(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(H(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await iS(async s=>(s>0&&await sS(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await te(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:mt})),(s,i)=>{const a=200*Math.pow(2,s);return i&&Xi(i)&&Date.now()+a-n<$r})}catch(n){if(this._debug(r,"error",n),H(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),We()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await lr(this.storage,this.storageKey);if(s&&this.userStorage){let a=await lr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:s.user},await Br(this.userStorage,this.storageKey+"-user",a)),s.user=(e=a==null?void 0:a.user)!==null&&e!==void 0?e:Zi()}else if(s&&!s.user&&!s.user){const a=await lr(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(s.user=a.user,await ze(this.storage,this.storageKey+"-user"),await Br(this.storage,this.storageKey,s)):s.user=Zi()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const i=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Ji;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${Ji}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:a}=await this._callRefreshToken(s.refresh_token);a&&(console.error(a),Xi(a)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:o}=await this._getUser(s.access_token);!o&&(a!=null&&a.user)?(s.user=a.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(n,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new Qe;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new vi;const{data:i,error:a}=await this._refreshAccessToken(e);if(a)throw a;if(!i.session)throw new Qe;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const o={data:i.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(i){if(this._debug(s,"error",i),H(i)){const a={data:null,error:i};return Xi(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,r,n=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const i=[],a=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(e,r)}catch(c){i.push(c)}});if(await Promise.all(a),i.length>0){for(let o=0;o<i.length;o+=1)console.error(i[o]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await ze(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Br(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const i=iu(s);await Br(this.storage,this.storageKey,i)}else{const s=iu(r);await Br(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await ze(this.storage,this.storageKey),await ze(this.storage,this.storageKey+"-code-verifier"),await ze(this.storage,this.storageKey+"-user"),this.userStorage&&await ze(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&We()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),$r);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e);const r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e);const r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-e)/$r);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${$r}ms, refresh threshold is ${$a} ticks`),s<=$a&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof mf)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!We()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(e){this._debug("#visibilityChangedCallback","error",e)}},window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,a]=await Pr(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(a)}`});s.push(o.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?this._returnResult({data:null,error:i}):await te(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(H(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:a}=r;if(a)return this._returnResult({data:null,error:a});const o=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:c,error:u}=await te(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?this._returnResult({data:null,error:u}):(e.factorType==="totp"&&c.type==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))})}catch(r){if(H(r))return this._returnResult({data:null,error:r});throw r}}async _verify(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const a=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?OS(e.webauthn.credential_response):LS(e.webauthn.credential_response)})}:{code:e.code}),{data:o,error:c}=await te(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:a,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return c?this._returnResult({data:null,error:c}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),this._returnResult({data:o,error:c}))})}catch(r){if(H(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const a=await te(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});if(a.error)return a;const{data:o}=a;if(o.type!=="webauthn")return{data:o,error:null};switch(o.webauthn.type){case"create":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:DS(o.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:IS(o.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(H(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(e=r==null?void 0:r.factors)!==null&&e!==void 0?e:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(e){var r,n,s,i;if(e)try{const{payload:m}=Ms(e);let p=null;m.aal&&(p=m.aal);let v=p;const{data:{user:x},error:g}=await this.getUser(e);if(g)return this._returnResult({data:null,error:g});((n=(r=x==null?void 0:x.factors)===null||r===void 0?void 0:r.filter(j=>j.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(v="aal2");const b=m.amr||[];return{data:{currentLevel:p,nextLevel:v,currentAuthenticationMethods:b},error:null}}catch(m){if(H(m))return this._returnResult({data:null,error:m});throw m}const{data:{session:a},error:o}=await this.getSession();if(o)return this._returnResult({data:null,error:o});if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:c}=Ms(a.access_token);let u=null;c.aal&&(u=c.aal);let d=u;((i=(s=a.user.factors)===null||s===void 0?void 0:s.filter(m=>m.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(d="aal2");const f=c.amr||[];return{data:{currentLevel:u,nextLevel:d,currentAuthenticationMethods:f},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?await te(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Qe})})}catch(r){if(H(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new Qe});const a=await te(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:o=>({data:o,error:null})});return a.data&&a.data.redirect_url&&We()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(n){if(H(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new Qe});const a=await te(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:o=>({data:o,error:null})});return a.data&&a.data.redirect_url&&We()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(n){if(H(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;return n?this._returnResult({data:null,error:n}):r?await te(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new Qe})})}catch(e){if(H(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?(await te(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Qe})})}catch(r){if(H(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(o=>o.kid===e);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(o=>o.kid===e),n&&this.jwks_cached_at+W_>s)return n;const{data:i,error:a}=await te(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,n=i.keys.find(o=>o.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:m,error:p}=await this.getSession();if(p||!m.session)return this._returnResult({data:null,error:p});n=m.session.access_token}const{header:s,payload:i,signature:a,raw:{header:o,payload:c}}=Ms(n);r!=null&&r.allowExpired||hS(i.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:m}=await this.getUser(n);if(m)throw m;return{data:{claims:i,header:s,signature:a},error:null}}const d=fS(s.alg),h=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,a,Q_(`${o}.${c}`)))throw new Va("Invalid JWT signature");return{data:{claims:i,header:s,signature:a},error:null}}catch(n){if(H(n))return this._returnResult({data:null,error:n});throw n}}}Xn.nextInstanceID={};const HS=Xn,qS="2.95.3";let kn="";typeof Deno<"u"?kn="deno":typeof document<"u"?kn="web":typeof navigator<"u"&&navigator.product==="ReactNative"?kn="react-native":kn="node";const GS={"X-Client-Info":`supabase-js-${kn}/${qS}`},KS={headers:GS},JS={schema:"public"},YS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},XS={};function Zn(t){"@babel/helpers - typeof";return Zn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zn(t)}function ZS(t,e){if(Zn(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Zn(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function QS(t){var e=ZS(t,"string");return Zn(e)=="symbol"?e:e+""}function ej(t,e,r){return(e=QS(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function hu(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Ce(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?hu(Object(r),!0).forEach(function(n){ej(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):hu(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}const tj=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),rj=()=>Headers,nj=(t,e,r)=>{const n=tj(r),s=rj();return async(i,a)=>{var o;const c=(o=await e())!==null&&o!==void 0?o:t;let u=new s(a==null?void 0:a.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(i,Ce(Ce({},a),{},{headers:u}))}};function sj(t){return t.endsWith("/")?t:t+"/"}function ij(t,e){var r,n;const{db:s,auth:i,realtime:a,global:o}=t,{db:c,auth:u,realtime:d,global:h}=e,f={db:Ce(Ce({},c),s),auth:Ce(Ce({},u),i),realtime:Ce(Ce({},d),a),storage:{},global:Ce(Ce(Ce({},h),o),{},{headers:Ce(Ce({},(r=h==null?void 0:h.headers)!==null&&r!==void 0?r:{}),(n=o==null?void 0:o.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return t.accessToken?f.accessToken=t.accessToken:delete f.accessToken,f}function aj(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(sj(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var oj=class extends HS{constructor(t){super(t)}},lj=class{constructor(t,e,r){var n,s;this.supabaseUrl=t,this.supabaseKey=e;const i=aj(t);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",i),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",i),this.storageUrl=new URL("storage/v1",i),this.functionsUrl=new URL("functions/v1",i);const a=`sb-${i.hostname.split(".")[0]}-auth-token`,o={db:JS,realtime:XS,auth:Ce(Ce({},YS),{},{storageKey:a}),global:KS},c=ij(r??{},o);if(this.storageKey=(n=c.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(s=c.global.headers)!==null&&s!==void 0?s:{},c.accessToken)this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(d,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}});else{var u;this.auth=this._initSupabaseAuthClient((u=c.auth)!==null&&u!==void 0?u:{},this.headers,c.global.fetch)}this.fetch=nj(e,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(Ce({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(d=>this.realtime.setAuth(d)).catch(d=>console.warn("Failed to set initial Realtime auth token:",d)),this.rest=new qw(new URL("rest/v1",i).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch,timeout:c.db.timeout,urlLengthLimit:c.db.urlLengthLimit}),this.storage=new $_(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new Fw(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,e,r)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t=this,e,r;if(t.accessToken)return await t.accessToken();const{data:n}=await t.auth.getSession();return(e=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&e!==void 0?e:t.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:n,userStorage:s,storageKey:i,flowType:a,lock:o,debug:c,throwOnError:u},d,h){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new oj({url:this.authUrl.href,headers:Ce(Ce({},f),d),storageKey:i,autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:n,userStorage:s,flowType:a,lock:o,debug:c,throwOnError:u,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(m=>m.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new c_(this.realtimeUrl.href,Ce(Ce({},t),{},{params:Ce(Ce({},{apikey:this.supabaseKey}),t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,e)=>{this._handleTokenChanged(t,"CLIENT",e==null?void 0:e.access_token)})}_handleTokenChanged(t,e,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const cj=(t,e,r)=>new lj(t,e,r);function uj(){if(typeof window<"u")return!1;const t=globalThis.process;if(!t)return!1;const e=t.version;if(e==null)return!1;const r=e.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}uj()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const dj="https://cadrfolvgzwutfwgefug.supabase.co",hj="sb_publishable_HWRwplY9aoz2A-zRh35J5w_o-4Z8fSr",rt=cj(dj,hj);async function fj(t){try{console.log(" Creating shipment with ID:",t.id),console.log("Admin ID:",t.admin_id);const{data:e,error:r}=await rt.from("shipments").insert([t]).select().single();if(r)throw console.error(" Supabase insert error:",r),r;return console.log(" Shipment created successfully:",e==null?void 0:e.id),{data:e,error:null}}catch(e){const r=e instanceof Error?e.message:"Failed to create shipment";return console.error(" Error creating shipment:",r,e),{data:null,error:r}}}async function Mt(t,e){try{const{data:r,error:n}=await rt.from("shipments").update(e).eq("id",t).select().single();if(n)throw n;return{data:r,error:null}}catch(r){return{data:null,error:r instanceof Error?r.message:"Failed to update shipment"}}}async function mj(t){try{const{error:e}=await rt.from("shipments").delete().eq("id",t);if(e)throw e;return{error:null}}catch(e){return{error:e instanceof Error?e.message:"Failed to delete shipment"}}}async function Ir(t){try{const{data:e,error:r}=await rt.from("shipments").select(`
        *,
        checkpoints (*)
      `).eq("admin_id",t).order("created_at",{ascending:!1});if(r)throw r;return{data:e||[],error:null}}catch(e){return{data:[],error:e instanceof Error?e.message:"Failed to fetch shipments"}}}async function pj(t,e){try{console.log(` Creating ${e.length} checkpoints for shipment ${t}`);const r=e.map((i,a)=>({...i,shipment_id:t,checkpoint_order:a+1}));console.log("Checkpoint data to insert:",r);const{data:n,error:s}=await rt.from("checkpoints").insert(r).select();if(s)throw console.error("Supabase insert error:",s),s;return console.log(" Checkpoints created successfully:",(n==null?void 0:n.length)||0),{data:n,error:null}}catch(r){const n=r instanceof Error?r.message:"Failed to create checkpoints";return console.error(" Error creating checkpoints:",n),{data:null,error:n}}}async function gj(t,e,r){try{const n=`${r}-${Date.now()}-${e.name}`,{error:s}=await rt.storage.from(t).upload(n,e);if(s)throw s;const{data:i}=rt.storage.from(t).getPublicUrl(n);return{url:i.publicUrl,error:null}}catch(n){return{url:null,error:n instanceof Error?n.message:"Failed to upload image"}}}const nn=w.createContext({shipments:[],addShipment:async()=>{},updateShipment:async()=>{},stopShipment:async()=>{},togglePause:async()=>{},deleteShipment:async()=>{},isAdmin:!1,unlockAdmin:()=>{},loading:!1,error:null,clearError:()=>{}}),yj=({children:t})=>{const[e,r]=w.useState([]),[n,s]=w.useState(!1),[i,a]=w.useState(!1),[o,c]=w.useState(null),[u,d]=w.useState(""),h=(b,j="shipment-images")=>{if(!b)return"";if(typeof b=="string"&&b.startsWith("http"))return b;try{const{data:k}=rt.storage.from(j).getPublicUrl(b);return(k==null?void 0:k.publicUrl)||b}catch{return b}};w.useEffect(()=>{(async()=>{try{const{data:{user:j},error:k}=await rt.auth.getUser();if(k||!j){console.warn(" No authenticated user found. Using demo mode with default admin (00000000-0000-0000-0000-000000000000)."),d("00000000-0000-0000-0000-000000000000"),s(!1);return}console.log(" Authenticated user found:",j.id),d(j.id),s(!0)}catch(j){console.error(" Error initializing admin:",j),d("00000000-0000-0000-0000-000000000000")}})()},[]),w.useEffect(()=>{const b=async()=>{try{a(!0),console.log(" Fetching shipments for admin ID:",u);const{data:k,error:T}=await Ir(u);if(T){console.error(" Error fetching shipments:",T),c(T),r([]);return}if(!k||k.length===0){console.log(" No shipments found for this admin"),r([]),c(null);return}console.log(" Fetched",k.length,"shipments");const _=k.map(S=>{var N;return console.log(` Transforming shipment ${S.id} with ${((N=S.checkpoints)==null?void 0:N.length)||0} checkpoints`),{id:S.id,senderName:S.sender_name,senderPhone:S.sender_phone,receiverName:S.receiver_name,receiverPhone:S.receiver_phone,receiverEmail:S.receiver_email,pickupLocation:S.pickup_location,deliveryAddress:S.delivery_address,warehouse:S.warehouse,transportation:S.transportation,packageName:S.package_name,images:(S.images||[]).map(D=>h(D,"shipment-images")),cost:S.cost,paid:S.paid,vehiclesCount:S.vehicles_count,vehicleType:S.vehicle_type,driverName:S.driver_name,driverExperience:S.driver_experience,stopped:S.stopped,stopReason:S.stop_reason,paused:S.paused,countdownDuration:S.countdown_duration?S.countdown_duration/3600:0,countdownStartTime:S.countdown_start_time,pauseTimestamp:S.pause_timestamp,admin_id:S.admin_id,status:S.status,checkpoints:S.checkpoints||[],currentCheckpointIndex:S.current_checkpoint_index||0}});r(_),c(null),console.log(" Shipments loaded successfully:",_.length)}catch(k){const T=k instanceof Error?k.message:"Failed to fetch shipments";console.error(" Exception in fetchShipments:",T),c(T),r([])}finally{a(!1)}};b();const j=rt.channel("admin-shipments").on("postgres_changes",{event:"*",schema:"public",table:"shipments",filter:`admin_id=eq.${u}`},()=>{b()}).subscribe();return()=>{j.unsubscribe()}},[u]);const f=w.useCallback(async b=>{try{a(!0),c(null);const j=b.id??crypto.randomUUID();console.log(" addShipment: Starting shipment creation with ID:",j),console.log(" Admin ID:",u);const k=Array.isArray(b.images)?b.images.filter(B=>B&&B.trim()!==""):[];let T;if(b.routeScreenshot){const B=b.routeScreenshot,F=B instanceof File?B:B instanceof FileList?B[0]:null;if(F){const{url:X,error:le}=await gj("route-screenshots",F,j);!le&&X&&(T=X)}}const _={id:j,admin_id:u,sender_name:b.senderName||"",sender_phone:b.senderPhone||"",sender_email:b.senderEmail||"",receiver_name:b.receiverName||"",receiver_phone:b.receiverPhone||"",receiver_email:b.receiverEmail||"",pickup_location:b.pickupLocation||"",delivery_address:b.deliveryAddress||"",warehouse:b.warehouse||"",transportation:b.transportation||"",package_name:b.packageName||"",images:k,cost:b.cost||0,paid:b.paid||!1,vehicles_count:b.vehiclesCount||0,vehicle_type:b.vehicleType||"",driver_name:b.driverName||"",driver_experience:b.driverExperience||"",route_screenshot_url:T,countdown_duration:(b.countdownDuration||24)*3600,countdown_start_time:b.countdownStartTime||new Date().toISOString(),status:"in_transit",current_checkpoint_index:0,paused:!1,stopped:!1};console.log(" Shipment Data to save:",_);const{data:S,error:N}=await fj(_);if(N||!S){const B=N||"Failed to create shipment";throw console.error(" Shipment creation failed:",B),new Error(B)}if(console.log(" Shipment created successfully:",S.id),b.checkpoints&&b.checkpoints.length>0){console.log(" Creating",b.checkpoints.length,"checkpoints...");const B=b.checkpoints.map(le=>({location:le.location,status:"pending"})),{data:F,error:X}=await pj(j,B);if(X)throw console.error(" Checkpoint creation failed:",X),new Error("Failed to create checkpoints: "+X);console.log(" Checkpoints created:",(F==null?void 0:F.length)||0)}console.log(" Refreshing shipments list...");const{data:D,error:L}=await Ir(u);if(L)throw console.error(" Failed to fetch refreshed shipments:",L),new Error("Failed to refresh shipments: "+L);if(D&&D.length>0){const B=D.map(F=>({id:F.id,senderName:F.sender_name,senderPhone:F.sender_phone,receiverName:F.receiver_name,receiverPhone:F.receiver_phone,receiverEmail:F.receiver_email,pickupLocation:F.pickup_location,deliveryAddress:F.delivery_address,warehouse:F.warehouse,transportation:F.transportation,packageName:F.package_name,images:(F.images||[]).map(X=>h(X,"shipment-images")),cost:F.cost,paid:F.paid,vehiclesCount:F.vehicles_count,vehicleType:F.vehicle_type,driverName:F.driver_name,driverExperience:F.driver_experience,stopped:F.stopped,stopReason:F.stop_reason,paused:F.paused,countdownDuration:F.countdown_duration?F.countdown_duration/3600:0,countdownStartTime:F.countdown_start_time,pauseTimestamp:F.pause_timestamp,admin_id:F.admin_id,status:F.status,checkpoints:F.checkpoints||[],currentCheckpointIndex:F.current_checkpoint_index||0}));r(B),console.log(" Shipments list updated:",B.length,"total shipments")}else console.warn(" No shipments returned after creation")}catch(j){const k=j instanceof Error?j.message:String(j);throw console.error(" Error in addShipment:",k),c(k),j}finally{a(!1)}},[u]),m=w.useCallback(async(b,j)=>{try{a(!0);const k={};j.senderName&&(k.sender_name=j.senderName),j.senderPhone&&(k.sender_phone=j.senderPhone),j.receiverName&&(k.receiver_name=j.receiverName),j.receiverPhone&&(k.receiver_phone=j.receiverPhone),j.receiverEmail&&(k.receiver_email=j.receiverEmail),j.pickupLocation&&(k.pickup_location=j.pickupLocation),j.deliveryAddress&&(k.delivery_address=j.deliveryAddress),j.warehouse&&(k.warehouse=j.warehouse),j.transportation&&(k.transportation=j.transportation),j.packageName&&(k.package_name=j.packageName),j.cost!==void 0&&(k.cost=j.cost),j.paid!==void 0&&(k.paid=j.paid),j.countdownStartTime&&(k.countdown_start_time=j.countdownStartTime),j.paused!==void 0&&(k.paused=j.paused),j.currentCheckpointIndex!==void 0&&(k.current_checkpoint_index=j.currentCheckpointIndex);const{error:T}=await Mt(b,k);if(T)throw new Error(T);const{data:_}=await Ir(u);if(_){const S=_.map(N=>({id:N.id,senderName:N.sender_name,senderPhone:N.sender_phone,receiverName:N.receiver_name,receiverPhone:N.receiver_phone,receiverEmail:N.receiver_email,pickupLocation:N.pickup_location,deliveryAddress:N.delivery_address,warehouse:N.warehouse,transportation:N.transportation,packageName:N.package_name,images:(N.images||[]).map(D=>h(D,"shipment-images")),routeScreenshot:h(N.route_screenshot_url,"route-screenshots"),cost:N.cost,paid:N.paid,vehiclesCount:N.vehicles_count,vehicleType:N.vehicle_type,driverName:N.driver_name,driverExperience:N.driver_experience,stopped:N.stopped,stopReason:N.stop_reason,paused:N.paused,countdownDuration:N.countdown_duration?N.countdown_duration/3600:0,countdownStartTime:N.countdown_start_time,pauseTimestamp:N.pause_timestamp,admin_id:N.admin_id,status:N.status,checkpoints:N.checkpoints||[],currentCheckpointIndex:N.current_checkpoint_index||0}));r(S)}}catch(k){const T=k instanceof Error?k.message:String(k);console.error("Error updating shipment:",k),c(T)}finally{a(!1)}},[u]),p=w.useCallback(async(b,j)=>{try{const{error:k}=await Mt(b,{stopped:!0,stop_reason:j,status:"stopped"});if(k)throw new Error(k);const{data:T}=await Ir(u);if(T){const _=T.map(S=>({id:S.id,senderName:S.sender_name,senderPhone:S.sender_phone,receiverName:S.receiver_name,receiverPhone:S.receiver_phone,receiverEmail:S.receiver_email,pickupLocation:S.pickup_location,deliveryAddress:S.delivery_address,warehouse:S.warehouse,transportation:S.transportation,packageName:S.package_name,images:(S.images||[]).map(N=>h(N,"shipment-images")),routeScreenshot:h(S.route_screenshot_url,"route-screenshots"),cost:S.cost,paid:S.paid,vehiclesCount:S.vehicles_count,vehicleType:S.vehicle_type,driverName:S.driver_name,driverExperience:S.driver_experience,stopped:S.stopped,stopReason:S.stop_reason,paused:S.paused,countdownDuration:S.countdown_duration?S.countdown_duration/3600:0,countdownStartTime:S.countdown_start_time,pauseTimestamp:S.pause_timestamp,admin_id:S.admin_id,status:S.status,checkpoints:S.checkpoints||[],currentCheckpointIndex:S.current_checkpoint_index||0}));r(_)}}catch(k){const T=k instanceof Error?k.message:String(k);console.error("Error stopping shipment:",k),c(T)}},[u]),v=w.useCallback(async b=>{try{const j=e.find(S=>S.id===b);if(!j)return;let k={};if(!j.paused)k={paused:!0,pause_timestamp:new Date().toISOString()};else if(j.pauseTimestamp&&j.countdownStartTime){const S=new Date(j.pauseTimestamp).getTime(),N=new Date(j.countdownStartTime).getTime(),L=Date.now()-S;k={paused:!1,countdown_start_time:new Date(N+L).toISOString(),pause_timestamp:null}}else k={paused:!1,pause_timestamp:null};const{error:T}=await Mt(b,k);if(T)throw new Error(T);const{data:_}=await Ir(u);if(_){const S=_.map(N=>({id:N.id,senderName:N.sender_name,senderPhone:N.sender_phone,receiverName:N.receiver_name,receiverPhone:N.receiver_phone,receiverEmail:N.receiver_email,pickupLocation:N.pickup_location,deliveryAddress:N.delivery_address,warehouse:N.warehouse,transportation:N.transportation,packageName:N.package_name,images:(N.images||[]).map(D=>h(D,"shipment-images")),routeScreenshot:h(N.route_screenshot_url,"route-screenshots"),cost:N.cost,paid:N.paid,vehiclesCount:N.vehicles_count,vehicleType:N.vehicle_type,driverName:N.driver_name,driverExperience:N.driver_experience,stopped:N.stopped,stopReason:N.stop_reason,paused:N.paused,countdownDuration:N.countdown_duration?N.countdown_duration/3600:0,countdownStartTime:N.countdown_start_time,pauseTimestamp:N.pause_timestamp,admin_id:N.admin_id,status:N.status,checkpoints:N.checkpoints||[],currentCheckpointIndex:N.current_checkpoint_index||0}));r(S)}}catch(j){const k=j instanceof Error?j.message:String(j);console.error("Error toggling pause:",j),c(k)}},[e,u]),x=w.useCallback(async b=>{try{const{error:j}=await mj(b);if(j)throw new Error(j);const{data:k}=await Ir(u);if(k){const T=k.map(_=>({id:_.id,senderName:_.sender_name,senderPhone:_.sender_phone,receiverName:_.receiver_name,receiverPhone:_.receiver_phone,receiverEmail:_.receiver_email,deliveryAddress:_.delivery_address,warehouse:_.warehouse,transportation:_.transportation,packageName:_.package_name,images:_.images||[],routeScreenshot:_.route_screenshot_url,cost:_.cost,paid:_.paid,vehiclesCount:_.vehicles_count,vehicleType:_.vehicle_type,driverName:_.driver_name,driverImage:_.driver_image_url,driverExperience:_.driver_experience,stopped:_.stopped,stopReason:_.stop_reason,paused:_.paused,countdownDuration:_.countdown_duration?_.countdown_duration/3600:0,countdownStartTime:_.countdown_start_time,pauseTimestamp:_.pause_timestamp,admin_id:_.admin_id,status:_.status,checkpoints:_.checkpoints||[],currentCheckpointIndex:_.current_checkpoint_index||0}));r(T)}}catch(j){const k=j instanceof Error?j.message:String(j);console.error("Error deleting shipment:",j),c(k)}},[u]),g=w.useCallback(()=>{s(!0)},[]),y=w.useCallback(()=>{c(null)},[]);return l.jsx(nn.Provider,{value:{shipments:e,addShipment:f,updateShipment:m,deleteShipment:x,stopShipment:p,togglePause:v,isAdmin:n,unlockAdmin:g,loading:i,error:o,clearError:y},children:t})};function vj(){const t=Ct(),e=Pt(),{unlockAdmin:r}=w.useContext(nn),[n,s]=w.useState(!1),[i,a]=w.useState(0),[o,c]=w.useState(null),[u,d]=w.useState(!1),h=[{name:"Home",path:"/"},{name:"Track Shipment",path:"/track"},{name:"About",path:"/about"}],f=p=>p==="/"?t.pathname==="/":t.pathname.startsWith(p);w.useEffect(()=>{const p=v=>{v.preventDefault(),c(v),d(!0)};return window.addEventListener("beforeinstallprompt",p),()=>window.removeEventListener("beforeinstallprompt",p)},[]),w.useEffect(()=>{i===5&&(r(),e("/admin"),a(0))},[i,r,e]);const m=()=>{a(p=>p+1)};return l.jsxs(M.nav,{initial:{y:-100},animate:{y:0},className:"fixed top-0 left-0 right-0 z-50 bg-white/80 backdrop-blur-xl border-b border-gray-200/50",children:[l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"flex items-center justify-between h-20",children:[l.jsxs("div",{onClick:m,className:"cursor-pointer flex items-center gap-3 group",children:[l.jsx("img",{src:"/assets/images/logo1.jpeg",alt:"Global-Go logo",className:"w-12 h-12 rounded-full object-cover shadow-lg group-hover:shadow-xl transition-all duration-300 group-hover:scale-105"}),l.jsxs("div",{className:"hidden sm:block",children:[l.jsx("div",{className:"font-bold text-xl text-[#0F1F3D] tracking-tight",children:"Global-Go"}),l.jsx("div",{className:"text-xs text-gray-500 -mt-1",children:"Global Logistics Made Simple"})]})]}),l.jsx("div",{className:"hidden md:flex items-center gap-8",children:h.map(p=>l.jsxs(Re,{to:p.path,className:`relative font-medium transition-colors duration-200 ${f(p.path)?"text-[#2563EB]":"text-gray-600 hover:text-[#0F1F3D]"}`,"aria-current":f(p.path)?"page":void 0,children:[p.name,f(p.path)&&l.jsx(M.div,{layoutId:"navbar-indicator",className:"absolute -bottom-8 left-0 right-0 h-0.5 bg-gradient-to-r from-[#2563EB] to-[#38BDF8]"})]},p.path))}),l.jsxs("div",{className:"hidden md:flex items-center gap-3",children:[u&&l.jsx("button",{onClick:async()=>{o&&(o.prompt(),await o.userChoice,d(!1))},className:"px-4 py-2 bg-gray-100 text-gray-800 rounded-lg hover:bg-gray-200",children:"Install App"}),l.jsx(Re,{to:"/signin",className:"px-5 py-2.5 font-medium text-[#0F1F3D] hover:text-[#2563EB] transition-colors duration-200",children:"Sign In"}),l.jsx(Re,{to:"/signup",className:"px-5 py-2.5 font-medium bg-gradient-to-r from-[#2563EB] to-[#38BDF8] text-white rounded-xl hover:shadow-lg hover:shadow-blue-500/30 transition-all duration-300 hover:scale-105",children:"Sign Up"})]}),l.jsx("button",{onClick:()=>s(!n),className:"md:hidden p-2 rounded-lg hover:bg-gray-100 transition-colors",children:n?l.jsx(Uy,{className:"w-6 h-6 text-gray-700"}):l.jsx(cy,{className:"w-6 h-6 text-gray-700"})})]})}),n&&l.jsx(M.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"md:hidden border-t border-gray-200 bg-white",children:l.jsxs("div",{className:"px-4 py-6 space-y-4",children:[h.map(p=>l.jsx(Re,{to:p.path,onClick:()=>s(!1),className:`block py-2 font-medium ${f(p.path)?"text-[#2563EB]":"text-gray-600"}`,"aria-current":f(p.path)?"page":void 0,children:p.name},p.path)),l.jsxs("div",{className:"pt-4 space-y-3 border-t border-gray-200",children:[l.jsx(Re,{to:"/signin",onClick:()=>s(!1),className:"block w-full px-5 py-2.5 text-center font-medium text-[#0F1F3D] border-2 border-[#0F1F3D] rounded-xl hover:bg-gray-50 transition-colors",children:"Sign In"}),l.jsx(Re,{to:"/signup",onClick:()=>s(!1),className:"block w-full px-5 py-2.5 text-center font-medium bg-gradient-to-r from-[#2563EB] to-[#38BDF8] text-white rounded-xl",children:"Sign Up"})]})]})})]})}function bj(){Pt();const{unlockAdmin:t}=w.useContext(nn),[e,r]=w.useState(0),[n,s]=w.useState(null),[i,a]=w.useState(!1);return w.useEffect(()=>{const o=u=>{u.preventDefault(),window.deferredPWAInstallPrompt=u,s(u),a(!0)};window.addEventListener("beforeinstallprompt",o);const c=window.deferredPWAInstallPrompt;return c&&(s(c),a(!0)),()=>window.removeEventListener("beforeinstallprompt",o)},[]),l.jsx("footer",{className:"bg-gradient-to-b from-[#0B1220] to-[#0F1F3D] text-white",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-12",children:[l.jsxs("div",{children:[l.jsxs(Re,{to:"/",className:"flex items-center gap-3 mb-6",children:[l.jsx("img",{src:"/assets/images/logo1.jpeg",alt:"Global-Go logo",className:"w-12 h-12 rounded-full object-cover shadow-lg"}),l.jsxs("div",{children:[l.jsx("div",{className:"font-bold text-xl",children:"Global-Go"}),l.jsx("div",{className:"text-xs text-gray-400",children:"Global Logistics Made Simple"})]})]}),l.jsx("p",{className:"text-gray-400 text-sm leading-relaxed mb-6",children:"Connecting the world through reliable, fast, and secure logistics solutions since 1998."}),l.jsx("div",{className:"flex gap-3",children:[Gg,Dy,sy,ry].map((o,c)=>l.jsx("a",{href:"#","aria-label":["Facebook","Twitter","LinkedIn","Instagram"][c],className:"w-10 h-10 rounded-lg bg-white/10 hover:bg-white/20 flex items-center justify-center transition-all duration-300 hover:scale-110",children:l.jsx(o,{className:"w-5 h-5"})},c))})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-lg mb-6",children:"Quick Links"}),l.jsx("ul",{className:"space-y-3",children:[{name:"Home",path:"/"},{name:"Track Shipment",path:"/track"},{name:"About Us",path:"/about"},{name:"Services",path:"/#services"}].map(o=>l.jsx("li",{children:l.jsx(Re,{to:o.path,className:"text-gray-400 hover:text-white transition-colors duration-200 text-sm",children:o.name})},o.path))})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-lg mb-6",children:"Our Services"}),l.jsx("ul",{className:"space-y-3",children:["Air Freight","Ocean Cargo","Land Transport","Door-to-Door Delivery"].map(o=>l.jsx("li",{children:l.jsx("span",{className:"text-gray-400 text-sm",children:o})},o))})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-lg mb-6",children:"Contact Us"}),l.jsxs("ul",{className:"space-y-4",children:[l.jsxs("li",{className:"flex items-start gap-3",children:[l.jsx(oo,{className:"w-5 h-5 text-[#38BDF8] mt-0.5 flex-shrink-0"}),l.jsx("span",{className:"text-gray-400 text-sm",children:"globagologistics@gmail.com"})]}),l.jsxs("li",{className:"flex items-start gap-3",children:[l.jsx(ud,{className:"w-5 h-5 text-[#38BDF8] mt-0.5 flex-shrink-0"}),l.jsx("span",{className:"text-gray-400 text-sm",children:"+1(336)4596552"})]}),l.jsxs("li",{className:"flex items-start gap-3",children:[l.jsx(Xr,{className:"w-5 h-5 text-[#38BDF8] mt-0.5 flex-shrink-0"}),l.jsx("span",{className:"text-gray-400 text-sm",children:"4521 Innovation Drive, Charlotte, NC 28202"})]})]})]})]}),l.jsx("div",{className:"mt-16 pt-8 border-t border-white/10",children:l.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4",children:[l.jsxs("p",{className:"text-gray-400 text-sm",children:[" ",new Date().getFullYear()," Global-Go. All rights reserved."]}),l.jsxs("div",{className:"flex gap-6",children:[l.jsx("a",{href:"#",className:"text-gray-400 hover:text-white text-sm transition-colors",children:"Privacy Policy"}),l.jsx("a",{href:"#",className:"text-gray-400 hover:text-white text-sm transition-colors",children:"Terms of Service"}),l.jsx("a",{href:"#",className:"text-gray-400 hover:text-white text-sm transition-colors",children:"Cookie Policy"}),i&&l.jsx("button",{onClick:async()=>{const o=n||window.deferredPWAInstallPrompt;if(o){o.prompt(),await o.userChoice,a(!1);try{delete window.deferredPWAInstallPrompt}catch{}}},className:"text-gray-200 bg-white/6 hover:bg-white/10 px-3 py-2 rounded text-sm",children:"Install App"})]})]})})]})})}function xj(){return Ct().pathname.startsWith("/admin")?null:l.jsxs(M.a,{href:"https://wa.me/13364596552?text=Hello%20I%20need%20assistance%20with%20my%20shipment",target:"_blank",rel:"noopener noreferrer",initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.5,type:"spring"},whileHover:{scale:1.1},whileTap:{scale:.95},className:"fixed bottom-6 right-6 z-50 w-14 h-14 bg-gradient-to-br from-green-400 to-green-600 rounded-full flex items-center justify-center shadow-2xl hover:shadow-green-500/50 transition-all duration-300","aria-label":"Contact customer service on WhatsApp",children:[l.jsx("div",{className:"absolute inset-0 rounded-full bg-green-500 opacity-0 animate-pulse"}),l.jsx(dy,{className:"w-7 h-7 text-white relative z-10"})]})}function wj(){return l.jsx(yj,{children:l.jsxs("div",{className:"min-h-screen flex flex-col",children:[l.jsx(vj,{}),l.jsx("main",{className:"flex-1 pt-20",children:l.jsx(rd,{})}),l.jsx(bj,{}),l.jsx(xj,{})]})})}function yf({icon:t,value:e,label:r,index:n=0}){const[s,i]=w.useState("0"),[a,o]=w.useState(!1);return w.useEffect(()=>{if(a)return;const c=parseInt(e.replace(/[^0-9]/g,""));if(isNaN(c)){i(e);return}const u=2e3,d=60,h=c/d;let f=0;const m=setInterval(()=>{if(f++,f>=d)i(e),clearInterval(m),o(!0);else{const p=Math.floor(h*f);i(e.replace(/[0-9.]+/,p.toString()))}},u/d);return()=>clearInterval(m)},[e,a]),l.jsxs(M.div,{initial:{opacity:0,scale:.8},whileInView:{opacity:1,scale:1},transition:{duration:.5,delay:n*.1},viewport:{once:!0},onViewportEnter:()=>!a&&o(!1),className:"bg-white/10 backdrop-blur-sm rounded-2xl p-8 text-center border border-white/20 hover:bg-white/15 transition-all duration-300 group",children:[l.jsx("div",{className:"flex justify-center mb-4",children:l.jsx("div",{className:"w-14 h-14 rounded-xl bg-gradient-to-br from-[#38BDF8] to-[#2563EB] flex items-center justify-center shadow-lg group-hover:scale-110 transition-transform duration-300",children:l.jsx(t,{className:"w-7 h-7 text-white"})})}),l.jsx("div",{className:"text-4xl font-bold text-white mb-2 tabular-nums",children:s}),l.jsx("div",{className:"text-gray-300 font-medium",children:r})]})}function _j({name:t,location:e,rating:r,comment:n,index:s=0}){return l.jsxs(M.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:s*.1},viewport:{once:!0},className:"bg-white rounded-2xl p-8 shadow-lg hover:shadow-xl transition-all duration-300 border border-gray-100 relative group",children:[l.jsx("div",{className:"absolute top-6 right-6 opacity-10 group-hover:opacity-20 transition-opacity",children:l.jsx(_y,{className:"w-16 h-16 text-[#2563EB]"})}),l.jsx("div",{className:"flex gap-1 mb-4",children:Array.from({length:5}).map((i,a)=>l.jsx(pd,{className:`w-5 h-5 ${a<r?"text-[#F59E0B] fill-[#F59E0B]":"text-gray-300"}`},a))}),l.jsxs("p",{className:"text-gray-700 leading-relaxed mb-6 relative z-10",children:['"',n,'"']}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-[#2563EB] to-[#38BDF8] flex items-center justify-center text-white font-semibold shadow-md",children:t.charAt(0)}),l.jsxs("div",{children:[l.jsx("div",{className:"font-semibold text-[#0F1F3D]",children:t}),l.jsx("div",{className:"text-sm text-gray-500",children:e})]})]})]})}const Sj="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODgiIGhlaWdodD0iODgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBvcGFjaXR5PSIuMyIgZmlsbD0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIzLjciPjxyZWN0IHg9IjE2IiB5PSIxNiIgd2lkdGg9IjU2IiBoZWlnaHQ9IjU2IiByeD0iNiIvPjxwYXRoIGQ9Im0xNiA1OCAxNi0xOCAzMiAzMiIvPjxjaXJjbGUgY3g9IjUzIiBjeT0iMzUiIHI9IjciLz48L3N2Zz4KCg==";function vf(t){const[e,r]=w.useState(!1),n=()=>{r(!0)},{src:s,alt:i,style:a,className:o,loading:c="lazy",...u}=t;return e?l.jsx("div",{className:`inline-block bg-gray-100 text-center align-middle ${o??""}`,style:a,children:l.jsx("div",{className:"flex items-center justify-center w-full h-full",children:l.jsx("img",{src:Sj,alt:"Error loading image",...u,"data-original-url":s})})}):l.jsx("img",{src:s,alt:i,className:o,style:a,loading:c,...u,onError:n})}function jj(){const[t,e]=w.useState(""),r=Pt(),[n,s]=w.useState("none"),i=d=>{d.preventDefault(),t.trim()&&r(`/track?id=${encodeURIComponent(t)}`)},a=[{icon:Bn,title:"Auto Transport",description:"Specialized vehicle transport for cars and motorcycles with secure loading and GPS tracking.",imageUrl:"https://cdn.tempuslogix.com/wp-content/webp-express/webp-images/uploads/2021/08/car-transport-1024x683.jpeg.webp"},{icon:md,title:"Container Shipment",description:"Robust containerized solutions for heavy-duty and bulk cargo with customs support worldwide.",imageUrl:"https://morethanshipping.com/wp-content/uploads/2020/10/shipping-container-types.jpg"},{icon:dd,title:"Air & Express",description:"Fast air shipment options for urgent parcels  lightweight or heavy, door-to-door express available.",imageUrl:"https://maritimasureste.com/en/wp-content/uploads/sites/3/2021/07/Envio-express-aereo-de-paqueteria-on-board-courier.jpg"},{icon:Cn,title:"Door-to-Door Delivery",description:"End-to-end delivery with last-mile options, including eco-friendly drone delivery for select routes.",imageUrl:"https://www.flyingglass.com.au/wp-content/uploads/2025/09/delivery-drones-future-logistics.jpg"}],o=[{icon:Cn,value:"105+",label:"Countries Served"},{icon:xt,value:"100M+",label:"Packages Delivered"},{icon:Bn,value:"6.5k+",label:"Fleet Vehicles"}],c=[{icon:la,title:"24/7 Live Tracking",description:"Monitor your shipment in real-time from pickup to delivery with our advanced tracking system."},{icon:fd,title:"Global Security",description:"Industry-leading security protocols and comprehensive insurance for complete peace of mind."},{icon:Zg,title:"Localized Support",description:"Expert customer support in your language, available around the clock in every region we serve."}],u=[{name:"Sarah Johnson",location:"New York, USA",rating:5,comment:"Global-Go has transformed our international shipping. The tracking system is incredibly accurate and customer service is outstanding."},{name:"Michael Chen",location:"Shanghai, China",rating:5,comment:"Reliable, fast, and professional. We've been using Global-Go for 3 years and they never disappoint. Highly recommended!"},{name:"Emma Williams",location:"London, UK",rating:5,comment:"The most trustworthy logistics partner we've ever worked with. Their global network is truly impressive."}];return l.jsxs("div",{className:"w-full",children:[l.jsxs("section",{className:"relative min-h-screen flex items-center justify-center overflow-hidden bg-gradient-to-br from-[#0B1220] via-[#0F1F3D] to-[#1A365D]",children:[l.jsx("img",{src:"https://st4.depositphotos.com/2228340/28649/i/450/depositphotos_286497518-stock-photo-international-trade.jpg",alt:"international trade background","aria-hidden":"true",className:"absolute inset-0 w-full h-full object-cover opacity-40"}),l.jsx("div",{className:"absolute top-1/4 left-1/4 w-96 h-96 bg-[#2563EB] rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob"}),l.jsx("div",{className:"absolute top-1/3 right-1/4 w-96 h-96 bg-[#38BDF8] rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-2000"}),l.jsxs("div",{className:"relative z-10 max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[l.jsx(M.div,{initial:{scale:0},animate:{scale:1},transition:{duration:.5,type:"spring"},className:"flex justify-center mb-8",children:l.jsx("img",{src:"/assets/images/logo1.jpeg",alt:"Global-Go logo",className:"w-20 h-20 rounded-full object-cover shadow-2xl shadow-blue-500/30"})}),l.jsx(M.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},className:"text-5xl md:text-7xl font-bold text-white mb-6 leading-tight",children:"Global-Go"}),l.jsx(M.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.3},className:"text-xl md:text-2xl text-gray-300 mb-12 font-light",children:"Global Logistics Made Simple"}),l.jsxs(M.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},className:"max-w-2xl mx-auto",children:[l.jsx("form",{onSubmit:i,className:"relative",children:l.jsx("div",{className:"bg-white/10 backdrop-blur-xl rounded-2xl p-2 border border-white/20 shadow-2xl",children:l.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[l.jsx("input",{type:"text",value:t,onChange:d=>e(d.target.value),placeholder:"Enter Tracking ID (e.g. GG-2026-001)",className:"flex-1 px-6 py-4 bg-white/90 rounded-xl focus:outline-none focus:ring-2 focus:ring-[#38BDF8] text-gray-900 placeholder-gray-500"}),l.jsxs("button",{type:"submit",className:"px-8 py-4 bg-gradient-to-r from-[#2563EB] to-[#38BDF8] text-white font-semibold rounded-xl hover:shadow-lg hover:shadow-blue-500/50 transition-all duration-300 hover:scale-105 flex items-center justify-center gap-2",children:["Track Shipment",l.jsx(di,{className:"w-5 h-5"})]})]})})}),l.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-4 mt-8",children:[l.jsx("button",{onClick:()=>r("/signin"),className:"px-6 py-3 bg-white/10 backdrop-blur-sm text-white font-medium rounded-xl border border-white/20 hover:bg-white/20 transition-all duration-300",children:"Sign In"}),l.jsx("button",{onClick:()=>r("/signup"),className:"px-6 py-3 bg-white/10 backdrop-blur-sm text-white font-medium rounded-xl border border-white/20 hover:bg-white/20 transition-all duration-300",children:"Sign Up"}),l.jsx("button",{onClick:()=>s("prompt"),className:"px-6 py-3 bg-gradient-to-r from-[#10B981] to-[#059669] text-white font-medium rounded-xl hover:shadow-lg hover:shadow-green-500/30 transition-all duration-300 hover:scale-105",children:"Send Item"})]}),n==="prompt"&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:l.jsxs("div",{className:"bg-white rounded-lg shadow-lg max-w-md w-full p-6",children:[l.jsx("p",{className:"text-gray-800",children:"You must log in or sign up to send packages."}),l.jsxs("div",{className:"mt-6 flex justify-end gap-4",children:[l.jsx("button",{onClick:()=>r("/signup"),className:"px-4 py-2 bg-green-500 text-white rounded-md",children:"Sign Up"}),l.jsx("button",{onClick:()=>r("/signin"),className:"px-4 py-2 bg-blue-500 text-white rounded-md",children:"Log In"})]})]})})]})]}),l.jsx(M.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1,duration:1},className:"absolute bottom-8 left-1/2 -translate-x-1/2",children:l.jsx("div",{className:"w-6 h-10 rounded-full border-2 border-white/30 flex items-start justify-center p-2",children:l.jsx(M.div,{animate:{y:[0,12,0]},transition:{duration:1.5,repeat:1/0},className:"w-1.5 h-1.5 bg-white rounded-full"})})})]}),l.jsx("section",{id:"services",className:"py-24 bg-gradient-to-b from-white to-gray-50",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[l.jsxs(M.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-center mb-16",children:[l.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-[#0F1F3D] mb-4",children:"Our Global Logistics Solutions"}),l.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Comprehensive shipping services tailored to your business needs"})]}),l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8",children:a.map((d,h)=>l.jsx("article",{className:"bg-white rounded-2xl shadow-lg overflow-hidden border border-gray-100 flex flex-col",children:l.jsxs("div",{className:"flex-1 flex flex-col",children:[l.jsx("div",{className:"aspect-[4/3] bg-gray-100 overflow-hidden",children:l.jsx("img",{src:d.imageUrl??`/assets/images/service-${h+1}.jpg`,alt:d.title,className:"w-full h-full object-cover"})}),l.jsxs("div",{className:"p-5",children:[l.jsx("h3",{className:"text-lg font-semibold text-[#0F1F3D]",children:d.title}),l.jsx("p",{className:"text-sm text-gray-600 mt-2",children:d.description})]})]})},h))})]})}),l.jsxs("section",{className:"py-24 bg-gradient-to-br from-[#0F1F3D] via-[#1A365D] to-[#0F1F3D] relative overflow-hidden",children:[l.jsx("div",{className:"absolute inset-0 opacity-10",children:l.jsx("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA2MCA2MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxwYXRoIGQ9Ik0zNiAxOGMzLjMxNCAwIDYgMi42ODYgNiA2cy0yLjY4NiA2LTYgNi02LTIuNjg2LTYtNiAyLjY4Ni02IDYtNnptLTEyIDEyYzMuMzE0IDAgNiAyLjY4NiA2IDZzLTIuNjg2IDYtNiA2LTYtMi42ODYtNi02IDIuNjg2LTYgNi02eiIgc3Ryb2tlPSIjZmZmIiBzdHJva2Utd2lkdGg9IjIiLz48L2c+PC9zdmc+')] "})}),l.jsx("div",{className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:o.map((d,h)=>l.jsx(yf,{...d,index:h},h))})})]}),l.jsx("section",{className:"py-24 bg-white",children:l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-16 items-center",children:[l.jsxs(M.div,{initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},viewport:{once:!0},className:"relative",children:[l.jsx("div",{className:"aspect-[4/3] rounded-2xl overflow-hidden shadow-2xl",children:l.jsx(vf,{src:"https://images.unsplash.com/photo-1586528116311-ad8dd3c8310d?w=800&h=600&fit=crop",alt:"Global logistics operations",className:"w-full h-full object-cover"})}),l.jsx("div",{className:"absolute -bottom-6 -right-6 w-32 h-32 bg-gradient-to-br from-[#2563EB] to-[#38BDF8] rounded-2xl shadow-xl flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-3xl font-bold text-white",children:"28+"}),l.jsx("div",{className:"text-xs text-white/90",children:"Years"})]})})]}),l.jsxs(M.div,{initial:{opacity:0,x:20},whileInView:{opacity:1,x:0},viewport:{once:!0},children:[l.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-[#0F1F3D] mb-6",children:"Why Choose Global-Go?"}),l.jsx("p",{className:"text-xl text-gray-600 mb-10",children:"The world's most trusted logistics partner, delivering excellence across every mile."}),l.jsx("div",{className:"space-y-8",children:c.map((d,h)=>l.jsxs(M.div,{initial:{opacity:0,x:20},whileInView:{opacity:1,x:0},transition:{delay:h*.1},viewport:{once:!0},className:"flex gap-4 group",children:[l.jsx("div",{className:"flex-shrink-0",children:l.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-[#2563EB] to-[#38BDF8] flex items-center justify-center shadow-md group-hover:shadow-lg group-hover:shadow-blue-500/30 transition-all duration-300",children:l.jsx(d.icon,{className:"w-6 h-6 text-white"})})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl font-semibold text-[#0F1F3D] mb-2",children:d.title}),l.jsx("p",{className:"text-gray-600 leading-relaxed",children:d.description})]})]},h))})]})]})})}),l.jsx("section",{className:"py-24 bg-gradient-to-b from-gray-50 to-white",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[l.jsxs(M.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-center mb-16",children:[l.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-[#0F1F3D] mb-4",children:"What Our Global Clients Say"}),l.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Trusted by thousands of businesses worldwide"})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:u.map((d,h)=>l.jsx(_j,{...d,index:h},h))})]})}),l.jsxs("section",{className:"py-24 bg-gradient-to-br from-[#2563EB] to-[#38BDF8] relative overflow-hidden",children:[l.jsxs("div",{className:"absolute inset-0 opacity-10",children:[l.jsx("div",{className:"absolute top-1/4 left-1/4 w-96 h-96 bg-white rounded-full mix-blend-multiply filter blur-3xl animate-blob"}),l.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-96 h-96 bg-white rounded-full mix-blend-multiply filter blur-3xl animate-blob animation-delay-2000"})]}),l.jsx("div",{className:"relative z-10 max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:l.jsxs(M.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},children:[l.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-white mb-6",children:"Ready to Ship Globally?"}),l.jsx("p",{className:"text-xl text-white/90 mb-10 max-w-2xl mx-auto",children:"Join thousands of satisfied customers shipping to over 105 countries worldwide"}),l.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-4",children:[l.jsx("button",{onClick:()=>r("/signup"),className:"px-8 py-4 bg-white text-[#2563EB] font-semibold rounded-xl hover:shadow-2xl transition-all duration-300 hover:scale-105",children:"Get Started Now"}),l.jsx("button",{onClick:()=>r("/track"),className:"px-8 py-4 bg-white/10 backdrop-blur-sm text-white font-semibold rounded-xl border-2 border-white/30 hover:bg-white/20 transition-all duration-300",children:"Track a Shipment"})]})]})})]})]})}function kj(t){const e=(t||"").toLowerCase();return e.includes("air")||e.includes("flight")?"air":e.includes("sea")||e.includes("ship")||e.includes("ocean")||e.includes("maritime")?"sea":"land"}function Ej({progress:t,checkpoints:e,status:r,vehiclesCount:n=1}){const s=Array.from({length:n},(i,a)=>n===1?"50%":`${20+60/(n-1)*a}%`);return l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center justify-between text-sm mb-3",children:[l.jsx("span",{className:r==="Stopped"?"text-red-600 font-medium":"text-gray-600",children:"Shipment Progress"}),l.jsxs("span",{className:"text-xs font-bold text-[#2563EB]",children:[t,"%"]})]}),l.jsxs("div",{className:"relative w-full h-16 bg-gradient-to-r from-gray-100 to-gray-200 rounded-full shadow-md overflow-hidden border-2 border-gray-300",children:[l.jsx("div",{className:"absolute inset-0 flex items-center",children:l.jsx("div",{className:"w-full h-1 bg-gradient-to-r from-yellow-300 via-yellow-400 to-yellow-300 absolute left-0",style:{backgroundImage:"repeating-linear-gradient(90deg, #FBBF24 0px, #FBBF24 30px, transparent 30px, transparent 60px)",opacity:.7}})}),l.jsx(M.div,{initial:{width:0},animate:{width:`${t}%`},transition:{duration:.5,ease:"easeInOut"},className:"h-full bg-gradient-to-r from-green-400 to-green-300 rounded-full shadow-lg"}),s.map((i,a)=>l.jsx(M.div,{animate:{left:`${t}%`},transition:{duration:.5,ease:"easeInOut"},className:"absolute -translate-x-1/2",style:{top:i},children:l.jsxs("div",{className:"relative",children:[l.jsx(M.div,{animate:{y:[0,-4,0]},transition:{duration:1,repeat:1/0,repeatType:"reverse",delay:a*.1},className:"text-3xl drop-shadow-lg",children:""}),t>0&&t<100&&l.jsxs(l.Fragment,{children:[l.jsx(M.div,{animate:{opacity:[.3,.7,.3],x:[-8,0]},transition:{duration:.6,repeat:1/0},className:"absolute -left-8 top-1/2 text-gray-400 text-lg",children:""}),l.jsx(M.div,{animate:{opacity:[.2,.6,.2],x:[-16,0]},transition:{duration:.8,repeat:1/0},className:"absolute -left-16 top-1/2 text-gray-300 text-lg",children:""})]})]})},a)),(e||[]).map((i,a)=>l.jsx("div",{className:"absolute top-1/2 -translate-y-1/2 w-3 h-3 rounded-full transform -translate-x-1/2 pointer-events-none",style:{left:`${i.positionPercent}%`},children:l.jsx("div",{className:`w-3 h-3 rounded-full shadow-md border border-white ${i.status==="completed"?"bg-green-500":i.status==="current"?"bg-blue-500":i.status==="stopped"?"bg-red-500":"bg-gray-400"}`})},a))]}),l.jsx("div",{className:"text-xs text-gray-500 text-center",children:t===100?" Delivery Complete":`${t}% of the way there`})]})}function Nj({progress:t,checkpoints:e,status:r}){return l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center justify-between text-sm mb-3",children:[l.jsx("span",{className:r==="Stopped"?"text-red-600 font-medium":"text-gray-600",children:"Flight Progress"}),l.jsxs("span",{className:"text-xs font-bold text-[#2563EB]",children:[t,"%"]})]}),l.jsxs("div",{className:"relative w-full h-16 bg-gradient-to-r from-blue-100 via-blue-50 to-blue-100 rounded-full shadow-md overflow-hidden border-2 border-blue-200",children:[l.jsx("div",{className:"absolute left-2 top-2 text-xl opacity-40",children:""}),l.jsx("div",{className:"absolute right-4 bottom-2 text-xl opacity-30",children:""}),l.jsx(M.div,{initial:{width:0},animate:{width:`${t}%`},transition:{duration:.5,ease:"easeInOut"},className:"h-full bg-gradient-to-r from-sky-300 to-sky-200 rounded-full shadow-lg"}),l.jsx(M.div,{animate:{left:`${t}%`},transition:{duration:.5,ease:"easeInOut"},className:"absolute top-1/2 -translate-y-1/2 -translate-x-1/2",children:l.jsxs("div",{className:"relative",children:[l.jsx(M.div,{animate:{y:[0,-3,0],rotate:[0,2,0]},transition:{duration:2,repeat:1/0,repeatType:"reverse"},className:"text-3xl drop-shadow-lg",children:""}),t>0&&t<100&&l.jsxs(l.Fragment,{children:[l.jsx(M.div,{animate:{opacity:[.4,.2],x:[-4,-12]},transition:{duration:1,repeat:1/0},className:"absolute -left-6 top-1/4 text-blue-300 text-sm",children:"~~"}),l.jsx(M.div,{animate:{opacity:[.3,.1],x:[-8,-20]},transition:{duration:1.2,repeat:1/0,delay:.1},className:"absolute -left-10 top-2/3 text-blue-200 text-sm",children:"~~"})]})]})}),(e||[]).map((n,s)=>l.jsx("div",{className:"absolute top-1/2 -translate-y-1/2 w-3 h-3 rounded-full transform -translate-x-1/2 pointer-events-none",style:{left:`${n.positionPercent}%`},children:l.jsx("div",{className:`w-3 h-3 rounded-full shadow-md border border-white ${n.status==="completed"?"bg-green-500":n.status==="current"?"bg-blue-600":n.status==="stopped"?"bg-red-500":"bg-gray-300"}`})},s))]}),l.jsx("div",{className:"text-xs text-gray-500 text-center",children:t===100?" Landing Complete":`Cruising at altitude - ${t}% enroute`})]})}function Tj({progress:t,checkpoints:e,status:r}){return l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center justify-between text-sm mb-3",children:[l.jsx("span",{className:r==="Stopped"?"text-red-600 font-medium":"text-gray-600",children:"Voyage Progress"}),l.jsxs("span",{className:"text-xs font-bold text-[#2563EB]",children:[t,"%"]})]}),l.jsxs("div",{className:"relative w-full h-20 bg-gradient-to-r from-blue-200 via-cyan-100 to-blue-200 rounded-full shadow-md overflow-hidden border-2 border-blue-300",children:[l.jsxs("svg",{className:"absolute inset-0 w-full h-full opacity-40",viewBox:"0 0 1000 100",preserveAspectRatio:"none",children:[l.jsx("defs",{children:l.jsx("pattern",{id:"waves",x:"0",y:"0",width:"200",height:"100",patternUnits:"userSpaceOnUse",children:l.jsx("path",{d:"M0,50 Q50,30 100,50 T200,50",stroke:"#0369a1",strokeWidth:"2",fill:"none"})})}),l.jsx("rect",{width:"1000",height:"100",fill:"url(#waves)"})]}),l.jsx(M.div,{initial:{width:0},animate:{width:`${t}%`},transition:{duration:.5,ease:"easeInOut"},className:"h-full bg-gradient-to-r from-cyan-400 to-blue-300 rounded-full shadow-lg relative",children:l.jsxs("svg",{className:"absolute inset-0 w-full h-full opacity-30",viewBox:"0 0 1000 100",preserveAspectRatio:"none",children:[l.jsx("defs",{children:l.jsx("pattern",{id:"completedWaves",x:"0",y:"0",width:"200",height:"100",patternUnits:"userSpaceOnUse",children:l.jsx("path",{d:"M0,50 Q50,35 100,50 T200,50",stroke:"#ffffff",strokeWidth:"1.5",fill:"none"})})}),l.jsx("rect",{width:"1000",height:"100",fill:"url(#completedWaves)"})]})}),l.jsx(M.div,{animate:{left:`${t}%`},transition:{duration:.5,ease:"easeInOut"},className:"absolute top-1/2 -translate-y-1/2 -translate-x-1/2 z-10",children:l.jsxs("div",{className:"relative",children:[l.jsx(M.div,{animate:{y:[0,-2,0]},transition:{duration:1.5,repeat:1/0,repeatType:"reverse"},className:"text-3xl drop-shadow-lg",children:""}),t>0&&t<100&&l.jsxs(l.Fragment,{children:[l.jsx(M.div,{animate:{opacity:[.4,.1],y:[0,10]},transition:{duration:.8,repeat:1/0,repeatDelay:.2},className:"absolute left-2 top-1/2 text-blue-400 text-xl",children:""}),l.jsx(M.div,{animate:{opacity:[.3,.1],y:[0,10]},transition:{duration:1,repeat:1/0,repeatDelay:.4},className:"absolute -right-2 top-1/2 text-blue-300 text-xl",children:""})]})]})}),(e||[]).map((n,s)=>l.jsx("div",{className:"absolute top-1/2 -translate-y-1/2 w-3 h-3 rounded-full transform -translate-x-1/2 pointer-events-none z-5",style:{left:`${n.positionPercent}%`},children:l.jsx("div",{className:`w-3 h-3 rounded-full shadow-md border border-white ${n.status==="completed"?"bg-green-500":n.status==="current"?"bg-blue-600":n.status==="stopped"?"bg-red-500":"bg-gray-300"}`})},s))]}),l.jsx("div",{className:"text-xs text-gray-500 text-center",children:t===100?" Port of Arrival Reached":`Smooth sailing - ${t}% of voyage complete`})]})}function Cj({progress:t,transportMode:e,checkpoints:r,status:n,vehiclesCount:s}){const i=kj(e),a={progress:t,checkpoints:r,status:n};switch(i){case"air":return l.jsx(Nj,{...a});case"sea":return l.jsx(Tj,{...a});case"land":default:return l.jsx(Ej,{...a,vehiclesCount:s||1})}}function fu(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Pj(...t){return e=>{let r=!1;const n=t.map(s=>{const i=fu(s,e);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let s=0;s<n.length;s++){const i=n[s];typeof i=="function"?i():fu(t[s],null)}}}}var Uo=w.forwardRef((t,e)=>{const{children:r,...n}=t,s=w.Children.toArray(r),i=s.find(Aj);if(i){const a=i.props.children,o=s.map(c=>c===i?w.Children.count(a)>1?w.Children.only(null):w.isValidElement(a)?a.props.children:null:c);return l.jsx(za,{...n,ref:e,children:w.isValidElement(a)?w.cloneElement(a,void 0,o):null})}return l.jsx(za,{...n,ref:e,children:r})});Uo.displayName="Slot";var za=w.forwardRef((t,e)=>{const{children:r,...n}=t;if(w.isValidElement(r)){const s=Ij(r),i=Dj(n,r.props);return r.type!==w.Fragment&&(i.ref=e?Pj(e,s):s),w.cloneElement(r,i)}return w.Children.count(r)>1?w.Children.only(null):null});za.displayName="SlotClone";var Rj=({children:t})=>l.jsx(l.Fragment,{children:t});function Aj(t){return w.isValidElement(t)&&t.type===Rj}function Dj(t,e){const r={...e};for(const n in e){const s=t[n],i=e[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...o)=>{i(...o),s(...o)}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...t,...r}}function Ij(t){var n,s;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function bf(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(r=bf(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function xf(){for(var t,e,r=0,n="",s=arguments.length;r<s;r++)(t=arguments[r])&&(e=bf(t))&&(n&&(n+=" "),n+=e);return n}const mu=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,pu=xf,wf=(t,e)=>r=>{var n;if((e==null?void 0:e.variants)==null)return pu(t,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:s,defaultVariants:i}=e,a=Object.keys(s).map(u=>{const d=r==null?void 0:r[u],h=i==null?void 0:i[u];if(d===null)return null;const f=mu(d)||mu(h);return s[u][f]}),o=r&&Object.entries(r).reduce((u,d)=>{let[h,f]=d;return f===void 0||(u[h]=f),u},{}),c=e==null||(n=e.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:h,className:f,...m}=d;return Object.entries(m).every(p=>{let[v,x]=p;return Array.isArray(x)?x.includes({...i,...o}[v]):{...i,...o}[v]===x})?[...u,h,f]:u},[]);return pu(t,a,c,r==null?void 0:r.class,r==null?void 0:r.className)},Vo="-",Oj=t=>{const e=Mj(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:a=>{const o=a.split(Vo);return o[0]===""&&o.length!==1&&o.shift(),_f(o,e)||Lj(a)},getConflictingClassGroupIds:(a,o)=>{const c=r[a]||[];return o&&n[a]?[...c,...n[a]]:c}}},_f=(t,e)=>{var a;if(t.length===0)return e.classGroupId;const r=t[0],n=e.nextPart.get(r),s=n?_f(t.slice(1),n):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(Vo);return(a=e.validators.find(({validator:o})=>o(i)))==null?void 0:a.classGroupId},gu=/^\[(.+)\]$/,Lj=t=>{if(gu.test(t)){const e=gu.exec(t)[1],r=e==null?void 0:e.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},Mj=t=>{const{theme:e,classGroups:r}=t,n={nextPart:new Map,validators:[]};for(const s in r)Wa(r[s],n,s,e);return n},Wa=(t,e,r,n)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:yu(e,s);i.classGroupId=r;return}if(typeof s=="function"){if(Fj(s)){Wa(s(n),e,r,n);return}e.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([i,a])=>{Wa(a,yu(e,i),r,n)})})},yu=(t,e)=>{let r=t;return e.split(Vo).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},Fj=t=>t.isThemeGetter,$j=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,n=new Map;const s=(i,a)=>{r.set(i,a),e++,e>t&&(e=0,n=r,r=new Map)};return{get(i){let a=r.get(i);if(a!==void 0)return a;if((a=n.get(i))!==void 0)return s(i,a),a},set(i,a){r.has(i)?r.set(i,a):s(i,a)}}},Ha="!",qa=":",Bj=qa.length,Uj=t=>{const{prefix:e,experimentalParseClassName:r}=t;let n=s=>{const i=[];let a=0,o=0,c=0,u;for(let p=0;p<s.length;p++){let v=s[p];if(a===0&&o===0){if(v===qa){i.push(s.slice(c,p)),c=p+Bj;continue}if(v==="/"){u=p;continue}}v==="["?a++:v==="]"?a--:v==="("?o++:v===")"&&o--}const d=i.length===0?s:s.substring(c),h=Vj(d),f=h!==d,m=u&&u>c?u-c:void 0;return{modifiers:i,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:m}};if(e){const s=e+qa,i=n;n=a=>a.startsWith(s)?i(a.substring(s.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:a,maybePostfixModifierPosition:void 0}}if(r){const s=n;n=i=>r({className:i,parseClassName:s})}return n},Vj=t=>t.endsWith(Ha)?t.substring(0,t.length-1):t.startsWith(Ha)?t.substring(1):t,zj=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map(n=>[n,!0]));return n=>{if(n.length<=1)return n;const s=[];let i=[];return n.forEach(a=>{a[0]==="["||e[a]?(s.push(...i.sort(),a),i=[]):i.push(a)}),s.push(...i.sort()),s}},Wj=t=>({cache:$j(t.cacheSize),parseClassName:Uj(t),sortModifiers:zj(t),...Oj(t)}),Hj=/\s+/,qj=(t,e)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s,sortModifiers:i}=e,a=[],o=t.trim().split(Hj);let c="";for(let u=o.length-1;u>=0;u-=1){const d=o[u],{isExternal:h,modifiers:f,hasImportantModifier:m,baseClassName:p,maybePostfixModifierPosition:v}=r(d);if(h){c=d+(c.length>0?" "+c:c);continue}let x=!!v,g=n(x?p.substring(0,v):p);if(!g){if(!x){c=d+(c.length>0?" "+c:c);continue}if(g=n(p),!g){c=d+(c.length>0?" "+c:c);continue}x=!1}const y=i(f).join(":"),b=m?y+Ha:y,j=b+g;if(a.includes(j))continue;a.push(j);const k=s(g,x);for(let T=0;T<k.length;++T){const _=k[T];a.push(b+_)}c=d+(c.length>0?" "+c:c)}return c};function Gj(){let t=0,e,r,n="";for(;t<arguments.length;)(e=arguments[t++])&&(r=Sf(e))&&(n&&(n+=" "),n+=r);return n}const Sf=t=>{if(typeof t=="string")return t;let e,r="";for(let n=0;n<t.length;n++)t[n]&&(e=Sf(t[n]))&&(r&&(r+=" "),r+=e);return r};function Kj(t,...e){let r,n,s,i=a;function a(c){const u=e.reduce((d,h)=>h(d),t());return r=Wj(u),n=r.cache.get,s=r.cache.set,i=o,o(c)}function o(c){const u=n(c);if(u)return u;const d=qj(c,r);return s(c,d),d}return function(){return i(Gj.apply(null,arguments))}}const Le=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},jf=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,kf=/^\((?:(\w[\w-]*):)?(.+)\)$/i,Jj=/^\d+\/\d+$/,Yj=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Xj=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Zj=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Qj=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,ek=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Or=t=>Jj.test(t),he=t=>!!t&&!Number.isNaN(Number(t)),Vt=t=>!!t&&Number.isInteger(Number(t)),ea=t=>t.endsWith("%")&&he(t.slice(0,-1)),It=t=>Yj.test(t),tk=()=>!0,rk=t=>Xj.test(t)&&!Zj.test(t),Ef=()=>!1,nk=t=>Qj.test(t),sk=t=>ek.test(t),ik=t=>!U(t)&&!V(t),ak=t=>sn(t,Cf,Ef),U=t=>jf.test(t),cr=t=>sn(t,Pf,rk),ta=t=>sn(t,dk,he),vu=t=>sn(t,Nf,Ef),ok=t=>sn(t,Tf,sk),Fs=t=>sn(t,Rf,nk),V=t=>kf.test(t),wn=t=>an(t,Pf),lk=t=>an(t,hk),bu=t=>an(t,Nf),ck=t=>an(t,Cf),uk=t=>an(t,Tf),$s=t=>an(t,Rf,!0),sn=(t,e,r)=>{const n=jf.exec(t);return n?n[1]?e(n[1]):r(n[2]):!1},an=(t,e,r=!1)=>{const n=kf.exec(t);return n?n[1]?e(n[1]):r:!1},Nf=t=>t==="position"||t==="percentage",Tf=t=>t==="image"||t==="url",Cf=t=>t==="length"||t==="size"||t==="bg-size",Pf=t=>t==="length",dk=t=>t==="number",hk=t=>t==="family-name",Rf=t=>t==="shadow",fk=()=>{const t=Le("color"),e=Le("font"),r=Le("text"),n=Le("font-weight"),s=Le("tracking"),i=Le("leading"),a=Le("breakpoint"),o=Le("container"),c=Le("spacing"),u=Le("radius"),d=Le("shadow"),h=Le("inset-shadow"),f=Le("text-shadow"),m=Le("drop-shadow"),p=Le("blur"),v=Le("perspective"),x=Le("aspect"),g=Le("ease"),y=Le("animate"),b=()=>["auto","avoid","all","avoid-page","page","left","right","column"],j=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],k=()=>[...j(),V,U],T=()=>["auto","hidden","clip","visible","scroll"],_=()=>["auto","contain","none"],S=()=>[V,U,c],N=()=>[Or,"full","auto",...S()],D=()=>[Vt,"none","subgrid",V,U],L=()=>["auto",{span:["full",Vt,V,U]},Vt,V,U],B=()=>[Vt,"auto",V,U],F=()=>["auto","min","max","fr",V,U],X=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],le=()=>["start","end","center","stretch","center-safe","end-safe"],re=()=>["auto",...S()],q=()=>[Or,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...S()],R=()=>[t,V,U],ue=()=>[...j(),bu,vu,{position:[V,U]}],fe=()=>["no-repeat",{repeat:["","x","y","space","round"]}],G=()=>["auto","cover","contain",ck,ak,{size:[V,U]}],de=()=>[ea,wn,cr],ie=()=>["","none","full",u,V,U],se=()=>["",he,wn,cr],ge=()=>["solid","dashed","dotted","double"],je=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Q=()=>[he,ea,bu,vu],xe=()=>["","none",p,V,U],Oe=()=>["none",he,V,U],ee=()=>["none",he,V,U],pe=()=>[he,V,U],O=()=>[Or,"full",...S()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[It],breakpoint:[It],color:[tk],container:[It],"drop-shadow":[It],ease:["in","out","in-out"],font:[ik],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[It],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[It],shadow:[It],spacing:["px",he],text:[It],"text-shadow":[It],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Or,U,V,x]}],container:["container"],columns:[{columns:[he,U,V,o]}],"break-after":[{"break-after":b()}],"break-before":[{"break-before":b()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:k()}],overflow:[{overflow:T()}],"overflow-x":[{"overflow-x":T()}],"overflow-y":[{"overflow-y":T()}],overscroll:[{overscroll:_()}],"overscroll-x":[{"overscroll-x":_()}],"overscroll-y":[{"overscroll-y":_()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:N()}],"inset-x":[{"inset-x":N()}],"inset-y":[{"inset-y":N()}],start:[{start:N()}],end:[{end:N()}],top:[{top:N()}],right:[{right:N()}],bottom:[{bottom:N()}],left:[{left:N()}],visibility:["visible","invisible","collapse"],z:[{z:[Vt,"auto",V,U]}],basis:[{basis:[Or,"full","auto",o,...S()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[he,Or,"auto","initial","none",U]}],grow:[{grow:["",he,V,U]}],shrink:[{shrink:["",he,V,U]}],order:[{order:[Vt,"first","last","none",V,U]}],"grid-cols":[{"grid-cols":D()}],"col-start-end":[{col:L()}],"col-start":[{"col-start":B()}],"col-end":[{"col-end":B()}],"grid-rows":[{"grid-rows":D()}],"row-start-end":[{row:L()}],"row-start":[{"row-start":B()}],"row-end":[{"row-end":B()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":F()}],"auto-rows":[{"auto-rows":F()}],gap:[{gap:S()}],"gap-x":[{"gap-x":S()}],"gap-y":[{"gap-y":S()}],"justify-content":[{justify:[...X(),"normal"]}],"justify-items":[{"justify-items":[...le(),"normal"]}],"justify-self":[{"justify-self":["auto",...le()]}],"align-content":[{content:["normal",...X()]}],"align-items":[{items:[...le(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...le(),{baseline:["","last"]}]}],"place-content":[{"place-content":X()}],"place-items":[{"place-items":[...le(),"baseline"]}],"place-self":[{"place-self":["auto",...le()]}],p:[{p:S()}],px:[{px:S()}],py:[{py:S()}],ps:[{ps:S()}],pe:[{pe:S()}],pt:[{pt:S()}],pr:[{pr:S()}],pb:[{pb:S()}],pl:[{pl:S()}],m:[{m:re()}],mx:[{mx:re()}],my:[{my:re()}],ms:[{ms:re()}],me:[{me:re()}],mt:[{mt:re()}],mr:[{mr:re()}],mb:[{mb:re()}],ml:[{ml:re()}],"space-x":[{"space-x":S()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":S()}],"space-y-reverse":["space-y-reverse"],size:[{size:q()}],w:[{w:[o,"screen",...q()]}],"min-w":[{"min-w":[o,"screen","none",...q()]}],"max-w":[{"max-w":[o,"screen","none","prose",{screen:[a]},...q()]}],h:[{h:["screen",...q()]}],"min-h":[{"min-h":["screen","none",...q()]}],"max-h":[{"max-h":["screen",...q()]}],"font-size":[{text:["base",r,wn,cr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,V,ta]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",ea,U]}],"font-family":[{font:[lk,U,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,V,U]}],"line-clamp":[{"line-clamp":[he,"none",V,ta]}],leading:[{leading:[i,...S()]}],"list-image":[{"list-image":["none",V,U]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",V,U]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:R()}],"text-color":[{text:R()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ge(),"wavy"]}],"text-decoration-thickness":[{decoration:[he,"from-font","auto",V,cr]}],"text-decoration-color":[{decoration:R()}],"underline-offset":[{"underline-offset":[he,"auto",V,U]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:S()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",V,U]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",V,U]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:ue()}],"bg-repeat":[{bg:fe()}],"bg-size":[{bg:G()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Vt,V,U],radial:["",V,U],conic:[Vt,V,U]},uk,ok]}],"bg-color":[{bg:R()}],"gradient-from-pos":[{from:de()}],"gradient-via-pos":[{via:de()}],"gradient-to-pos":[{to:de()}],"gradient-from":[{from:R()}],"gradient-via":[{via:R()}],"gradient-to":[{to:R()}],rounded:[{rounded:ie()}],"rounded-s":[{"rounded-s":ie()}],"rounded-e":[{"rounded-e":ie()}],"rounded-t":[{"rounded-t":ie()}],"rounded-r":[{"rounded-r":ie()}],"rounded-b":[{"rounded-b":ie()}],"rounded-l":[{"rounded-l":ie()}],"rounded-ss":[{"rounded-ss":ie()}],"rounded-se":[{"rounded-se":ie()}],"rounded-ee":[{"rounded-ee":ie()}],"rounded-es":[{"rounded-es":ie()}],"rounded-tl":[{"rounded-tl":ie()}],"rounded-tr":[{"rounded-tr":ie()}],"rounded-br":[{"rounded-br":ie()}],"rounded-bl":[{"rounded-bl":ie()}],"border-w":[{border:se()}],"border-w-x":[{"border-x":se()}],"border-w-y":[{"border-y":se()}],"border-w-s":[{"border-s":se()}],"border-w-e":[{"border-e":se()}],"border-w-t":[{"border-t":se()}],"border-w-r":[{"border-r":se()}],"border-w-b":[{"border-b":se()}],"border-w-l":[{"border-l":se()}],"divide-x":[{"divide-x":se()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":se()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...ge(),"hidden","none"]}],"divide-style":[{divide:[...ge(),"hidden","none"]}],"border-color":[{border:R()}],"border-color-x":[{"border-x":R()}],"border-color-y":[{"border-y":R()}],"border-color-s":[{"border-s":R()}],"border-color-e":[{"border-e":R()}],"border-color-t":[{"border-t":R()}],"border-color-r":[{"border-r":R()}],"border-color-b":[{"border-b":R()}],"border-color-l":[{"border-l":R()}],"divide-color":[{divide:R()}],"outline-style":[{outline:[...ge(),"none","hidden"]}],"outline-offset":[{"outline-offset":[he,V,U]}],"outline-w":[{outline:["",he,wn,cr]}],"outline-color":[{outline:R()}],shadow:[{shadow:["","none",d,$s,Fs]}],"shadow-color":[{shadow:R()}],"inset-shadow":[{"inset-shadow":["none",h,$s,Fs]}],"inset-shadow-color":[{"inset-shadow":R()}],"ring-w":[{ring:se()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:R()}],"ring-offset-w":[{"ring-offset":[he,cr]}],"ring-offset-color":[{"ring-offset":R()}],"inset-ring-w":[{"inset-ring":se()}],"inset-ring-color":[{"inset-ring":R()}],"text-shadow":[{"text-shadow":["none",f,$s,Fs]}],"text-shadow-color":[{"text-shadow":R()}],opacity:[{opacity:[he,V,U]}],"mix-blend":[{"mix-blend":[...je(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":je()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[he]}],"mask-image-linear-from-pos":[{"mask-linear-from":Q()}],"mask-image-linear-to-pos":[{"mask-linear-to":Q()}],"mask-image-linear-from-color":[{"mask-linear-from":R()}],"mask-image-linear-to-color":[{"mask-linear-to":R()}],"mask-image-t-from-pos":[{"mask-t-from":Q()}],"mask-image-t-to-pos":[{"mask-t-to":Q()}],"mask-image-t-from-color":[{"mask-t-from":R()}],"mask-image-t-to-color":[{"mask-t-to":R()}],"mask-image-r-from-pos":[{"mask-r-from":Q()}],"mask-image-r-to-pos":[{"mask-r-to":Q()}],"mask-image-r-from-color":[{"mask-r-from":R()}],"mask-image-r-to-color":[{"mask-r-to":R()}],"mask-image-b-from-pos":[{"mask-b-from":Q()}],"mask-image-b-to-pos":[{"mask-b-to":Q()}],"mask-image-b-from-color":[{"mask-b-from":R()}],"mask-image-b-to-color":[{"mask-b-to":R()}],"mask-image-l-from-pos":[{"mask-l-from":Q()}],"mask-image-l-to-pos":[{"mask-l-to":Q()}],"mask-image-l-from-color":[{"mask-l-from":R()}],"mask-image-l-to-color":[{"mask-l-to":R()}],"mask-image-x-from-pos":[{"mask-x-from":Q()}],"mask-image-x-to-pos":[{"mask-x-to":Q()}],"mask-image-x-from-color":[{"mask-x-from":R()}],"mask-image-x-to-color":[{"mask-x-to":R()}],"mask-image-y-from-pos":[{"mask-y-from":Q()}],"mask-image-y-to-pos":[{"mask-y-to":Q()}],"mask-image-y-from-color":[{"mask-y-from":R()}],"mask-image-y-to-color":[{"mask-y-to":R()}],"mask-image-radial":[{"mask-radial":[V,U]}],"mask-image-radial-from-pos":[{"mask-radial-from":Q()}],"mask-image-radial-to-pos":[{"mask-radial-to":Q()}],"mask-image-radial-from-color":[{"mask-radial-from":R()}],"mask-image-radial-to-color":[{"mask-radial-to":R()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":j()}],"mask-image-conic-pos":[{"mask-conic":[he]}],"mask-image-conic-from-pos":[{"mask-conic-from":Q()}],"mask-image-conic-to-pos":[{"mask-conic-to":Q()}],"mask-image-conic-from-color":[{"mask-conic-from":R()}],"mask-image-conic-to-color":[{"mask-conic-to":R()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:ue()}],"mask-repeat":[{mask:fe()}],"mask-size":[{mask:G()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",V,U]}],filter:[{filter:["","none",V,U]}],blur:[{blur:xe()}],brightness:[{brightness:[he,V,U]}],contrast:[{contrast:[he,V,U]}],"drop-shadow":[{"drop-shadow":["","none",m,$s,Fs]}],"drop-shadow-color":[{"drop-shadow":R()}],grayscale:[{grayscale:["",he,V,U]}],"hue-rotate":[{"hue-rotate":[he,V,U]}],invert:[{invert:["",he,V,U]}],saturate:[{saturate:[he,V,U]}],sepia:[{sepia:["",he,V,U]}],"backdrop-filter":[{"backdrop-filter":["","none",V,U]}],"backdrop-blur":[{"backdrop-blur":xe()}],"backdrop-brightness":[{"backdrop-brightness":[he,V,U]}],"backdrop-contrast":[{"backdrop-contrast":[he,V,U]}],"backdrop-grayscale":[{"backdrop-grayscale":["",he,V,U]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[he,V,U]}],"backdrop-invert":[{"backdrop-invert":["",he,V,U]}],"backdrop-opacity":[{"backdrop-opacity":[he,V,U]}],"backdrop-saturate":[{"backdrop-saturate":[he,V,U]}],"backdrop-sepia":[{"backdrop-sepia":["",he,V,U]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":S()}],"border-spacing-x":[{"border-spacing-x":S()}],"border-spacing-y":[{"border-spacing-y":S()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",V,U]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[he,"initial",V,U]}],ease:[{ease:["linear","initial",g,V,U]}],delay:[{delay:[he,V,U]}],animate:[{animate:["none",y,V,U]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[v,V,U]}],"perspective-origin":[{"perspective-origin":k()}],rotate:[{rotate:Oe()}],"rotate-x":[{"rotate-x":Oe()}],"rotate-y":[{"rotate-y":Oe()}],"rotate-z":[{"rotate-z":Oe()}],scale:[{scale:ee()}],"scale-x":[{"scale-x":ee()}],"scale-y":[{"scale-y":ee()}],"scale-z":[{"scale-z":ee()}],"scale-3d":["scale-3d"],skew:[{skew:pe()}],"skew-x":[{"skew-x":pe()}],"skew-y":[{"skew-y":pe()}],transform:[{transform:[V,U,"","none","gpu","cpu"]}],"transform-origin":[{origin:k()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:O()}],"translate-x":[{"translate-x":O()}],"translate-y":[{"translate-y":O()}],"translate-z":[{"translate-z":O()}],"translate-none":["translate-none"],accent:[{accent:R()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:R()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",V,U]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":S()}],"scroll-mx":[{"scroll-mx":S()}],"scroll-my":[{"scroll-my":S()}],"scroll-ms":[{"scroll-ms":S()}],"scroll-me":[{"scroll-me":S()}],"scroll-mt":[{"scroll-mt":S()}],"scroll-mr":[{"scroll-mr":S()}],"scroll-mb":[{"scroll-mb":S()}],"scroll-ml":[{"scroll-ml":S()}],"scroll-p":[{"scroll-p":S()}],"scroll-px":[{"scroll-px":S()}],"scroll-py":[{"scroll-py":S()}],"scroll-ps":[{"scroll-ps":S()}],"scroll-pe":[{"scroll-pe":S()}],"scroll-pt":[{"scroll-pt":S()}],"scroll-pr":[{"scroll-pr":S()}],"scroll-pb":[{"scroll-pb":S()}],"scroll-pl":[{"scroll-pl":S()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",V,U]}],fill:[{fill:["none",...R()]}],"stroke-w":[{stroke:[he,wn,cr,ta]}],stroke:[{stroke:["none",...R()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},mk=Kj(fk);function wr(...t){return mk(xf(t))}const pk=wf("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function xu({className:t,variant:e,asChild:r=!1,...n}){const s=r?Uo:"span";return l.jsx(s,{"data-slot":"badge",className:wr(pk({variant:e}),t),...n})}function gk(t){return Object.prototype.toString.call(t)==="[object Object]"}function wu(t){return gk(t)||Array.isArray(t)}function yk(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function zo(t,e){const r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;const s=JSON.stringify(Object.keys(t.breakpoints||{})),i=JSON.stringify(Object.keys(e.breakpoints||{}));return s!==i?!1:r.every(a=>{const o=t[a],c=e[a];return typeof o=="function"?`${o}`==`${c}`:!wu(o)||!wu(c)?o===c:zo(o,c)})}function _u(t){return t.concat().sort((e,r)=>e.name>r.name?1:-1).map(e=>e.options)}function vk(t,e){if(t.length!==e.length)return!1;const r=_u(t),n=_u(e);return r.every((s,i)=>{const a=n[i];return zo(s,a)})}function Wo(t){return typeof t=="number"}function Ga(t){return typeof t=="string"}function bi(t){return typeof t=="boolean"}function Su(t){return Object.prototype.toString.call(t)==="[object Object]"}function Ne(t){return Math.abs(t)}function Ho(t){return Math.sign(t)}function Ln(t,e){return Ne(t-e)}function bk(t,e){if(t===0||e===0||Ne(t)<=Ne(e))return 0;const r=Ln(Ne(t),Ne(e));return Ne(r/t)}function xk(t){return Math.round(t*100)/100}function Qn(t){return es(t).map(Number)}function bt(t){return t[hs(t)]}function hs(t){return Math.max(0,t.length-1)}function qo(t,e){return e===hs(t)}function ju(t,e=0){return Array.from(Array(t),(r,n)=>e+n)}function es(t){return Object.keys(t)}function Af(t,e){return[t,e].reduce((r,n)=>(es(n).forEach(s=>{const i=r[s],a=n[s],o=Su(i)&&Su(a);r[s]=o?Af(i,a):a}),r),{})}function Ka(t,e){return typeof e.MouseEvent<"u"&&t instanceof e.MouseEvent}function wk(t,e){const r={start:n,center:s,end:i};function n(){return 0}function s(c){return i(c)/2}function i(c){return e-c}function a(c,u){return Ga(t)?r[t](c):t(e,c,u)}return{measure:a}}function ts(){let t=[];function e(s,i,a,o={passive:!0}){let c;if("addEventListener"in s)s.addEventListener(i,a,o),c=()=>s.removeEventListener(i,a,o);else{const u=s;u.addListener(a),c=()=>u.removeListener(a)}return t.push(c),n}function r(){t=t.filter(s=>s())}const n={add:e,clear:r};return n}function _k(t,e,r,n){const s=ts(),i=1e3/60;let a=null,o=0,c=0;function u(){s.add(t,"visibilitychange",()=>{t.hidden&&p()})}function d(){m(),s.clear()}function h(x){if(!c)return;a||(a=x,r(),r());const g=x-a;for(a=x,o+=g;o>=i;)r(),o-=i;const y=o/i;n(y),c&&(c=e.requestAnimationFrame(h))}function f(){c||(c=e.requestAnimationFrame(h))}function m(){e.cancelAnimationFrame(c),a=null,o=0,c=0}function p(){a=null,o=0}return{init:u,destroy:d,start:f,stop:m,update:r,render:n}}function Sk(t,e){const r=e==="rtl",n=t==="y",s=n?"y":"x",i=n?"x":"y",a=!n&&r?-1:1,o=d(),c=h();function u(p){const{height:v,width:x}=p;return n?v:x}function d(){return n?"top":r?"right":"left"}function h(){return n?"bottom":r?"left":"right"}function f(p){return p*a}return{scroll:s,cross:i,startEdge:o,endEdge:c,measureSize:u,direction:f}}function br(t=0,e=0){const r=Ne(t-e);function n(u){return u<t}function s(u){return u>e}function i(u){return n(u)||s(u)}function a(u){return i(u)?n(u)?t:e:u}function o(u){return r?u-r*Math.ceil((u-e)/r):u}return{length:r,max:e,min:t,constrain:a,reachedAny:i,reachedMax:s,reachedMin:n,removeOffset:o}}function Df(t,e,r){const{constrain:n}=br(0,t),s=t+1;let i=a(e);function a(f){return r?Ne((s+f)%s):n(f)}function o(){return i}function c(f){return i=a(f),h}function u(f){return d().set(o()+f)}function d(){return Df(t,o(),r)}const h={get:o,set:c,add:u,clone:d};return h}function jk(t,e,r,n,s,i,a,o,c,u,d,h,f,m,p,v,x,g,y){const{cross:b,direction:j}=t,k=["INPUT","SELECT","TEXTAREA"],T={passive:!1},_=ts(),S=ts(),N=br(50,225).constrain(m.measure(20)),D={mouse:300,touch:400},L={mouse:500,touch:600},B=p?43:25;let F=!1,X=0,le=0,re=!1,q=!1,R=!1,ue=!1;function fe(O){if(!y)return;function ve(Ue){(bi(y)||y(O,Ue))&&je(Ue)}const ke=e;_.add(ke,"dragstart",Ue=>Ue.preventDefault(),T).add(ke,"touchmove",()=>{},T).add(ke,"touchend",()=>{}).add(ke,"touchstart",ve).add(ke,"mousedown",ve).add(ke,"touchcancel",xe).add(ke,"contextmenu",xe).add(ke,"click",Oe,!0)}function G(){_.clear(),S.clear()}function de(){const O=ue?r:e;S.add(O,"touchmove",Q,T).add(O,"touchend",xe).add(O,"mousemove",Q,T).add(O,"mouseup",xe)}function ie(O){const ve=O.nodeName||"";return k.includes(ve)}function se(){return(p?L:D)[ue?"mouse":"touch"]}function ge(O,ve){const ke=h.add(Ho(O)*-1),Ue=d.byDistance(O,!p).distance;return p||Ne(O)<N?Ue:x&&ve?Ue*.5:d.byIndex(ke.get(),0).distance}function je(O){const ve=Ka(O,n);ue=ve,R=p&&ve&&!O.buttons&&F,F=Ln(s.get(),a.get())>=2,!(ve&&O.button!==0)&&(ie(O.target)||(re=!0,i.pointerDown(O),u.useFriction(0).useDuration(0),s.set(a),de(),X=i.readPoint(O),le=i.readPoint(O,b),f.emit("pointerDown")))}function Q(O){if(!Ka(O,n)&&O.touches.length>=2)return xe(O);const ke=i.readPoint(O),Ue=i.readPoint(O,b),$e=Ln(ke,X),ct=Ln(Ue,le);if(!q&&!ue&&(!O.cancelable||(q=$e>ct,!q)))return xe(O);const Rt=i.pointerMove(O);$e>v&&(R=!0),u.useFriction(.3).useDuration(.75),o.start(),s.add(j(Rt)),O.preventDefault()}function xe(O){const ke=d.byDistance(0,!1).index!==h.get(),Ue=i.pointerUp(O)*se(),$e=ge(j(Ue),ke),ct=bk(Ue,$e),Rt=B-10*ct,ut=g+ct/50;q=!1,re=!1,S.clear(),u.useDuration(Rt).useFriction(ut),c.distance($e,!p),ue=!1,f.emit("pointerUp")}function Oe(O){R&&(O.stopPropagation(),O.preventDefault(),R=!1)}function ee(){return re}return{init:fe,destroy:G,pointerDown:ee}}function kk(t,e){let n,s;function i(h){return h.timeStamp}function a(h,f){const p=`client${(f||t.scroll)==="x"?"X":"Y"}`;return(Ka(h,e)?h:h.touches[0])[p]}function o(h){return n=h,s=h,a(h)}function c(h){const f=a(h)-a(s),m=i(h)-i(n)>170;return s=h,m&&(n=h),f}function u(h){if(!n||!s)return 0;const f=a(s)-a(n),m=i(h)-i(n),p=i(h)-i(s)>170,v=f/m;return m&&!p&&Ne(v)>.1?v:0}return{pointerDown:o,pointerMove:c,pointerUp:u,readPoint:a}}function Ek(){function t(r){const{offsetTop:n,offsetLeft:s,offsetWidth:i,offsetHeight:a}=r;return{top:n,right:s+i,bottom:n+a,left:s,width:i,height:a}}return{measure:t}}function Nk(t){function e(n){return t*(n/100)}return{measure:e}}function Tk(t,e,r,n,s,i,a){const o=[t].concat(n);let c,u,d=[],h=!1;function f(x){return s.measureSize(a.measure(x))}function m(x){if(!i)return;u=f(t),d=n.map(f);function g(y){for(const b of y){if(h)return;const j=b.target===t,k=n.indexOf(b.target),T=j?u:d[k],_=f(j?t:n[k]);if(Ne(_-T)>=.5){x.reInit(),e.emit("resize");break}}}c=new ResizeObserver(y=>{(bi(i)||i(x,y))&&g(y)}),r.requestAnimationFrame(()=>{o.forEach(y=>c.observe(y))})}function p(){h=!0,c&&c.disconnect()}return{init:m,destroy:p}}function Ck(t,e,r,n,s,i){let a=0,o=0,c=s,u=i,d=t.get(),h=0;function f(){const T=n.get()-t.get(),_=!c;let S=0;return _?(a=0,r.set(n),t.set(n),S=T):(r.set(t),a+=T/c,a*=u,d+=a,t.add(a),S=d-h),o=Ho(S),h=d,k}function m(){const T=n.get()-e.get();return Ne(T)<.001}function p(){return c}function v(){return o}function x(){return a}function g(){return b(s)}function y(){return j(i)}function b(T){return c=T,k}function j(T){return u=T,k}const k={direction:v,duration:p,velocity:x,seek:f,settled:m,useBaseFriction:y,useBaseDuration:g,useFriction:j,useDuration:b};return k}function Pk(t,e,r,n,s){const i=s.measure(10),a=s.measure(50),o=br(.1,.99);let c=!1;function u(){return!(c||!t.reachedAny(r.get())||!t.reachedAny(e.get()))}function d(m){if(!u())return;const p=t.reachedMin(e.get())?"min":"max",v=Ne(t[p]-e.get()),x=r.get()-e.get(),g=o.constrain(v/a);r.subtract(x*g),!m&&Ne(x)<i&&(r.set(t.constrain(r.get())),n.useDuration(25).useBaseFriction())}function h(m){c=!m}return{shouldConstrain:u,constrain:d,toggleActive:h}}function Rk(t,e,r,n,s){const i=br(-e+t,0),a=h(),o=d(),c=f();function u(p,v){return Ln(p,v)<=1}function d(){const p=a[0],v=bt(a),x=a.lastIndexOf(p),g=a.indexOf(v)+1;return br(x,g)}function h(){return r.map((p,v)=>{const{min:x,max:g}=i,y=i.constrain(p),b=!v,j=qo(r,v);return b?g:j||u(x,y)?x:u(g,y)?g:y}).map(p=>parseFloat(p.toFixed(3)))}function f(){if(e<=t+s)return[i.max];if(n==="keepSnaps")return a;const{min:p,max:v}=o;return a.slice(p,v)}return{snapsContained:c,scrollContainLimit:o}}function Ak(t,e,r){const n=e[0],s=r?n-t:bt(e);return{limit:br(s,n)}}function Dk(t,e,r,n){const i=e.min+.1,a=e.max+.1,{reachedMin:o,reachedMax:c}=br(i,a);function u(f){return f===1?c(r.get()):f===-1?o(r.get()):!1}function d(f){if(!u(f))return;const m=t*(f*-1);n.forEach(p=>p.add(m))}return{loop:d}}function Ik(t){const{max:e,length:r}=t;function n(i){const a=i-e;return r?a/-r:0}return{get:n}}function Ok(t,e,r,n,s){const{startEdge:i,endEdge:a}=t,{groupSlides:o}=s,c=h().map(e.measure),u=f(),d=m();function h(){return o(n).map(v=>bt(v)[a]-v[0][i]).map(Ne)}function f(){return n.map(v=>r[i]-v[i]).map(v=>-Ne(v))}function m(){return o(u).map(v=>v[0]).map((v,x)=>v+c[x])}return{snaps:u,snapsAligned:d}}function Lk(t,e,r,n,s,i){const{groupSlides:a}=s,{min:o,max:c}=n,u=d();function d(){const f=a(i),m=!t||e==="keepSnaps";return r.length===1?[i]:m?f:f.slice(o,c).map((p,v,x)=>{const g=!v,y=qo(x,v);if(g){const b=bt(x[0])+1;return ju(b)}if(y){const b=hs(i)-bt(x)[0]+1;return ju(b,bt(x)[0])}return p})}return{slideRegistry:u}}function Mk(t,e,r,n,s){const{reachedAny:i,removeOffset:a,constrain:o}=n;function c(p){return p.concat().sort((v,x)=>Ne(v)-Ne(x))[0]}function u(p){const v=t?a(p):o(p),x=e.map((y,b)=>({diff:d(y-v,0),index:b})).sort((y,b)=>Ne(y.diff)-Ne(b.diff)),{index:g}=x[0];return{index:g,distance:v}}function d(p,v){const x=[p,p+r,p-r];if(!t)return p;if(!v)return c(x);const g=x.filter(y=>Ho(y)===v);return g.length?c(g):bt(x)-r}function h(p,v){const x=e[p]-s.get(),g=d(x,v);return{index:p,distance:g}}function f(p,v){const x=s.get()+p,{index:g,distance:y}=u(x),b=!t&&i(x);if(!v||b)return{index:g,distance:p};const j=e[g]-y,k=p+d(j,0);return{index:g,distance:k}}return{byDistance:f,byIndex:h,shortcut:d}}function Fk(t,e,r,n,s,i,a){function o(h){const f=h.distance,m=h.index!==e.get();i.add(f),f&&(n.duration()?t.start():(t.update(),t.render(1),t.update())),m&&(r.set(e.get()),e.set(h.index),a.emit("select"))}function c(h,f){const m=s.byDistance(h,f);o(m)}function u(h,f){const m=e.clone().set(h),p=s.byIndex(m.get(),f);o(p)}return{distance:c,index:u}}function $k(t,e,r,n,s,i,a,o){const c={passive:!0,capture:!0};let u=0;function d(m){if(!o)return;function p(v){if(new Date().getTime()-u>10)return;a.emit("slideFocusStart"),t.scrollLeft=0;const y=r.findIndex(b=>b.includes(v));Wo(y)&&(s.useDuration(0),n.index(y,0),a.emit("slideFocus"))}i.add(document,"keydown",h,!1),e.forEach((v,x)=>{i.add(v,"focus",g=>{(bi(o)||o(m,g))&&p(x)},c)})}function h(m){m.code==="Tab"&&(u=new Date().getTime())}return{init:d}}function En(t){let e=t;function r(){return e}function n(c){e=a(c)}function s(c){e+=a(c)}function i(c){e-=a(c)}function a(c){return Wo(c)?c:c.get()}return{get:r,set:n,add:s,subtract:i}}function If(t,e){const r=t.scroll==="x"?a:o,n=e.style;let s=null,i=!1;function a(f){return`translate3d(${f}px,0px,0px)`}function o(f){return`translate3d(0px,${f}px,0px)`}function c(f){if(i)return;const m=xk(t.direction(f));m!==s&&(n.transform=r(m),s=m)}function u(f){i=!f}function d(){i||(n.transform="",e.getAttribute("style")||e.removeAttribute("style"))}return{clear:d,to:c,toggleActive:u}}function Bk(t,e,r,n,s,i,a,o,c){const d=Qn(s),h=Qn(s).reverse(),f=g().concat(y());function m(_,S){return _.reduce((N,D)=>N-s[D],S)}function p(_,S){return _.reduce((N,D)=>m(N,S)>0?N.concat([D]):N,[])}function v(_){return i.map((S,N)=>({start:S-n[N]+.5+_,end:S+e-.5+_}))}function x(_,S,N){const D=v(S);return _.map(L=>{const B=N?0:-r,F=N?r:0,X=N?"end":"start",le=D[L][X];return{index:L,loopPoint:le,slideLocation:En(-1),translate:If(t,c[L]),target:()=>o.get()>le?B:F}})}function g(){const _=a[0],S=p(h,_);return x(S,r,!1)}function y(){const _=e-a[0]-1,S=p(d,_);return x(S,-r,!0)}function b(){return f.every(({index:_})=>{const S=d.filter(N=>N!==_);return m(S,e)<=.1})}function j(){f.forEach(_=>{const{target:S,translate:N,slideLocation:D}=_,L=S();L!==D.get()&&(N.to(L),D.set(L))})}function k(){f.forEach(_=>_.translate.clear())}return{canLoop:b,clear:k,loop:j,loopPoints:f}}function Uk(t,e,r){let n,s=!1;function i(c){if(!r)return;function u(d){for(const h of d)if(h.type==="childList"){c.reInit(),e.emit("slidesChanged");break}}n=new MutationObserver(d=>{s||(bi(r)||r(c,d))&&u(d)}),n.observe(t,{childList:!0})}function a(){n&&n.disconnect(),s=!0}return{init:i,destroy:a}}function Vk(t,e,r,n){const s={};let i=null,a=null,o,c=!1;function u(){o=new IntersectionObserver(p=>{c||(p.forEach(v=>{const x=e.indexOf(v.target);s[x]=v}),i=null,a=null,r.emit("slidesInView"))},{root:t.parentElement,threshold:n}),e.forEach(p=>o.observe(p))}function d(){o&&o.disconnect(),c=!0}function h(p){return es(s).reduce((v,x)=>{const g=parseInt(x),{isIntersecting:y}=s[g];return(p&&y||!p&&!y)&&v.push(g),v},[])}function f(p=!0){if(p&&i)return i;if(!p&&a)return a;const v=h(p);return p&&(i=v),p||(a=v),v}return{init:u,destroy:d,get:f}}function zk(t,e,r,n,s,i){const{measureSize:a,startEdge:o,endEdge:c}=t,u=r[0]&&s,d=p(),h=v(),f=r.map(a),m=x();function p(){if(!u)return 0;const y=r[0];return Ne(e[o]-y[o])}function v(){if(!u)return 0;const y=i.getComputedStyle(bt(n));return parseFloat(y.getPropertyValue(`margin-${c}`))}function x(){return r.map((y,b,j)=>{const k=!b,T=qo(j,b);return k?f[b]+d:T?f[b]+h:j[b+1][o]-y[o]}).map(Ne)}return{slideSizes:f,slideSizesWithGaps:m,startGap:d,endGap:h}}function Wk(t,e,r,n,s,i,a,o,c){const{startEdge:u,endEdge:d,direction:h}=t,f=Wo(r);function m(g,y){return Qn(g).filter(b=>b%y===0).map(b=>g.slice(b,b+y))}function p(g){return g.length?Qn(g).reduce((y,b,j)=>{const k=bt(y)||0,T=k===0,_=b===hs(g),S=s[u]-i[k][u],N=s[u]-i[b][d],D=!n&&T?h(a):0,L=!n&&_?h(o):0,B=Ne(N-L-(S+D));return j&&B>e+c&&y.push(b),_&&y.push(g.length),y},[]).map((y,b,j)=>{const k=Math.max(j[b-1]||0);return g.slice(k,y)}):[]}function v(g){return f?m(g,r):p(g)}return{groupSlides:v}}function Hk(t,e,r,n,s,i,a){const{align:o,axis:c,direction:u,startIndex:d,loop:h,duration:f,dragFree:m,dragThreshold:p,inViewThreshold:v,slidesToScroll:x,skipSnaps:g,containScroll:y,watchResize:b,watchSlides:j,watchDrag:k,watchFocus:T}=i,_=2,S=Ek(),N=S.measure(e),D=r.map(S.measure),L=Sk(c,u),B=L.measureSize(N),F=Nk(B),X=wk(o,B),le=!h&&!!y,re=h||!!y,{slideSizes:q,slideSizesWithGaps:R,startGap:ue,endGap:fe}=zk(L,N,D,r,re,s),G=Wk(L,B,x,h,N,D,ue,fe,_),{snaps:de,snapsAligned:ie}=Ok(L,X,N,D,G),se=-bt(de)+bt(R),{snapsContained:ge,scrollContainLimit:je}=Rk(B,se,ie,y,_),Q=le?ge:ie,{limit:xe}=Ak(se,Q,h),Oe=Df(hs(Q),d,h),ee=Oe.clone(),pe=Qn(r),O=({dragHandler:Dt,scrollBody:cn,scrollBounds:rr,options:{loop:Sr}})=>{Sr||rr.constrain(Dt.pointerDown()),cn.seek()},ve=({scrollBody:Dt,translate:cn,location:rr,offsetLocation:Sr,previousLocation:ht,scrollLooper:ms,slideLooper:ps,dragHandler:gs,animation:wi,eventHandler:un,scrollBounds:jr,options:{loop:dn}},kr)=>{const ys=Dt.settled(),vs=!jr.shouldConstrain(),bs=dn?ys:ys&&vs,hn=bs&&!gs.pointerDown();hn&&wi.stop();const Er=rr.get()*kr+ht.get()*(1-kr);Sr.set(Er),dn&&(ms.loop(Dt.direction()),ps.loop()),cn.to(Sr.get()),hn&&un.emit("settle"),bs||un.emit("scroll")},ke=_k(n,s,()=>O(Ze),Dt=>ve(Ze,Dt)),Ue=.68,$e=Q[Oe.get()],ct=En($e),Rt=En($e),ut=En($e),At=En($e),tr=Ck(ct,ut,Rt,At,f,Ue),on=Mk(h,Q,se,xe,At),ln=Fk(ke,Oe,ee,tr,on,At,a),_t=Ik(xe),Bt=ts(),fs=Vk(e,r,a,v),{slideRegistry:_r}=Lk(le,y,Q,je,G,pe),dt=$k(t,r,_r,ln,tr,Bt,a,T),Ze={ownerDocument:n,ownerWindow:s,eventHandler:a,containerRect:N,slideRects:D,animation:ke,axis:L,dragHandler:jk(L,t,n,s,At,kk(L,s),ct,ke,ln,tr,on,Oe,a,F,m,p,g,Ue,k),eventStore:Bt,percentOfView:F,index:Oe,indexPrevious:ee,limit:xe,location:ct,offsetLocation:ut,previousLocation:Rt,options:i,resizeHandler:Tk(e,a,s,r,L,b,S),scrollBody:tr,scrollBounds:Pk(xe,ut,At,tr,F),scrollLooper:Dk(se,xe,ut,[ct,ut,Rt,At]),scrollProgress:_t,scrollSnapList:Q.map(_t.get),scrollSnaps:Q,scrollTarget:on,scrollTo:ln,slideLooper:Bk(L,B,se,q,R,de,Q,ut,r),slideFocus:dt,slidesHandler:Uk(e,a,j),slidesInView:fs,slideIndexes:pe,slideRegistry:_r,slidesToScroll:G,target:At,translate:If(L,e)};return Ze}function qk(){let t={},e;function r(u){e=u}function n(u){return t[u]||[]}function s(u){return n(u).forEach(d=>d(e,u)),c}function i(u,d){return t[u]=n(u).concat([d]),c}function a(u,d){return t[u]=n(u).filter(h=>h!==d),c}function o(){t={}}const c={init:r,emit:s,off:a,on:i,clear:o};return c}const Gk={align:"center",axis:"x",container:null,slides:null,containScroll:"trimSnaps",direction:"ltr",slidesToScroll:1,inViewThreshold:0,breakpoints:{},dragFree:!1,dragThreshold:10,loop:!1,skipSnaps:!1,duration:25,startIndex:0,active:!0,watchDrag:!0,watchResize:!0,watchSlides:!0,watchFocus:!0};function Kk(t){function e(i,a){return Af(i,a||{})}function r(i){const a=i.breakpoints||{},o=es(a).filter(c=>t.matchMedia(c).matches).map(c=>a[c]).reduce((c,u)=>e(c,u),{});return e(i,o)}function n(i){return i.map(a=>es(a.breakpoints||{})).reduce((a,o)=>a.concat(o),[]).map(t.matchMedia)}return{mergeOptions:e,optionsAtMedia:r,optionsMediaQueries:n}}function Jk(t){let e=[];function r(i,a){return e=a.filter(({options:o})=>t.optionsAtMedia(o).active!==!1),e.forEach(o=>o.init(i,t)),a.reduce((o,c)=>Object.assign(o,{[c.name]:c}),{})}function n(){e=e.filter(i=>i.destroy())}return{init:r,destroy:n}}function li(t,e,r){const n=t.ownerDocument,s=n.defaultView,i=Kk(s),a=Jk(i),o=ts(),c=qk(),{mergeOptions:u,optionsAtMedia:d,optionsMediaQueries:h}=i,{on:f,off:m,emit:p}=c,v=L;let x=!1,g,y=u(Gk,li.globalOptions),b=u(y),j=[],k,T,_;function S(){const{container:pe,slides:O}=b;T=(Ga(pe)?t.querySelector(pe):pe)||t.children[0];const ke=Ga(O)?T.querySelectorAll(O):O;_=[].slice.call(ke||T.children)}function N(pe){const O=Hk(t,T,_,n,s,pe,c);if(pe.loop&&!O.slideLooper.canLoop()){const ve=Object.assign({},pe,{loop:!1});return N(ve)}return O}function D(pe,O){x||(y=u(y,pe),b=d(y),j=O||j,S(),g=N(b),h([y,...j.map(({options:ve})=>ve)]).forEach(ve=>o.add(ve,"change",L)),b.active&&(g.translate.to(g.location.get()),g.animation.init(),g.slidesInView.init(),g.slideFocus.init(ee),g.eventHandler.init(ee),g.resizeHandler.init(ee),g.slidesHandler.init(ee),g.options.loop&&g.slideLooper.loop(),T.offsetParent&&_.length&&g.dragHandler.init(ee),k=a.init(ee,j)))}function L(pe,O){const ve=G();B(),D(u({startIndex:ve},pe),O),c.emit("reInit")}function B(){g.dragHandler.destroy(),g.eventStore.clear(),g.translate.clear(),g.slideLooper.clear(),g.resizeHandler.destroy(),g.slidesHandler.destroy(),g.slidesInView.destroy(),g.animation.destroy(),a.destroy(),o.clear()}function F(){x||(x=!0,o.clear(),B(),c.emit("destroy"),c.clear())}function X(pe,O,ve){!b.active||x||(g.scrollBody.useBaseFriction().useDuration(O===!0?0:b.duration),g.scrollTo.index(pe,ve||0))}function le(pe){const O=g.index.add(1).get();X(O,pe,-1)}function re(pe){const O=g.index.add(-1).get();X(O,pe,1)}function q(){return g.index.add(1).get()!==G()}function R(){return g.index.add(-1).get()!==G()}function ue(){return g.scrollSnapList}function fe(){return g.scrollProgress.get(g.offsetLocation.get())}function G(){return g.index.get()}function de(){return g.indexPrevious.get()}function ie(){return g.slidesInView.get()}function se(){return g.slidesInView.get(!1)}function ge(){return k}function je(){return g}function Q(){return t}function xe(){return T}function Oe(){return _}const ee={canScrollNext:q,canScrollPrev:R,containerNode:xe,internalEngine:je,destroy:F,off:m,on:f,emit:p,plugins:ge,previousScrollSnap:de,reInit:v,rootNode:Q,scrollNext:le,scrollPrev:re,scrollProgress:fe,scrollSnapList:ue,scrollTo:X,selectedScrollSnap:G,slideNodes:Oe,slidesInView:ie,slidesNotInView:se};return D(e,r),setTimeout(()=>c.emit("init"),0),ee}li.globalOptions=void 0;function Go(t={},e=[]){const r=w.useRef(t),n=w.useRef(e),[s,i]=w.useState(),[a,o]=w.useState(),c=w.useCallback(()=>{s&&s.reInit(r.current,n.current)},[s]);return w.useEffect(()=>{zo(r.current,t)||(r.current=t,c())},[t,c]),w.useEffect(()=>{vk(n.current,e)||(n.current=e,c())},[e,c]),w.useEffect(()=>{if(yk()&&a){li.globalOptions=Go.globalOptions;const u=li(a,r.current,n.current);return i(u),()=>u.destroy()}else i(void 0)},[a,i]),[o,s]}Go.globalOptions=void 0;const Yk=wf("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}});function Of({className:t,variant:e,size:r,asChild:n=!1,...s}){const i=n?Uo:"button";return l.jsx(i,{"data-slot":"button",className:wr(Yk({variant:e,size:r,className:t})),...s})}const Lf=w.createContext(null);function xi(){const t=w.useContext(Lf);if(!t)throw new Error("useCarousel must be used within a <Carousel />");return t}function Mf({orientation:t="horizontal",opts:e,setApi:r,plugins:n,className:s,children:i,...a}){const[o,c]=Go({...e,axis:t==="horizontal"?"x":"y"},n),[u,d]=w.useState(!1),[h,f]=w.useState(!1),m=w.useCallback(g=>{g&&(d(g.canScrollPrev()),f(g.canScrollNext()))},[]),p=w.useCallback(()=>{c==null||c.scrollPrev()},[c]),v=w.useCallback(()=>{c==null||c.scrollNext()},[c]),x=w.useCallback(g=>{g.key==="ArrowLeft"?(g.preventDefault(),p()):g.key==="ArrowRight"&&(g.preventDefault(),v())},[p,v]);return w.useEffect(()=>{!c||!r||r(c)},[c,r]),w.useEffect(()=>{if(c)return m(c),c.on("reInit",m),c.on("select",m),()=>{c==null||c.off("select",m)}},[c,m]),l.jsx(Lf.Provider,{value:{carouselRef:o,api:c,opts:e,orientation:t||((e==null?void 0:e.axis)==="y"?"vertical":"horizontal"),scrollPrev:p,scrollNext:v,canScrollPrev:u,canScrollNext:h},children:l.jsx("div",{onKeyDownCapture:x,className:wr("relative",s),role:"region","aria-roledescription":"carousel","data-slot":"carousel",...a,children:i})})}function Ff({className:t,...e}){const{carouselRef:r,orientation:n}=xi();return l.jsx("div",{ref:r,className:"overflow-hidden","data-slot":"carousel-content",children:l.jsx("div",{className:wr("flex",n==="horizontal"?"-ml-4":"-mt-4 flex-col",t),...e})})}function $f({className:t,...e}){const{orientation:r}=xi();return l.jsx("div",{role:"group","aria-roledescription":"slide","data-slot":"carousel-item",className:wr("min-w-0 shrink-0 grow-0 basis-full",r==="horizontal"?"pl-4":"pt-4",t),...e})}function Bf({className:t,variant:e="outline",size:r="icon",...n}){const{orientation:s,scrollPrev:i,canScrollPrev:a}=xi();return l.jsxs(Of,{"data-slot":"carousel-previous",variant:e,size:r,className:wr("absolute size-8 rounded-full",s==="horizontal"?"top-1/2 -left-12 -translate-y-1/2":"-top-12 left-1/2 -translate-x-1/2 rotate-90",t),disabled:!a,onClick:i,...n,children:[l.jsx(ld,{}),l.jsx("span",{className:"sr-only",children:"Previous slide"})]})}function Uf({className:t,variant:e="outline",size:r="icon",...n}){const{orientation:s,scrollNext:i,canScrollNext:a}=xi();return l.jsxs(Of,{"data-slot":"carousel-next",variant:e,size:r,className:wr("absolute size-8 rounded-full",s==="horizontal"?"top-1/2 -right-12 -translate-y-1/2":"-bottom-12 left-1/2 -translate-x-1/2 rotate-90",t),disabled:!a,onClick:i,...n,children:[l.jsx(di,{}),l.jsx("span",{className:"sr-only",children:"Next slide"})]})}function Xk(t,e,r,n){return t.map((s,i)=>({...s,status:"pending",estimatedPassTime:new Date}))}function Vf(t,e){if(!t||!e)return 0;const r=new Date(t),n=new Date(e),s=new Date,i=n.getTime()-r.getTime(),a=s.getTime()-r.getTime();return a<=0?0:a>=i?100:Math.round(a/i*100)}function Zk(t){return t==="Air Freight"||t==="Air & Express"}function zf({experience:t}){if(!t)return null;const e=typeof t=="string"?parseInt(t,10):t;if(isNaN(e))return null;const r=Math.min(Math.ceil(e/2),5);return l.jsxs("div",{className:"flex items-center gap-1",children:[Array.from({length:5}).map((n,s)=>l.jsx(pd,{className:`w-4 h-4 ${s<r?"fill-yellow-400 text-yellow-400":"text-gray-300"}`},s)),l.jsxs("span",{className:"text-xs text-gray-600 ml-1",children:["(",e,"y experience)"]})]})}function Wf(t){const[e,r]=w.useState(null),[n,s]=w.useState(!0),[i,a]=w.useState(null);return w.useEffect(()=>{if(!t||!t.trim()){r(null),s(!1),a(null);return}(async()=>{try{const{data:u,error:d}=await rt.from("shipments").select("*").eq("id",t).single();if(d)throw d;const{data:h,error:f}=await rt.from("checkpoints").select("*").eq("shipment_id",t).order("checkpoint_order",{ascending:!0});if(f)throw f;r({...u,checkpoints:h||[]})}catch(u){a(u instanceof Error?u.message:"Failed to fetch shipment")}finally{s(!1)}})();const c=rt.channel(`shipment-${t}`).on("postgres_changes",{event:"UPDATE",schema:"public",table:"shipments",filter:`id=eq.${t}`},u=>{r(d=>d?{...d,...u.new}:null)}).subscribe();return()=>{c.unsubscribe()}},[t]),{shipment:e,loading:n,error:i}}const ra=(t,e)=>{const r=new Date(t).getTime(),s=Date.now()-r,i=e*3600*1e3;return s<=0?0:s>=i?100:Math.round(s/i*100)},ku=(t,e)=>{const r=new Date(t).getTime(),n=Date.now(),s=e*3600*1e3-(n-r);if(s<=0)return"Completed";const i=Math.floor(s/1e3),a=Math.floor(i/3600),o=Math.floor(i%3600/60),c=i%60;return a>0?`${a}h ${o}m remaining`:o>0?`${o}m ${c}s remaining`:`${c}s remaining`};function Qk(){var g;const[t]=jg(),[e,r]=w.useState(t.get("id")||""),[n,s]=w.useState(!1),[i,a]=w.useState(null),[o,c]=w.useState(0),[u,d]=w.useState(!0),[h,f]=w.useState(!1),{shipment:m}=Wf(e||"");w.useEffect(()=>{if(i){d(!0),f(!1);const y=setTimeout(()=>{d(!1),f(!0)},6e3);return()=>clearTimeout(y)}},[i==null?void 0:i.id]),w.useEffect(()=>{t.get("id")&&r(t.get("id")||"")},[t]),w.useEffect(()=>{if(!(i!=null&&i.countdownDuration)||i!=null&&i.stopped||i!=null&&i.paused)return;const y=setInterval(()=>{c(b=>b+1)},1e3);return()=>clearInterval(y)},[i==null?void 0:i.countdownDuration,i==null?void 0:i.stopped,i==null?void 0:i.paused]);const p=y=>{var _,S;const b=Zk(y.transportation_type),j=Xk(y.checkpoints||[]);let k=0;const T=y.countdown_duration?y.countdown_duration/3600:0;T>0&&y.countdown_start_time&&!y.paused&&!y.stopped?(k=ra(y.countdown_start_time,T),console.log(" Countdown Progress calculated:",{startTime:y.countdown_start_time,durationHours:T,progressPercent:k,remaining:ku(y.countdown_start_time,T)})):(y.paused||y.stopped)&&(k=ra(y.countdown_start_time,T)),a({...y,trackingId:y.id,status:y.stopped?"Stopped":y.paused?"Paused":"In Transit",stopReason:y.stop_reason||"",progress:k,transportMode:y.transportation_type,origin:y.pickup_location,destination:y.delivery_address,vehicle:y.vehicle_type,driver:y.driver_name,driverImage:y.driver_image_url,driverExperience:y.driver_experience,senderName:y.sender_name,senderPhone:y.sender_phone,receiverName:y.receiver_name,receiverPhone:y.receiver_phone,pickupLocation:y.pickup_location,packageName:y.package_name,cost:y.cost,images:y.images||[],departureTime:y.created_at?new Date(y.created_at).toLocaleString():"N/A",currentLocation:((_=j.find(N=>N.status==="current"))==null?void 0:_.location)||((S=j[0])==null?void 0:S.location)||"",checkpoints:(()=>{const N=(j||[]).map((D,L,B)=>{const F=Math.round((L+1)/(B.length+1)*100);let X=D.status;return T>0&&(k>=F?X="completed":k>=F-Math.max(5,Math.round(100/(B.length+1)/2))?X="current":X="pending"),{...D,positionPercent:F,status:X}});if(y.stopped){const D=N.findIndex(L=>L.status==="pending");D!==-1&&(N[D].status="stopped")}return N})(),isFlightShipment:b,countdownDuration:T,countdownStartTime:y.countdown_start_time,paused:y.paused,stopped:y.stopped}),console.log(" Shipment data updated, progress:",k)};w.useEffect(()=>{m&&p(m)},[m,o]);const v=async()=>{e.trim()&&(s(!0),a(null),setTimeout(()=>s(!1),500))},x=y=>{switch(y){case"Air Freight":return dd;case"Ocean Cargo":return md;default:return Bn}};return l.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-50 to-white py-12 relative overflow-hidden",children:[l.jsx("img",{src:"https://kvgloballogistics.com/wp-content/uploads/2024/05/tracking-kvgll.jpg",alt:"tracking background","aria-hidden":"true",className:"absolute inset-0 w-full h-full object-cover opacity-20 pointer-events-none"}),l.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[l.jsxs(M.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[l.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-[#0F1F3D] mb-4",children:"Track Your Shipment"}),l.jsx("p",{className:"text-xl text-gray-600",children:"Real-time tracking across the globe"})]}),l.jsx(M.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"max-w-2xl mx-auto mb-12",children:l.jsx("form",{onSubmit:y=>{y.preventDefault(),v()},className:"relative",children:l.jsx("div",{className:"bg-white rounded-2xl p-2 shadow-lg border border-gray-200",children:l.jsxs("div",{className:"flex gap-2",children:[l.jsx("input",{type:"text",value:e,onChange:y=>r(y.target.value),placeholder:"Enter Tracking ID (e.g. GG-2026-001)",className:"flex-1 px-6 py-4 bg-gray-50 rounded-xl focus:outline-none focus:ring-2 focus:ring-[#2563EB] text-gray-900 placeholder-gray-500"}),l.jsx("button",{type:"submit",disabled:n,className:"px-8 py-4 bg-gradient-to-r from-[#2563EB] to-[#38BDF8] text-white font-semibold rounded-xl hover:shadow-lg hover:shadow-blue-500/50 transition-all duration-300 disabled:opacity-50 flex items-center gap-2",children:n?l.jsx(l.Fragment,{children:"Tracking..."}):l.jsxs(l.Fragment,{children:[l.jsx(hd,{className:"w-5 h-5"}),"Track"]})})]})})})}),i&&i.notFound&&l.jsx("div",{className:"text-center text-red-600",children:"No shipment found with that tracking ID."}),i&&!i.notFound&&l.jsxs(M.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6",children:[l.jsxs("div",{className:`rounded-2xl p-8 shadow-lg border-2 transition-all ${i.status==="Stopped"?"bg-red-50 border-red-500":"bg-white border-gray-200"}`,children:[l.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between gap-6 mb-6",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[l.jsx("h2",{className:`text-2xl font-bold ${i.status==="Stopped"?"text-red-700":"text-[#0F1F3D]"}`,children:i.trackingId}),l.jsx(xu,{className:`text-white border-0 ${i.status==="Stopped"?"bg-red-600":"bg-gradient-to-r from-[#2563EB] to-[#38BDF8]"}`,children:i.status})]}),l.jsxs("p",{className:i.status==="Stopped"?"text-red-600":"text-gray-600",children:[i.origin,"  ",i.destination]})]}),l.jsx("div",{className:"flex items-center gap-2",children:(()=>{const y=x(i.transportMode);return l.jsxs("div",{className:`flex items-center gap-3 px-6 py-3 rounded-xl border ${i.status==="Stopped"?"bg-red-100 border-red-300":"bg-gradient-to-r from-[#2563EB]/10 to-[#38BDF8]/10 border-[#2563EB]/20"}`,children:[l.jsx(y,{className:`w-6 h-6 ${i.status==="Stopped"?"text-red-600":"text-[#2563EB]"}`}),l.jsx("span",{className:`font-medium ${i.status==="Stopped"?"text-red-700":"text-[#0F1F3D]"}`,children:i.transportMode})]})})()})]}),i.status==="Stopped"&&l.jsxs("div",{className:"mb-6 p-4 bg-red-100 border border-red-300 rounded-lg",children:[l.jsx("p",{className:"text-red-700 font-semibold mb-3",children:" This shipment has been stopped!"}),l.jsx("a",{href:"https://wa.me/13364596552?text=Hello%20I%20need%20assistance%20with%20my%20shipment",target:"_blank",rel:"noopener noreferrer",className:"inline-block px-6 py-3 bg-green-500 text-white font-semibold rounded-lg hover:bg-green-600 transition-all duration-300",children:" Contact Customer Service (WhatsApp)"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Cj,{progress:i.progress,transportMode:i.transportMode,checkpoints:i.checkpoints,status:i.status,vehiclesCount:i.vehiclesCount||1}),i.countdownDuration&&i.countdownStartTime&&l.jsx("div",{className:"mt-3 p-3 bg-gradient-to-r from-orange-50 to-amber-50 border border-orange-200 rounded-lg",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-sm font-medium text-orange-700",children:" Countdown Timer"}),l.jsx("span",{className:"text-sm font-bold text-orange-600",children:ku(i.countdownStartTime,i.countdownDuration)})]})})]})]}),i.images&&i.images.length>0&&l.jsx(M.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-2xl p-8 shadow-lg border border-gray-200",children:l.jsxs("div",{className:"space-y-4",children:[l.jsx("h3",{className:"text-2xl font-bold text-[#0F1F3D] flex items-center gap-3",children:" Product Images"}),l.jsx("div",{className:"relative px-2",children:l.jsxs(Mf,{className:"w-full",children:[l.jsx(Ff,{children:i.images.map((y,b)=>l.jsx($f,{className:"basis-full sm:basis-1/2 lg:basis-1/3",children:l.jsxs(M.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:b*.05},className:"group relative rounded-lg overflow-hidden shadow-md hover:shadow-xl transition-all duration-300 cursor-pointer h-48 sm:h-56",children:[l.jsx("img",{src:y,alt:`Product ${b+1}`,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-300"}),l.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/20 transition-all duration-300 flex items-center justify-center",children:l.jsxs("span",{className:"text-white text-sm font-medium bg-black/50 px-3 py-2 rounded opacity-0 group-hover:opacity-100 transition-opacity",children:[b+1," / ",i.images.length]})})]})},b))}),i.images.length>1&&l.jsxs(l.Fragment,{children:[l.jsx(Bf,{className:"bg-white text-[#2563EB] hover:bg-gray-100"}),l.jsx(Uf,{className:"bg-white text-[#2563EB] hover:bg-gray-100"})]})]})})]})}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[l.jsx("div",{className:"lg:col-span-2",children:l.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-lg border border-gray-200 h-full",children:[l.jsxs("h3",{className:"text-xl font-semibold text-[#0F1F3D] mb-6 flex items-center gap-2",children:[l.jsx(Xr,{className:"w-5 h-5 text-[#2563EB]"}),"Live Route Map"]}),l.jsxs("div",{className:"aspect-video bg-gradient-to-br from-gray-100 to-gray-200 rounded-xl flex items-center justify-center relative overflow-hidden",children:[l.jsx("img",{src:"https://lh3.googleusercontent.com/L_8R6GVq0cG0LYJCA-9QgRXmftttFrigL6iBV35Ca37UEBioMCoRguAaB-UPFFXNl_RllSrnuSqgsAgEZ1QCvubkoKgP8Lfqjc4QpOs=w450",alt:"Default map",className:"absolute inset-0 w-full h-full object-cover blur-sm"}),l.jsx("div",{className:"absolute inset-0 flex items-center justify-center z-10",children:l.jsxs("div",{className:"text-center",children:[l.jsx(Xr,{className:"w-12 h-12 text-[#2563EB] mx-auto mb-2"}),l.jsxs("p",{className:"text-sm font-semibold text-[#0F1F3D] bg-white/80 px-3 py-2 rounded-lg backdrop-blur-sm",children:["Current: ",(i==null?void 0:i.currentLocation)||"Loading..."]})]})}),(i==null?void 0:i.routeScreenshot)&&l.jsx("img",{src:i.routeScreenshot,alt:"Route map",className:"absolute inset-0 w-full h-full object-cover z-20",onLoad:()=>{d(!1),f(!1)}}),u&&!(i!=null&&i.routeScreenshot)&&l.jsx("div",{className:"absolute inset-0 flex items-center justify-center z-30 bg-black/20 backdrop-blur-sm",children:l.jsxs("div",{className:"flex flex-col items-center gap-3",children:[l.jsx("div",{className:"w-12 h-12 border-4 border-[#2563EB]/30 border-t-[#2563EB] rounded-full animate-spin"}),l.jsx("p",{className:"text-white font-medium text-sm",children:"Loading map..."})]})}),h&&!(i!=null&&i.routeScreenshot)&&l.jsx("div",{className:"absolute inset-0 flex items-center justify-center z-30 bg-black/40 backdrop-blur-sm",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"w-14 h-14 rounded-full bg-red-500/20 flex items-center justify-center mx-auto mb-3",children:l.jsx("span",{className:"text-2xl",children:""})}),l.jsx("p",{className:"text-white font-semibold mb-2",children:"Error loading live route"}),l.jsx("p",{className:"text-white/80 text-sm",children:"Please try again"})]})})]})]})}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-200",children:[l.jsxs("h3",{className:"text-lg font-semibold text-[#0F1F3D] mb-6 flex items-center gap-2",children:[l.jsx(xt,{className:"w-5 h-5 text-[#2563EB]"}),"Shipment Details"]}),l.jsxs("div",{className:"space-y-5",children:[l.jsxs("div",{className:"pb-4 border-b border-gray-200",children:[l.jsx("h4",{className:"text-sm font-semibold text-[#0F1F3D] mb-3",children:" Package Information"}),l.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Package Name"}),l.jsx("div",{className:"font-medium text-[#0F1F3D]",children:i.packageName||"N/A"})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Cost"}),l.jsxs("div",{className:"font-medium text-[#10B981]",children:["$",((g=i.cost)==null?void 0:g.toFixed(2))||"0.00"]})]})]})]}),l.jsxs("div",{className:"pb-4 border-b border-gray-200",children:[l.jsx("h4",{className:"text-sm font-semibold text-[#0F1F3D] mb-3",children:" Sender"}),l.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Name"}),l.jsx("div",{className:"font-medium text-[#0F1F3D]",children:i.senderName||"N/A"})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Phone"}),l.jsx("div",{className:"font-medium text-[#0F1F3D]",children:i.senderPhone||"N/A"})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-xs text-gray-500 mb-1",children:" Pickup Location"}),l.jsx("div",{className:"font-medium text-[#0F1F3D]",children:i.pickupLocation||"N/A"})]})]})]}),l.jsxs("div",{className:"pb-4 border-b border-gray-200",children:[l.jsx("h4",{className:"text-sm font-semibold text-[#0F1F3D] mb-3",children:" Receiver"}),l.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Name"}),l.jsx("div",{className:"font-medium text-[#0F1F3D]",children:i.receiverName||"N/A"})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Phone"}),l.jsx("div",{className:"font-medium text-[#0F1F3D]",children:i.receiverPhone||"N/A"})]})]})]}),l.jsxs("div",{className:"pb-4 border-b border-gray-200",children:[l.jsx("h4",{className:"text-sm font-semibold text-[#0F1F3D] mb-3",children:" Timeline"}),l.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Departure Time"}),l.jsx("div",{className:"font-medium text-[#0F1F3D] text-sm",children:i.departureTime})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Estimated Arrival"}),l.jsx("div",{className:"font-medium text-[#10B981]",children:i.estimatedArrival||"Based on countdown"})]})]})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-sm font-semibold text-[#0F1F3D] mb-3",children:" Logistics"}),l.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Vehicle Type"}),l.jsx("div",{className:"font-medium text-[#0F1F3D]",children:i.vehicle||"N/A"})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Driver/Pilot"}),l.jsx("div",{className:"font-medium text-[#0F1F3D]",children:i.driver||"N/A"})]})]})]})]})]}),l.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-2xl p-4",children:l.jsxs("div",{className:"flex gap-3",children:[l.jsx("span",{className:"text-xl flex-shrink-0",children:""}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-sm font-semibold text-blue-900 mb-1",children:"Email Notifications"}),l.jsx("p",{className:"text-xs text-blue-800",children:"As soon as the package gets close to its destination or runs into any issue, an email will be sent to both the sender and receiver for clearance, pickup, and delivery updates."})]})]})}),i.driverImage&&l.jsxs("div",{className:"bg-white rounded-2xl p-4 sm:p-6 shadow-lg border border-gray-200",children:[l.jsx("h3",{className:"text-sm sm:text-lg font-semibold text-[#0F1F3D] mb-4",children:" Your Driver"}),l.jsx("div",{className:"space-y-3",children:l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("img",{src:i.driverImage,alt:i.driver,className:"w-16 h-16 sm:w-20 sm:h-20 rounded-full object-cover shadow-md flex-shrink-0"}),l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"font-semibold text-sm sm:text-base text-[#0F1F3D]",children:i.driver}),i.driverExperience&&l.jsx("div",{className:"mt-2",children:l.jsx(zf,{experience:i.driverExperience})})]})]})})]})]})]}),l.jsxs("div",{className:"bg-white rounded-2xl p-4 sm:p-8 shadow-lg border border-gray-200",children:[l.jsxs("h3",{className:"text-lg sm:text-xl font-semibold text-[#0F1F3D] mb-6 sm:mb-8 flex items-center gap-2",children:[l.jsx(la,{className:"w-5 h-5 text-[#2563EB]"}),"Tracking Timeline (",i.checkpoints.length," Milestones)"]}),l.jsx("div",{className:"max-h-96 overflow-y-auto pb-4",children:l.jsx("div",{className:"flex flex-col gap-4",children:i.checkpoints.map((y,b)=>{const j=y.status==="completed",k=y.status==="current",T=y.status==="pending",_=y.status==="stopped";return l.jsxs(M.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:b*.08},className:`rounded-xl p-5 transition-all border-2 ${j?"bg-gradient-to-br from-green-50 to-green-100 border-green-400 shadow-md hover:shadow-lg":k?"bg-gradient-to-br from-blue-50 to-blue-100 border-blue-400 shadow-lg hover:shadow-xl scale-105":_?"bg-gradient-to-br from-red-50 to-red-100 border-red-400 shadow-md hover:shadow-lg":"bg-gradient-to-br from-gray-50 to-gray-100 border-gray-300 shadow-sm hover:shadow-md"}`,children:[l.jsxs("div",{className:"flex items-start justify-between gap-3 mb-3",children:[l.jsx("div",{className:`flex-shrink-0 w-12 h-12 rounded-full flex items-center justify-center font-bold text-sm ${j?"bg-green-500 text-white":k?"bg-blue-500 text-white":_?"bg-red-500 text-white":"bg-gray-400 text-white"}`,children:j?l.jsx(Tn,{className:"w-7 h-7"}):k?l.jsx(xt,{className:"w-7 h-7 animate-pulse"}):b+1}),l.jsx("div",{className:"flex-1",children:l.jsx("h4",{className:`font-bold text-lg break-words ${j?"text-green-700":k?"text-blue-700":_?"text-red-700":"text-gray-700"}`,children:y.location})}),l.jsx(xu,{className:`flex-shrink-0 text-xs font-semibold whitespace-nowrap ${j?"bg-green-500 text-white":k?"bg-blue-600 text-white":_?"bg-red-600 text-white":"bg-gray-500 text-white"}`,children:j?" Passed":k?" Current":_?" Stopped":" Soon"})]}),l.jsx("div",{className:`text-sm font-medium ${j?"text-green-600":k?"text-blue-600":_?"text-red-600":"text-gray-600"}`,children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(la,{className:"w-4 h-4"}),j&&y.passedAgo&&l.jsxs("span",{children:["Passed ",y.passedAgo]}),k&&l.jsx("span",{children:"Currently at this location"}),_&&l.jsx("span",{children:"Stopped  contact support"}),T&&y.timeUntilPass&&l.jsxs("span",{children:["Expected ",y.timeUntilPass]}),T&&!y.timeUntilPass&&l.jsx("span",{children:"Awaiting arrival"})]})}),l.jsxs("div",{className:"mt-3 pt-3 border-t border-current border-opacity-20 text-xs opacity-60",children:["Milestone ",b+1," of ",i.checkpoints.length]}),_&&l.jsx("div",{className:"mt-3",children:l.jsx("a",{href:"https://wa.me/13364596552?text=Hello%20I%20need%20assistance%20with%20my%20shipment",target:"_blank",rel:"noopener noreferrer",className:"inline-block px-3 py-2 bg-red-600 text-white rounded-md text-sm",children:"Contact Support (WhatsApp)"})})]},b)})})})]})]}),!i&&!n&&l.jsxs(M.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-20",children:[l.jsx("img",{src:"/assets/images/logo1.jpeg",alt:"Global-Go logo",className:"w-24 h-24 rounded-2xl object-cover mx-auto mb-6 shadow-xl"}),l.jsx("h3",{className:"text-2xl font-semibold text-[#0F1F3D] mb-3",children:"Enter a tracking ID to get started"}),l.jsx("p",{className:"text-gray-600 max-w-md mx-auto",children:"Track your shipment in real-time and get detailed information about its journey"})]})]})]})}function e1({icon:t,title:e,description:r,index:n=0}){return l.jsxs(M.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:n*.1},viewport:{once:!0},whileHover:{y:-8,scale:1.02},className:"group relative bg-white rounded-2xl p-8 shadow-lg hover:shadow-2xl transition-all duration-300 border border-gray-100 overflow-hidden",children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-[#2563EB]/5 to-[#38BDF8]/5 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),l.jsxs("div",{className:"relative z-10",children:[l.jsx("div",{className:"w-16 h-16 rounded-2xl bg-gradient-to-br from-[#2563EB] to-[#38BDF8] flex items-center justify-center mb-6 shadow-lg group-hover:shadow-xl group-hover:shadow-blue-500/30 transition-all duration-300",children:l.jsx(t,{className:"w-8 h-8 text-white"})}),l.jsx("h3",{className:"text-xl font-semibold text-[#0F1F3D] mb-3 group-hover:text-[#2563EB] transition-colors duration-300",children:e}),l.jsx("p",{className:"text-gray-600 leading-relaxed",children:r})]}),l.jsx("div",{className:"absolute inset-0 rounded-2xl ring-2 ring-transparent group-hover:ring-[#38BDF8]/30 transition-all duration-300"})]})}function t1(){const t=[{icon:Cn,value:"105+",label:"Countries"},{icon:$y,value:"500+",label:"Warehouses"},{icon:Bn,value:"6.5k+",label:"Fleet Vehicles"},{icon:xt,value:"100M+",label:"Packages"},{icon:My,value:"15k+",label:"Employees"}],e=[{icon:Ty,title:"Door-to-Door",description:"Complete end-to-end delivery service from pickup to final destination with white-glove handling."},{icon:Cn,title:"Global Cargo",description:"Worldwide freight forwarding services with customs clearance and documentation support."},{icon:xt,title:"Any Size Package",description:"From small parcels to oversized cargo, we handle shipments of all dimensions and weights."},{icon:zg,title:"Affordable Pricing",description:"Competitive rates with transparent pricing and no hidden fees for all your logistics needs."}],r=[{name:"USA Headquarters",address:"4521 Innovation Drive",city:"Charlotte, NC 28202",phone:"+1(336)4596552",region:"Americas"},{name:"France Regional Office",address:"45 Rue de la Logistique",city:"Paris, 75008",phone:"+33 1 23 45 67 89",region:"Europe"},{name:"Australia Hub",address:"78 Cargo Street",city:"Sydney, NSW 2000",phone:"+61 2 9876 5432",region:"Asia-Pacific"}];return l.jsxs("div",{className:"w-full",children:[l.jsxs("section",{className:"relative py-24 bg-gradient-to-br from-[#0F1F3D] via-[#1A365D] to-[#2563EB] overflow-hidden",children:[l.jsx("img",{src:"https://thumbs.dreamstime.com/b/modern-logistics-transportation-concept-technology-integration-generative-ai-modern-logistics-transportation-concept-321114991.jpg",alt:"logistics background","aria-hidden":"true",className:"absolute inset-0 w-full h-full object-cover opacity-16 pointer-events-none"}),l.jsx("div",{className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:l.jsxs(M.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[l.jsx("h1",{className:"text-5xl md:text-6xl font-bold text-white mb-6",children:"Redefining Global Logistics Since 1998"}),l.jsx("p",{className:"text-xl md:text-2xl text-gray-200 max-w-3xl mx-auto",children:"Connecting the world, one package at a time"})]})})]}),l.jsx("section",{className:"py-24 bg-white",children:l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-16 items-start",children:[l.jsxs(M.div,{initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},viewport:{once:!0},children:[l.jsx("h2",{className:"text-4xl font-bold text-[#0F1F3D] mb-6",children:"Our Story"}),l.jsxs("div",{className:"space-y-4 text-gray-700 leading-relaxed",children:[l.jsx("p",{children:"Founded in 1998, Global-Go emerged from a simple vision: to make international logistics accessible, reliable, and transparent for businesses of all sizes. What started as a small freight forwarding operation in New York has grown into a global network spanning over 105 countries."}),l.jsx("p",{children:"Over the past 28 years, we've continuously innovated our services, investing in cutting-edge technology and expanding our infrastructure to meet the evolving needs of global commerce. Today, we operate 500+ warehouses, manage a fleet of 6,500+ vehicles, and employ 15,000+ logistics professionals worldwide."}),l.jsx("p",{children:"Our commitment to excellence has enabled us to successfully deliver over 100 million packages, earning the trust of thousands of businesses globally. We don't just move packageswe build bridges between markets, cultures, and opportunities."}),l.jsx("p",{children:"At Global-Go, we believe that every shipment tells a story, and we're honored to be part of yours. Our mission is to provide seamless, secure, and sustainable logistics solutions that empower businesses to reach new horizons."})]})]}),l.jsx(M.div,{initial:{opacity:0,x:20},whileInView:{opacity:1,x:0},viewport:{once:!0},className:"relative",children:l.jsxs("div",{className:"bg-gradient-to-br from-[#2563EB]/5 to-[#38BDF8]/5 rounded-2xl p-8 border-l-4 border-[#2563EB] shadow-xl",children:[l.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[l.jsx(vf,{src:"https://static.vecteezy.com/system/resources/thumbnails/027/933/307/small_2x/happy-middle-aged-business-man-ceo-standing-in-office-arms-crossed-ai-generated-photo.jpg",alt:"John Davidson",className:"w-16 h-16 rounded-full object-cover shadow-lg"}),l.jsxs("div",{children:[l.jsx("div",{className:"font-semibold text-lg text-[#0F1F3D]",children:"John Davidson"}),l.jsx("div",{className:"text-sm text-gray-600",children:"CEO & Founder"})]})]}),l.jsxs("blockquote",{className:"relative",children:[l.jsx("div",{className:"text-6xl text-[#2563EB]/20 font-serif leading-none mb-2",children:'"'}),l.jsx("p",{className:"text-gray-700 italic leading-relaxed mb-4",children:"Our success is measured not just in packages delivered, but in relationships built and promises kept. Every day, our team works tirelessly to ensure your shipments arrive safely, on time, and with the care they deserve. Thank you for trusting Global-Go with your most important deliveries."}),l.jsx("div",{className:"text-right",children:l.jsxs("div",{className:"inline-block",children:[l.jsx("div",{className:"font-semibold text-[#0F1F3D]",children:"John Davidson"}),l.jsx("div",{className:"text-sm text-gray-600",children:"CEO & Founder"})]})})]})]})})]})})}),l.jsxs("section",{className:"py-24 bg-gradient-to-br from-[#0F1F3D] via-[#1A365D] to-[#0F1F3D] relative overflow-hidden",children:[l.jsx("div",{className:"absolute inset-0 opacity-10",children:l.jsx("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA2MCA2MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxwYXRoIGQ9Ik0zNiAxOGMzLjMxNCAwIDYgMi42ODYgNiA2cy0yLjY4NiA2LTYgNi02LTIuNjg2LTYtNiAyLjY4Ni02IDYtNnptLTEyIDEyYzMuMzE0IDAgNiAyLjY4NiA2IDZzLTIuNjg2IDYtNiA2LTYtMi42ODYtNi02IDIuNjg2LTYgNi02eiIgc3Ryb2tlPSIjZmZmIiBzdHJva2Utd2lkdGg9IjIiLz48L2c+PC9zdmc+')] "})}),l.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[l.jsxs(M.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-center mb-16",children:[l.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-white mb-4",children:"Global Impact in Numbers"}),l.jsx("p",{className:"text-xl text-gray-300",children:"Delivering excellence across continents"})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-5 gap-6",children:t.map((n,s)=>l.jsx(yf,{...n,index:s},s))})]})]}),l.jsx("section",{className:"py-24 bg-gradient-to-b from-white to-gray-50",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[l.jsxs(M.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-center mb-16",children:[l.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-[#0F1F3D] mb-4",children:"Our Services"}),l.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Comprehensive logistics solutions tailored to your needs"})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:e.map((n,s)=>l.jsx(e1,{...n,index:s},s))})]})}),l.jsx("section",{className:"py-24 bg-white",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[l.jsxs(M.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-center mb-16",children:[l.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-[#0F1F3D] mb-4",children:"Global Offices"}),l.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Strategically located to serve you better"})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:r.map((n,s)=>l.jsxs(M.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{delay:s*.1},viewport:{once:!0},className:"group relative bg-gradient-to-br from-white to-gray-50 rounded-2xl p-8 shadow-lg hover:shadow-2xl transition-all duration-300 border border-gray-200 overflow-hidden",children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-[#2563EB]/5 to-[#38BDF8]/5 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),l.jsx("div",{className:"absolute top-6 right-6",children:l.jsx("span",{className:"px-3 py-1 bg-gradient-to-r from-[#2563EB] to-[#38BDF8] text-white text-xs font-semibold rounded-full shadow-lg",children:n.region})}),l.jsxs("div",{className:"relative z-10",children:[l.jsx("div",{className:"w-16 h-16 rounded-2xl bg-gradient-to-br from-[#2563EB] to-[#38BDF8] flex items-center justify-center mb-6 shadow-lg group-hover:scale-110 transition-transform duration-300",children:l.jsx(Xr,{className:"w-8 h-8 text-white"})}),l.jsx("h3",{className:"text-xl font-semibold text-[#0F1F3D] mb-4",children:n.name}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx(Xr,{className:"w-5 h-5 text-[#2563EB] mt-0.5 flex-shrink-0"}),l.jsxs("div",{className:"text-gray-600",children:[l.jsx("div",{children:n.address}),l.jsx("div",{children:n.city})]})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(ud,{className:"w-5 h-5 text-[#2563EB] flex-shrink-0"}),l.jsx("a",{href:`tel:${n.phone}`,className:"text-gray-600 hover:text-[#2563EB] transition-colors",children:n.phone})]})]})]})]},s))})]})}),l.jsx("section",{className:"py-24 bg-gradient-to-b from-gray-50 to-white",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[l.jsx(M.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-center mb-16",children:l.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-[#0F1F3D] mb-4",children:"Our Mission & Values"})}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[{icon:fd,title:"Trust & Security",description:"We treat every shipment with the utmost care and security, building lasting relationships through reliability."},{icon:zy,title:"Speed & Efficiency",description:"Time is valuable. Our optimized logistics network ensures fast, efficient delivery across the globe."},{icon:Cn,title:"Global Reach",description:"No destination is too far. Our worldwide network connects businesses to opportunities everywhere."}].map((n,s)=>l.jsxs(M.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{delay:s*.1},viewport:{once:!0},className:"text-center",children:[l.jsx("div",{className:"w-20 h-20 rounded-2xl bg-gradient-to-br from-[#2563EB] to-[#38BDF8] flex items-center justify-center mx-auto mb-6 shadow-xl",children:l.jsx(n.icon,{className:"w-10 h-10 text-white"})}),l.jsx("h3",{className:"text-2xl font-semibold text-[#0F1F3D] mb-3",children:n.title}),l.jsx("p",{className:"text-gray-600 leading-relaxed",children:n.description})]},s))})]})})]})}function r1(){const[t,e]=w.useState(""),[r,n]=w.useState(""),[s,i]=w.useState(!1),[a,o]=w.useState(!1),[c,u]=w.useState(!1),d=Pt(),h=f=>{f.preventDefault(),o(!0),setTimeout(()=>{o(!1),u(!0)},1500)};return c?l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-gray-50 to-white py-12 px-4 sm:px-6 lg:px-8",children:l.jsxs(M.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full max-w-md",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsx(Re,{to:"/",className:"inline-flex items-center gap-3 mb-6",children:l.jsx("div",{className:"w-16 h-16 rounded-full bg-gradient-to-br from-[#2563EB] to-[#38BDF8] flex items-center justify-center shadow-xl",children:l.jsx(xt,{className:"w-8 h-8 text-white"})})}),l.jsx("h1",{className:"text-3xl font-bold text-[#0F1F3D] mb-2",children:"Welcome Back"}),l.jsx("p",{className:"text-gray-600",children:"Sign in to access your Global-Go account"})]}),l.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-200 p-8 text-center",children:[l.jsx("p",{className:"text-2xl font-semibold text-gray-800 mb-4",children:"Account not found."}),l.jsxs("div",{className:"flex justify-center gap-4",children:[l.jsx("button",{onClick:()=>d("/"),className:"px-4 py-2 bg-gray-300 rounded-md",children:"Back to Home"}),l.jsx("button",{onClick:()=>d("/signup"),className:"px-4 py-2 bg-green-500 text-white rounded-md",children:"Or Sign Up"})]})]}),l.jsx("div",{className:"text-center mt-6",children:l.jsx(Re,{to:"/",className:"text-sm text-gray-600 hover:text-[#2563EB] transition-colors",children:" Back to Home"})})]})}):l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-gray-50 to-white py-12 px-4 sm:px-6 lg:px-8",children:l.jsxs(M.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full max-w-md",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsx(Re,{to:"/",className:"inline-flex items-center gap-3 mb-6",children:l.jsx("div",{className:"w-16 h-16 rounded-full bg-gradient-to-br from-[#2563EB] to-[#38BDF8] flex items-center justify-center shadow-xl",children:l.jsx(xt,{className:"w-8 h-8 text-white"})})}),l.jsx("h1",{className:"text-3xl font-bold text-[#0F1F3D] mb-2",children:"Welcome Back"}),l.jsx("p",{className:"text-gray-600",children:"Sign in to access your Global-Go account"})]}),l.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-200 p-8",children:[l.jsxs("form",{onSubmit:h,className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:l.jsx(oo,{className:"h-5 w-5 text-gray-400"})}),l.jsx("input",{id:"email",type:"email",value:t,onChange:f=>e(f.target.value),required:!0,className:"block w-full pl-12 pr-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-[#2563EB] focus:border-transparent transition-all",placeholder:"you@example.com"})]})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:l.jsx(ua,{className:"h-5 w-5 text-gray-400"})}),l.jsx("input",{id:"password",type:s?"text":"password",value:r,onChange:f=>n(f.target.value),required:!0,className:"block w-full pl-12 pr-12 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-[#2563EB] focus:border-transparent transition-all",placeholder:"Enter your password"}),l.jsx("button",{type:"button",onClick:()=>i(!s),className:"absolute inset-y-0 right-0 pr-4 flex items-center",children:s?l.jsx(ca,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"}):l.jsx(Ys,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"})})]})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx("input",{id:"remember-me",type:"checkbox",className:"h-4 w-4 rounded border-gray-300 text-[#2563EB] focus:ring-[#2563EB]"}),l.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-700",children:"Remember me"})]}),l.jsx("button",{type:"button",className:"text-sm font-medium text-[#2563EB] hover:text-[#1D4ED8] transition-colors",children:"Forgot password?"})]}),l.jsx("button",{type:"submit",disabled:a,className:"w-full py-3 px-4 bg-gradient-to-r from-[#2563EB] to-[#38BDF8] text-white font-semibold rounded-xl hover:shadow-lg hover:shadow-blue-500/50 transition-all duration-300 disabled:opacity-50 flex items-center justify-center gap-2",children:a?l.jsx(l.Fragment,{children:"Signing in..."}):l.jsxs(l.Fragment,{children:["Sign In",l.jsx(di,{className:"w-5 h-5"})]})})]}),l.jsxs("div",{className:"relative my-8",children:[l.jsx("div",{className:"absolute inset-0 flex items-center",children:l.jsx("div",{className:"w-full border-t border-gray-200"})}),l.jsx("div",{className:"relative flex justify-center text-sm",children:l.jsx("span",{className:"px-4 bg-white text-gray-500",children:"Don't have an account?"})})]}),l.jsx(Re,{to:"/signup",className:"block w-full py-3 px-4 bg-white text-[#0F1F3D] font-semibold rounded-xl border-2 border-gray-200 hover:border-[#2563EB] hover:bg-gray-50 transition-all duration-300 text-center",children:"Create Account"})]}),l.jsx("div",{className:"text-center mt-6",children:l.jsx(Re,{to:"/",className:"text-sm text-gray-600 hover:text-[#2563EB] transition-colors",children:" Back to Home"})})]})})}function n1(){const[t,e]=w.useState({fullName:"",email:"",password:"",confirmPassword:""}),[r,n]=w.useState(!1),[s,i]=w.useState(!1),[a,o]=w.useState(!1),[c,u]=w.useState(!1),d=Pt(),h=v=>{e({...t,[v.target.name]:v.target.value})},f=v=>{if(v.preventDefault(),t.password!==t.confirmPassword){alert("Passwords do not match!");return}o(!0),setTimeout(()=>{o(!1),u(!0)},1500)},p=(v=>v.length===0?0:v.length<6?25:v.length<10?50:v.length<12?75:100)(t.password);return c?l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-gray-50 to-white py-12 px-4 sm:px-6 lg:px-8",children:l.jsxs(M.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full max-w-md",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsx(Re,{to:"/",className:"inline-flex items-center gap-3 mb-6",children:l.jsx("div",{className:"w-16 h-16 rounded-full bg-gradient-to-br from-[#2563EB] to-[#38BDF8] flex items-center justify-center shadow-xl",children:l.jsx(xt,{className:"w-8 h-8 text-white"})})}),l.jsx("h1",{className:"text-3xl font-bold text-[#0F1F3D] mb-2",children:"Create Your Account"}),l.jsx("p",{className:"text-gray-600",children:"Join Global-Go and start shipping worldwide"})]}),l.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-200 p-8 text-center",children:[l.jsx("p",{className:"text-2xl font-semibold text-gray-800 mb-4",children:"Error creating account. Please start again."}),l.jsx("button",{onClick:()=>d("/"),className:"px-4 py-2 bg-gray-300 rounded-md",children:"Back to Home"})]}),l.jsx("div",{className:"text-center mt-6",children:l.jsx(Re,{to:"/",className:"text-sm text-gray-600 hover:text-[#2563EB] transition-colors",children:" Back to Home"})})]})}):l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-gray-50 to-white py-12 px-4 sm:px-6 lg:px-8",children:l.jsxs(M.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full max-w-md",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsx(Re,{to:"/",className:"inline-flex items-center gap-3 mb-6",children:l.jsx("div",{className:"w-16 h-16 rounded-full bg-gradient-to-br from-[#2563EB] to-[#38BDF8] flex items-center justify-center shadow-xl",children:l.jsx(xt,{className:"w-8 h-8 text-white"})})}),l.jsx("h1",{className:"text-3xl font-bold text-[#0F1F3D] mb-2",children:"Create Your Account"}),l.jsx("p",{className:"text-gray-600",children:"Join Global-Go and start shipping worldwide"})]}),l.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-200 p-8",children:[l.jsxs("form",{onSubmit:f,className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"fullName",className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name"}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:l.jsx(Oy,{className:"h-5 w-5 text-gray-400"})}),l.jsx("input",{id:"fullName",name:"fullName",type:"text",value:t.fullName,onChange:h,required:!0,className:"block w-full pl-12 pr-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-[#2563EB] focus:border-transparent transition-all",placeholder:"John Doe"}),t.fullName&&l.jsx("div",{className:"absolute inset-y-0 right-0 pr-4 flex items-center",children:l.jsx(Tn,{className:"h-5 w-5 text-[#10B981]"})})]})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:l.jsx(oo,{className:"h-5 w-5 text-gray-400"})}),l.jsx("input",{id:"email",name:"email",type:"email",value:t.email,onChange:h,required:!0,className:"block w-full pl-12 pr-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-[#2563EB] focus:border-transparent transition-all",placeholder:"you@example.com"}),t.email&&l.jsx("div",{className:"absolute inset-y-0 right-0 pr-4 flex items-center",children:l.jsx(Tn,{className:"h-5 w-5 text-[#10B981]"})})]})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:l.jsx(ua,{className:"h-5 w-5 text-gray-400"})}),l.jsx("input",{id:"password",name:"password",type:r?"text":"password",value:t.password,onChange:h,required:!0,className:"block w-full pl-12 pr-12 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-[#2563EB] focus:border-transparent transition-all",placeholder:"Create a strong password"}),l.jsx("button",{type:"button",onClick:()=>n(!r),className:"absolute inset-y-0 right-0 pr-4 flex items-center",children:r?l.jsx(ca,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"}):l.jsx(Ys,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"})})]}),t.password&&l.jsxs("div",{className:"mt-2",children:[l.jsxs("div",{className:"flex items-center justify-between mb-1",children:[l.jsx("span",{className:"text-xs text-gray-500",children:"Password strength"}),l.jsx("span",{className:`text-xs font-medium ${p<50?"text-[#EF4444]":p<75?"text-[#F59E0B]":"text-[#10B981]"}`,children:p<50?"Weak":p<75?"Medium":"Strong"})]}),l.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:l.jsx(M.div,{className:"bg-gradient-to-r from-[#2563EB] to-[#38BDF8] h-2 rounded-full",initial:{width:0},animate:{width:`${Object.values(t).filter(v=>v).length/4*100}%`},transition:{duration:.3}})})]})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm Password"}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:l.jsx(ua,{className:"h-5 w-5 text-gray-400"})}),l.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:s?"text":"password",value:t.confirmPassword,onChange:h,required:!0,className:"block w-full pl-12 pr-12 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-[#2563EB] focus:border-transparent transition-all",placeholder:"Re-enter your password"}),l.jsx("button",{type:"button",onClick:()=>i(!s),className:"absolute inset-y-0 right-0 pr-4 flex items-center",children:s?l.jsx(ca,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"}):l.jsx(Ys,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"})})]}),t.confirmPassword&&l.jsx("div",{className:"mt-2",children:t.password===t.confirmPassword?l.jsxs("p",{className:"text-xs text-[#10B981] flex items-center gap-1",children:[l.jsx(Tn,{className:"w-4 h-4"}),"Passwords match"]}):l.jsx("p",{className:"text-xs text-[#EF4444]",children:"Passwords do not match"})})]}),l.jsxs("div",{className:"flex items-start",children:[l.jsx("input",{id:"terms",type:"checkbox",required:!0,className:"h-4 w-4 mt-0.5 rounded border-gray-300 text-[#2563EB] focus:ring-[#2563EB]"}),l.jsxs("label",{htmlFor:"terms",className:"ml-2 block text-sm text-gray-700",children:["I agree to the"," ",l.jsx("a",{href:"#",className:"text-[#2563EB] hover:text-[#1D4ED8]",children:"Terms of Service"})," ","and"," ",l.jsx("a",{href:"#",className:"text-[#2563EB] hover:text-[#1D4ED8]",children:"Privacy Policy"})]})]}),l.jsx("button",{type:"submit",disabled:a||t.password!==t.confirmPassword,className:"w-full py-3 px-4 bg-gradient-to-r from-[#2563EB] to-[#38BDF8] text-white font-semibold rounded-xl hover:shadow-lg hover:shadow-blue-500/50 transition-all duration-300 disabled:opacity-50 flex items-center justify-center gap-2",children:a?l.jsx(l.Fragment,{children:"Creating Account..."}):l.jsxs(l.Fragment,{children:["Create Account",l.jsx(di,{className:"w-5 h-5"})]})})]}),l.jsxs("div",{className:"relative my-8",children:[l.jsx("div",{className:"absolute inset-0 flex items-center",children:l.jsx("div",{className:"w-full border-t border-gray-200"})}),l.jsx("div",{className:"relative flex justify-center text-sm",children:l.jsx("span",{className:"px-4 bg-white text-gray-500",children:"Already have an account?"})})]}),l.jsx(Re,{to:"/signin",className:"block w-full py-3 px-4 bg-white text-[#0F1F3D] font-semibold rounded-xl border-2 border-gray-200 hover:border-[#2563EB] hover:bg-gray-50 transition-all duration-300 text-center",children:"Sign In Instead"})]}),l.jsx("div",{className:"text-center mt-6",children:l.jsx(Re,{to:"/",className:"text-sm text-gray-600 hover:text-[#2563EB] transition-colors",children:" Back to Home"})})]})})}function Hf(){return l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-gray-50 to-white px-4",children:l.jsxs(M.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center max-w-lg",children:[l.jsxs("div",{className:"mb-8",children:[l.jsx("div",{className:"w-32 h-32 bg-gradient-to-br from-[#2563EB] to-[#38BDF8] rounded-2xl flex items-center justify-center mx-auto mb-6 shadow-2xl",children:l.jsx(fy,{className:"w-16 h-16 text-white"})}),l.jsx("h1",{className:"text-6xl font-bold text-[#0F1F3D] mb-4",children:"404"}),l.jsx("h2",{className:"text-3xl font-semibold text-gray-800 mb-4",children:"Page Not Found"}),l.jsx("p",{className:"text-xl text-gray-600 mb-8",children:"Looks like this package got lost in transit. Let's get you back on track!"})]}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[l.jsxs(Re,{to:"/",className:"px-8 py-3 bg-gradient-to-r from-[#2563EB] to-[#38BDF8] text-white font-semibold rounded-xl hover:shadow-lg hover:shadow-blue-500/50 transition-all duration-300 flex items-center justify-center gap-2",children:[l.jsx(ey,{className:"w-5 h-5"}),"Go Home"]}),l.jsxs("button",{onClick:()=>window.history.back(),className:"px-8 py-3 bg-white text-[#0F1F3D] font-semibold rounded-xl border-2 border-gray-200 hover:border-[#2563EB] hover:bg-gray-50 transition-all duration-300 flex items-center justify-center gap-2",children:[l.jsx(ld,{className:"w-5 h-5"}),"Go Back"]})]})]})})}const s1=()=>{const{isAdmin:t}=w.useContext(nn);return t?l.jsx(rd,{}):l.jsx(Hf,{})};function i1(){const{shipments:t,deleteShipment:e,loading:r}=w.useContext(nn),n=Pt(),[s,i]=w.useState(null),[a,o]=w.useState(""),[c,u]=w.useState("all"),[d,h]=w.useState(Date.now());w.useEffect(()=>{const g=setInterval(()=>h(Date.now()),1e3);return()=>clearInterval(g)},[]);const f=t.filter(g=>{var j,k;const y=((j=g.packageName)==null?void 0:j.toLowerCase().includes(a.toLowerCase()))||g.id.toLowerCase().includes(a.toLowerCase())||((k=g.senderName)==null?void 0:k.toLowerCase().includes(a.toLowerCase())),b=c==="all"||c==="active"&&!g.stopped&&!g.paused||c==="paused"&&g.paused&&!g.stopped||c==="stopped"&&g.stopped;return y&&b}),m={total:t.length,active:t.filter(g=>!g.stopped&&!g.paused).length,paused:t.filter(g=>g.paused&&!g.stopped).length,stopped:t.filter(g=>g.stopped).length},p=g=>{navigator.clipboard.writeText(g),i(g),setTimeout(()=>i(null),2e3)},v=g=>g.stopped?{bg:"bg-red-50",text:"text-red-700",badge:"bg-red-100 text-red-800"}:g.paused?{bg:"bg-yellow-50",text:"text-yellow-700",badge:"bg-yellow-100 text-yellow-800"}:{bg:"bg-green-50",text:"text-green-700",badge:"bg-green-100 text-green-800"},x=g=>g.stopped?"Stopped":g.paused?"Paused":"Active";return l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 pt-24 pb-12",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-8",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-4xl font-bold text-[#0F1F3D]",children:"Admin Dashboard"}),l.jsx("p",{className:"text-gray-600 mt-2",children:"Manage and track all shipments"})]}),l.jsxs(M.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>n("/admin/new"),className:"flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-[#2563EB] to-[#38BDF8] text-white rounded-lg font-semibold hover:shadow-lg transition-all",children:[l.jsx(xy,{className:"w-5 h-5"}),"New Shipment"]})]}),l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:[{label:"Total Shipments",value:m.total,icon:xt,color:"from-blue-500 to-blue-600"},{label:"Active",value:m.active,icon:Bn,color:"from-green-500 to-green-600"},{label:"Paused",value:m.paused,icon:Tl,color:"from-yellow-500 to-yellow-600"},{label:"Stopped",value:m.stopped,icon:Tl,color:"from-red-500 to-red-600"}].map((g,y)=>l.jsx(M.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:y*.1},className:`bg-gradient-to-br ${g.color} rounded-xl p-6 text-white shadow-lg`,children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-white/80 text-sm font-medium",children:g.label}),l.jsx("p",{className:"text-4xl font-bold mt-2",children:g.value})]}),l.jsx(g.icon,{className:"w-12 h-12 opacity-30"})]})},y))}),l.jsx(M.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-lg shadow-md p-4 mb-6 border border-gray-200",children:l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[l.jsxs("div",{className:"flex-1 relative",children:[l.jsx(hd,{className:"absolute left-3 top-3 w-5 h-5 text-gray-400"}),l.jsx("input",{type:"text",placeholder:"Search by package name, ID, or sender...",value:a,onChange:g=>o(g.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#2563EB]"})]}),l.jsxs("div",{className:"flex gap-2 sm:flex-1 lg:flex-none",children:[l.jsx(Jg,{className:"w-5 h-5 text-gray-500 my-auto"}),l.jsx("div",{className:"flex gap-2",children:["all","active","paused","stopped"].map(g=>l.jsx("button",{onClick:()=>u(g),className:`px-4 py-2 rounded-lg font-medium transition-all ${c===g?"bg-[#2563EB] text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:g.charAt(0).toUpperCase()+g.slice(1)},g))})]})]})}),l.jsxs("div",{className:"space-y-4",children:[r&&l.jsxs("div",{className:"text-center py-12",children:[l.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-[#2563EB]"}),l.jsx("p",{className:"text-gray-600 mt-4",children:"Loading shipments..."})]}),!r&&f.length===0?l.jsxs("div",{className:"bg-white rounded-xl shadow-md p-12 text-center border border-gray-200",children:[l.jsx(xt,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),l.jsx("p",{className:"text-gray-600 text-lg font-medium",children:"No shipments found"}),l.jsx("p",{className:"text-gray-500 mt-2",children:a||c!=="all"?"Try adjusting your search or filters.":"Create your first shipment to get started."})]}):f.map((g,y)=>{var k;const b=v(g),j=g.countdownStartTime&&g.countdownDuration?Vf(g.countdownStartTime,new Date(new Date(g.countdownStartTime).getTime()+(g.countdownDuration||0)*1e3).toISOString()):0;return l.jsx(M.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:y*.05},className:`${b.bg} rounded-xl shadow-md hover:shadow-lg transition-all border border-gray-200 overflow-hidden`,children:l.jsx("div",{className:"p-6",children:l.jsxs("div",{className:"flex flex-col lg:flex-row justify-between gap-4",children:[l.jsxs("div",{className:"flex-1 space-y-3",children:[l.jsx("div",{className:"flex items-center gap-3",children:l.jsxs("div",{className:"flex-1",children:[l.jsx("h3",{className:"text-xl font-bold text-[#0F1F3D]",children:g.packageName||"Unnamed Package"}),l.jsx("div",{className:`inline-block px-3 py-1 rounded-full text-xs font-semibold ${b.badge} mt-2`,children:x(g)})]})}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-gray-600 font-medium",children:"From"}),l.jsx("p",{className:"text-[#0F1F3D] font-semibold truncate",children:g.senderName||"N/A"})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-gray-600 font-medium",children:"To"}),l.jsx("p",{className:"text-[#0F1F3D] font-semibold truncate",children:g.receiverName||"N/A"})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-gray-600 font-medium",children:"Transport"}),l.jsx("p",{className:"text-[#0F1F3D] font-semibold",children:g.transportation||"N/A"})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-gray-600 font-medium",children:"Cost"}),l.jsxs("p",{className:"text-[#0F1F3D] font-semibold",children:["$",((k=g.cost)==null?void 0:k.toFixed(2))||"0.00"]})]})]}),l.jsxs("div",{className:"flex items-center gap-2 pt-2",children:[l.jsxs("span",{className:"text-xs text-gray-600 font-mono bg-white/50 px-3 py-1 rounded",children:["ID: ",g.id.slice(0,12),"..."]}),l.jsx("button",{onClick:()=>p(g.id),className:"p-1 hover:bg-white/50 rounded transition-colors",children:s===g.id?l.jsx(Mg,{className:"w-4 h-4 text-green-600"}):l.jsx(cd,{className:"w-4 h-4 text-gray-500"})})]}),g.countdownStartTime&&g.countdownDuration&&l.jsxs("div",{className:"pt-2",children:[l.jsxs("div",{className:"flex justify-between items-center mb-1",children:[l.jsx("span",{className:"text-xs font-medium text-gray-700",children:"Progress"}),l.jsxs("span",{className:"text-xs font-semibold text-gray-700",children:[j,"%"]})]}),l.jsx("div",{className:"w-full h-2 bg-white/60 rounded-full overflow-hidden",children:l.jsx(M.div,{className:"h-full bg-gradient-to-r from-[#2563EB] to-[#38BDF8]",initial:{width:0},animate:{width:`${j}%`},transition:{duration:.5}})})]}),g.checkpoints&&g.checkpoints.length>0&&l.jsxs("div",{className:"pt-2",children:[l.jsxs("p",{className:"text-xs font-medium text-gray-700 mb-2",children:["Route (",g.checkpoints.length," stops)"]}),l.jsx("div",{className:"flex h-3 gap-1 rounded-full overflow-hidden bg-white/40",children:g.checkpoints.map((T,_)=>l.jsx("div",{className:`flex-1 ${_<=(g.currentCheckpointIndex||0)?"bg-gradient-to-r from-[#2563EB] to-[#38BDF8]":"bg-white/50"}`,title:T.location},T.id))})]})]}),l.jsxs("div",{className:"flex gap-2 lg:flex-col justify-end",children:[l.jsxs(M.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>n(`/admin/view/${g.id}`),className:"flex items-center gap-2 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors",children:[l.jsx(Ys,{className:"w-4 h-4"}),l.jsx("span",{className:"hidden sm:inline",children:"View"})]}),l.jsxs(M.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>n(`/admin/edit/${g.id}`),className:"flex items-center gap-2 px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors",children:[l.jsx(gy,{className:"w-4 h-4"}),l.jsx("span",{className:"hidden sm:inline",children:"Edit"})]}),l.jsxs(M.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{window.confirm("Are you sure you want to delete this shipment?")&&e(g.id)},className:"flex items-center gap-2 px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors",children:[l.jsx(Py,{className:"w-4 h-4"}),l.jsx("span",{className:"hidden sm:inline",children:"Delete"})]})]})]})})},g.id)})]})]})})}const Eu=["Air Freight","Ocean Cargo","Land Transport","Door-to-Door Delivery"];function Nu(){var _,S,N,D,L,B,F,X,le,re,q,R,ue,fe;const{shipments:t,addShipment:e,updateShipment:r,error:n,clearError:s}=w.useContext(nn),i=Pt(),{id:a}=Qu(),o=t.find(G=>G.id===a)||null,c={id:o?o.id:crypto.randomUUID(),senderName:(o==null?void 0:o.senderName)||"",senderPhone:(o==null?void 0:o.senderPhone)||"",receiverName:(o==null?void 0:o.receiverName)||"",receiverPhone:(o==null?void 0:o.receiverPhone)||"",receiverEmail:(o==null?void 0:o.receiverEmail)||"",pickupLocation:(o==null?void 0:o.pickupLocation)||"",deliveryAddress:(o==null?void 0:o.deliveryAddress)||"",transportation:(o==null?void 0:o.transportation)||Eu[0],packageName:(o==null?void 0:o.packageName)||"",images:o!=null&&o.images&&Array.isArray(o.images)?o.images:["","",""],cost:((_=o==null?void 0:o.cost)==null?void 0:_.toString())||"",paid:(o==null?void 0:o.paid)||!1,vehiclesCount:(o==null?void 0:o.vehiclesCount)||"",vehicleType:(o==null?void 0:o.vehicleType)||"",driverName:(o==null?void 0:o.driverName)||"",driverExperience:(o==null?void 0:o.driverExperience)||"",countdownDuration:((S=o==null?void 0:o.countdownDuration)==null?void 0:S.toString())||"24",checkpoint_1:((N=o==null?void 0:o.checkpoints[0])==null?void 0:N.location)||"",checkpoint_2:((D=o==null?void 0:o.checkpoints[1])==null?void 0:D.location)||"",checkpoint_3:((L=o==null?void 0:o.checkpoints[2])==null?void 0:L.location)||"",checkpoint_4:((B=o==null?void 0:o.checkpoints[3])==null?void 0:B.location)||"",checkpoint_5:((F=o==null?void 0:o.checkpoints[4])==null?void 0:F.location)||"",checkpoint_6:((X=o==null?void 0:o.checkpoints[5])==null?void 0:X.location)||"",checkpoint_7:((le=o==null?void 0:o.checkpoints[6])==null?void 0:le.location)||"",checkpoint_8:((re=o==null?void 0:o.checkpoints[7])==null?void 0:re.location)||"",checkpoint_9:((q=o==null?void 0:o.checkpoints[8])==null?void 0:q.location)||"",checkpoint_10:((R=o==null?void 0:o.checkpoints[9])==null?void 0:R.location)||"",checkpoint_11:((ue=o==null?void 0:o.checkpoints[10])==null?void 0:ue.location)||"",checkpoint_12:((fe=o==null?void 0:o.checkpoints[11])==null?void 0:fe.location)||""},[u,d]=w.useState(c),[h,f]=w.useState(null),[m,p]=w.useState(!1),[v,x]=w.useState(null),[g,y]=w.useState(!1);w.useEffect(()=>{s()},[s]),w.useEffect(()=>{o&&d(c)},[o]);const b=G=>{const{name:de,value:ie,type:se,checked:ge,files:je}=G.target;d(se==="checkbox"?Q=>({...Q,[de]:ge}):se==="file"?Q=>({...Q,[de]:je}):Q=>({...Q,[de]:ie}))},j=async G=>{var xe,Oe;if(G.preventDefault(),g)return;y(!0),x(null),console.log("=== FORM SUBMISSION STARTED ===");const de=[{key:"senderName",label:"Sender Name"},{key:"senderPhone",label:"Sender Phone"},{key:"receiverName",label:"Receiver Name"},{key:"receiverPhone",label:"Receiver Phone"},{key:"receiverEmail",label:"Receiver Email"},{key:"pickupLocation",label:"Pickup Location"},{key:"deliveryAddress",label:"Delivery Address"},{key:"packageName",label:"Package Name"}];for(const ee of de){const pe=(xe=u[ee.key])==null?void 0:xe.toString().trim();if(console.log(`Checking ${ee.key}:`,pe),!pe){const O=`${ee.label} is required`;console.error("Validation failed:",O),x(O),y(!1);return}}console.log(" All required fields valid");const ie=[];for(let ee=1;ee<=12;ee++){const pe=(Oe=u[`checkpoint_${ee}`])==null?void 0:Oe.trim();pe&&ie.push(pe)}if(console.log("Checkpoints count:",ie.length),ie.length<5){const ee="Please provide at least 5 checkpoint locations";console.error("Validation failed:",ee),x(ee),y(!1);return}if(ie.length>12){const ee="Maximum 12 checkpoint locations allowed";console.error("Validation failed:",ee),x(ee),y(!1);return}console.log(" Checkpoint validation passed");const se=(u.images||[]).filter(ee=>ee&&ee.trim()!=="");if(se.length<3){const ee="Please provide at least 3 product image URLs (minimum 3, maximum 6)";console.error("Validation failed:",ee),x(ee),y(!1);return}if(se.length>6){const ee="Maximum 6 product image URLs allowed (minimum 3, maximum 6)";console.error("Validation failed:",ee),x(ee),y(!1);return}const ge=/^https?:\/\//i;if(se.some(ee=>!ge.test(ee))){x("All product image URLs must be valid (start with http or https)"),y(!1);return}console.log(" Image URL validation passed:",se.length,"images");const je=ie.map(ee=>({id:crypto.randomUUID(),location:ee})),Q={id:u.id,senderName:u.senderName,senderPhone:u.senderPhone,receiverName:u.receiverName,receiverPhone:u.receiverPhone,receiverEmail:u.receiverEmail,pickupLocation:u.pickupLocation,deliveryAddress:u.deliveryAddress,transportation:u.transportation,packageName:u.packageName,images:se,cost:parseFloat(u.cost)||0,paid:u.paid,checkpoints:je,vehiclesCount:u.vehiclesCount?parseInt(u.vehiclesCount,10):void 0,vehicleType:u.vehicleType,driverName:u.driverName,driverExperience:u.driverExperience,countdownDuration:u.countdownDuration?parseInt(u.countdownDuration,10):24,countdownStartTime:(o==null?void 0:o.countdownStartTime)||new Date().toISOString()};console.log("Data prepared:",{...Q,id:Q.id,checkpointCount:Q.checkpoints.length});try{o?(console.log("Updating existing shipment:",o.id),await r(o.id,Q),s(),i("/admin")):(console.log("Creating new shipment..."),await e(Q),console.log(" Shipment created, setting tracking ID:",Q.id),s(),f(Q.id))}catch(ee){const pe=ee instanceof Error?ee.message:"Failed to submit form. Please try again.";x(pe),console.error("Form submission error:",ee)}finally{y(!1)}},k=()=>{h&&(navigator.clipboard.writeText(h),p(!0),setTimeout(()=>p(!1),2e3))},T=u.transportation==="Land Transport";return h?l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-blue-50 flex items-center justify-center py-12 px-4",children:l.jsxs(M.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"max-w-md w-full bg-white rounded-2xl shadow-2xl p-8 text-center",children:[l.jsx("div",{className:"w-20 h-20 rounded-full bg-gradient-to-br from-green-400 to-blue-500 flex items-center justify-center mx-auto mb-6 shadow-lg",children:l.jsx(Tn,{className:"w-12 h-12 text-white"})}),l.jsx("h2",{className:"text-3xl font-bold text-[#0F1F3D] mb-2",children:"Shipment Created!"}),l.jsx("p",{className:"text-gray-600 mb-6",children:"Your tracking ID has been generated and is ready to share."}),l.jsxs("div",{className:"bg-gray-50 border-2 border-[#2563EB] rounded-lg p-4 mb-6",children:[l.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Tracking ID:"}),l.jsx("p",{className:"text-2xl font-bold text-[#0F1F3D] break-all",children:h})]}),l.jsxs("button",{onClick:k,className:"w-full flex items-center justify-center gap-2 px-6 py-3 bg-[#2563EB] text-white font-semibold rounded-lg hover:bg-[#1e4a9b] transition-all duration-300 mb-4",children:[l.jsx(cd,{className:"w-5 h-5"}),m?"Copied to Clipboard!":"Copy Tracking ID"]}),l.jsx("button",{onClick:()=>i("/admin"),className:"w-full px-6 py-3 bg-gray-200 text-gray-700 font-semibold rounded-lg hover:bg-gray-300 transition-all duration-300",children:"Back to Dashboard"})]})}):l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 py-12 pt-24",children:l.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:[l.jsxs(M.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-8",children:[l.jsx("h1",{className:"text-4xl font-bold text-[#0F1F3D] mb-2",children:o?" Edit Shipment":" Create New Shipment"}),l.jsx("p",{className:"text-gray-600",children:"Fill in the shipment details below to get started"})]}),l.jsxs(M.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-2xl shadow-xl overflow-hidden",children:[l.jsx("div",{className:"bg-gradient-to-r from-[#2563EB] to-[#38BDF8] px-8 py-6",children:l.jsx("h2",{className:"text-2xl font-bold text-white",children:"Shipment Information"})}),l.jsxs("form",{onSubmit:j,className:"p-8",children:[(v||n)&&l.jsxs(M.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-6 p-4 bg-red-50 border-l-4 border-red-500 rounded-lg text-red-700 font-medium",children:[" ",v||n]}),l.jsxs("div",{className:"space-y-8",children:[l.jsxs("div",{children:[l.jsxs("h3",{className:"text-lg font-semibold text-[#0F1F3D] mb-4 flex items-center gap-2",children:[l.jsx("span",{className:"text-2xl",children:""})," Sender Information"]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsxs("label",{htmlFor:"senderName",className:"block text-sm font-semibold text-gray-700 mb-2",children:["Full Name ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{id:"senderName",name:"senderName",placeholder:"John Doe",value:u.senderName,onChange:b,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#2563EB] focus:border-transparent transition-all"})]}),l.jsxs("div",{children:[l.jsxs("label",{htmlFor:"senderPhone",className:"block text-sm font-semibold text-gray-700 mb-2",children:["Phone Number ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{id:"senderPhone",name:"senderPhone",placeholder:"+1 (555) 000-0000",value:u.senderPhone,onChange:b,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#2563EB] focus:border-transparent transition-all"})]})]})]}),l.jsxs("div",{children:[l.jsxs("h3",{className:"text-lg font-semibold text-[#0F1F3D] mb-4 flex items-center gap-2",children:[l.jsx("span",{className:"text-2xl",children:""})," Receiver Information"]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsxs("label",{htmlFor:"receiverName",className:"block text-sm font-semibold text-gray-700 mb-2",children:["Full Name ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{id:"receiverName",name:"receiverName",placeholder:"Jane Smith",value:u.receiverName,onChange:b,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#2563EB] focus:border-transparent transition-all"})]}),l.jsxs("div",{children:[l.jsxs("label",{htmlFor:"receiverPhone",className:"block text-sm font-semibold text-gray-700 mb-2",children:["Phone Number ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{id:"receiverPhone",name:"receiverPhone",placeholder:"+1 (555) 000-0000",value:u.receiverPhone,onChange:b,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#2563EB] focus:border-transparent transition-all"})]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsxs("label",{htmlFor:"receiverEmail",className:"block text-sm font-semibold text-gray-700 mb-2",children:["Email Address ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{id:"receiverEmail",type:"email",name:"receiverEmail",placeholder:"jane@example.com",value:u.receiverEmail,onChange:b,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#2563EB] focus:border-transparent transition-all"})]})]})]}),l.jsxs("div",{children:[l.jsxs("h3",{className:"text-lg font-semibold text-[#0F1F3D] mb-4 flex items-center gap-2",children:[l.jsx("span",{className:"text-2xl",children:""})," Location Information"]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsxs("label",{htmlFor:"pickupLocation",className:"block text-sm font-semibold text-gray-700 mb-2",children:["Pickup/Takeoff Location ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{id:"pickupLocation",name:"pickupLocation",placeholder:"e.g., Warehouse A, Port of Charlotte, Airport Terminal",value:u.pickupLocation,onChange:b,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#2563EB] focus:border-transparent transition-all"}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Where the package originates from"})]}),l.jsxs("div",{children:[l.jsxs("label",{htmlFor:"deliveryAddress",className:"block text-sm font-semibold text-gray-700 mb-2",children:["Delivery Address ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{id:"deliveryAddress",name:"deliveryAddress",placeholder:"Final destination",value:u.deliveryAddress,onChange:b,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#2563EB] focus:border-transparent transition-all"}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Final delivery destination"})]})]})]}),l.jsxs("div",{children:[l.jsxs("h3",{className:"text-lg font-semibold text-[#0F1F3D] mb-4 flex items-center gap-2",children:[l.jsx("span",{className:"text-2xl",children:""})," Shipment Details"]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsxs("label",{htmlFor:"packageName",className:"block text-sm font-semibold text-gray-700 mb-2",children:["Package Name(s) ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{id:"packageName",name:"packageName",placeholder:"e.g., Electronics, Documents, Fragile Items",value:u.packageName,onChange:b,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#2563EB] focus:border-transparent transition-all"})]}),l.jsxs("div",{children:[l.jsxs("label",{htmlFor:"transportation",className:"block text-sm font-semibold text-gray-700 mb-2",children:["Transportation Method ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("select",{id:"transportation",name:"transportation",value:u.transportation,onChange:b,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#2563EB] focus:border-transparent transition-all","aria-label":"Select transportation method",children:Eu.map(G=>l.jsx("option",{value:G,children:G},G))})]}),l.jsxs("div",{children:[l.jsxs("label",{htmlFor:"cost",className:"block text-sm font-semibold text-gray-700 mb-2",children:["Shipping Cost ($) ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{id:"cost",type:"number",name:"cost",placeholder:"0.00",step:"0.01",value:u.cost,onChange:b,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#2563EB] focus:border-transparent transition-all","aria-label":"Enter shipment cost"})]}),l.jsxs("div",{children:[l.jsxs("label",{htmlFor:"countdownDuration",className:"block text-sm font-semibold text-gray-700 mb-2",children:[" Est. Time to Arrival (Hours) ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{id:"countdownDuration",type:"number",name:"countdownDuration",min:"1",max:"720",placeholder:"24",value:u.countdownDuration,onChange:b,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#2563EB] focus:border-transparent transition-all","aria-label":"Enter estimated time to arrival in hours"}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Countdown starts when shipment is created"})]}),l.jsxs("div",{className:"flex items-center gap-3 pt-2",children:[l.jsx("input",{id:"paid",type:"checkbox",name:"paid",checked:u.paid,onChange:b,className:"w-4 h-4 rounded border-gray-300 text-[#2563EB] focus:ring-2 focus:ring-[#2563EB]","aria-label":"Mark shipment as paid"}),l.jsx("label",{htmlFor:"paid",className:"text-sm font-semibold text-gray-700",children:" Payment Received"})]})]})]}),l.jsxs("div",{children:[l.jsxs("h3",{className:"text-lg font-semibold text-[#0F1F3D] mb-4 flex items-center gap-2",children:[l.jsx("span",{className:"text-2xl",children:""})," Shipment Route"]}),l.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-200 rounded-lg p-5 mb-4",children:[l.jsx("p",{className:"text-sm font-semibold text-blue-900 mb-1",children:" Route Milestones"}),l.jsxs("p",{className:"text-xs text-blue-700",children:["Define ",l.jsx("strong",{children:"5 to 12"})," waypoints/locations along the shipment route"]})]}),l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:Array.from({length:12},(G,de)=>de+1).map(G=>l.jsxs("div",{children:[l.jsxs("label",{htmlFor:`checkpoint_${G}`,className:"block text-xs font-semibold text-gray-700 mb-2",children:["Milestone ",G," ",l.jsx("span",{className:G<=5?"text-red-500":"text-gray-400",children:"*"})]}),l.jsx("input",{type:"text",id:`checkpoint_${G}`,name:`checkpoint_${G}`,placeholder:`e.g., ${["Maitama","Lekki","Ikeja","Victoria Island","Surulere","Ajah","Ikoyi","Yaba","Bariga","Mushin","Ejigbo","Shomolu"][G-1]}`,value:u[`checkpoint_${G}`]||"",onChange:b,className:"w-full border border-gray-300 rounded-lg px-4 py-3 text-sm focus:outline-none focus:ring-2 focus:ring-[#2563EB] focus:border-transparent transition-all"})]},`checkpoint_${G}`))})]}),T&&l.jsxs("div",{children:[l.jsxs("h3",{className:"text-lg font-semibold text-[#0F1F3D] mb-4 flex items-center gap-2",children:[l.jsx("span",{className:"text-2xl",children:""})," Vehicle & Driver Information"]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"vehiclesCount",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Number of Vehicles"}),l.jsx("input",{id:"vehiclesCount",type:"number",name:"vehiclesCount",placeholder:"1",value:u.vehiclesCount,onChange:b,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#2563EB] focus:border-transparent transition-all"})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"vehicleType",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Vehicle Type"}),l.jsx("input",{id:"vehicleType",name:"vehicleType",placeholder:"e.g., Truck, Van, Courier Bike",value:u.vehicleType,onChange:b,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#2563EB] focus:border-transparent transition-all"})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"driverName",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Driver Name"}),l.jsx("input",{id:"driverName",name:"driverName",placeholder:"Full name",value:u.driverName,onChange:b,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#2563EB] focus:border-transparent transition-all"})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"driverExperience",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Years of Experience"}),l.jsx("input",{id:"driverExperience",name:"driverExperience",placeholder:"e.g., 5",value:u.driverExperience,onChange:b,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#2563EB] focus:border-transparent transition-all"})]})]})]}),l.jsxs("div",{className:"border-t-2 border-gray-200 pt-8",children:[l.jsxs("h3",{className:"text-lg font-semibold text-[#0F1F3D] mb-4 flex items-center gap-2",children:[l.jsx("span",{className:"text-2xl",children:""})," Product Images"]}),l.jsx("p",{className:"text-sm text-gray-600 mb-4",children:'Add 3-6 product images. Get image URLs by right-clicking online images and selecting "Copy image address"'}),l.jsxs("div",{className:"space-y-3",children:[u.images&&u.images.map((G,de)=>l.jsxs("div",{className:"flex gap-3 items-center",children:[l.jsx("div",{className:"flex-1",children:l.jsx("input",{type:"url",placeholder:`Image URL #${de+1}`,value:G,onChange:ie=>{const se=[...u.images];se[de]=ie.target.value,d(ge=>({...ge,images:se}))},className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#2563EB] focus:border-transparent transition-all",required:de<3})}),u.images.length>3&&l.jsx(M.button,{whileHover:{scale:1.1},whileTap:{scale:.9},type:"button",className:"px-3 py-3 text-red-500 hover:text-red-700 hover:bg-red-50 rounded-lg font-bold transition-all",onClick:()=>{d(ie=>({...ie,images:ie.images.filter((se,ge)=>ge!==de)}))},"aria-label":"Remove image URL",children:""})]},de)),u.images&&u.images.length<6&&l.jsx(M.button,{whileHover:{scale:1.02},whileTap:{scale:.98},type:"button",className:"w-full mt-3 px-4 py-3 bg-gradient-to-r from-blue-50 to-indigo-50 text-[#2563EB] font-semibold rounded-lg hover:from-blue-100 hover:to-indigo-100 border-2 border-dashed border-[#2563EB]/50 transition-all",onClick:()=>d(G=>({...G,images:[...G.images,""]})),children:"+ Add another image URL (max 6 total)"}),v&&v.includes("image")&&l.jsx("p",{className:"mt-2 text-sm text-red-600 font-semibold",children:v})]})]})]}),l.jsxs("div",{className:"mt-8 flex justify-end gap-4 px-8 pb-8",children:[l.jsx(M.button,{whileHover:{scale:1.02},whileTap:{scale:.98},type:"button",onClick:()=>i("/admin"),className:"px-8 py-4 bg-gray-200 hover:bg-gray-300 text-gray-800 font-semibold rounded-lg transition-all duration-200",children:"Cancel"}),l.jsx(M.button,{whileHover:{scale:1.02},whileTap:{scale:.98},type:"submit",disabled:g,onClick:j,className:`px-8 py-4 font-semibold rounded-lg transition-all duration-200 ${g?"bg-gray-400 cursor-not-allowed":"bg-gradient-to-r from-[#2563EB] to-[#38BDF8] text-white hover:shadow-lg hover:shadow-blue-500/50"}`,children:g?" Processing...":o?" Save Changes":" Create Shipment"})]})]})]})]})})}function a1(){var k;const{id:t}=Qu(),e=Pt(),{shipment:r,loading:n}=Wf(t||""),[s,i]=w.useState(!1),[a,o]=w.useState(""),[c,u]=w.useState(!1),[d,h]=w.useState(!0),[f,m]=w.useState(!1),[p,v]=w.useState(Date.now());if(w.useEffect(()=>{const T=setInterval(()=>v(Date.now()),1e3);return()=>clearInterval(T)},[]),w.useEffect(()=>{if(r){h(!0),m(!1);const T=setTimeout(()=>{h(!1),m(!0)},6e3);return()=>clearTimeout(T)}},[r==null?void 0:r.id]),n)return l.jsx("div",{className:"p-12 text-center",children:l.jsx("p",{className:"text-gray-600",children:"Loading shipment..."})});if(!r)return l.jsxs("div",{className:"p-12 text-center",children:[l.jsx("p",{className:"text-gray-600",children:"Shipment not found."}),l.jsx("button",{onClick:()=>e("/admin"),className:"mt-4 text-blue-600 hover:underline",children:"Back to dashboard"})]});const x=async T=>{u(!0);try{await Mt(r.id,{current_checkpoint_index:T})}catch(_){console.error("Error updating checkpoint:",_)}finally{u(!1)}},g=async()=>{u(!0);try{if(!r.paused)await Mt(r.id,{paused:!0,pause_timestamp:new Date().toISOString()});else if(r.pause_timestamp&&r.countdown_start_time){const T=new Date(r.pause_timestamp).getTime(),_=new Date(r.countdown_start_time).getTime(),N=Date.now()-T,D=new Date(_+N).toISOString();await Mt(r.id,{paused:!1,countdown_start_time:D,pause_timestamp:void 0})}else await Mt(r.id,{paused:!1,pause_timestamp:void 0})}catch(T){console.error("Error toggling pause:",T)}finally{u(!1)}},y=()=>{i(!0)},b=async()=>{if(a.trim()){u(!0);try{await Mt(r.id,{stopped:!0,stop_reason:a.trim(),status:"stopped"}),i(!1),o("")}catch(T){console.error("Error stopping shipment:",T)}finally{u(!1)}}},j=async()=>{u(!0);try{await Mt(r.id,{stopped:!1,stop_reason:void 0,paused:!1,status:"in_transit"})}catch(T){console.error("Error resuming shipment:",T)}finally{u(!1)}};return l.jsxs("div",{className:"max-w-4xl mx-auto py-12",children:[l.jsx("button",{onClick:()=>e("/admin"),className:"text-sm text-blue-600 hover:underline mb-4",children:" Back to dashboard"}),l.jsx("h1",{className:"text-2xl font-bold mb-6",children:r.package_name||"Shipment Details"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsxs("p",{children:[l.jsx("strong",{children:"Sender:"})," ",r.sender_name," (",r.sender_phone,")"]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Receiver:"})," ",r.receiver_name," (",r.receiver_phone,")"]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Receiver Email:"})," ",r.receiver_email]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Delivery Address:"})," ",r.delivery_address]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Warehouse:"})," ",r.warehouse]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Transportation:"})," ",r.transportation]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Cost:"})," $",((k=r.cost)==null?void 0:k.toFixed(2))||"0.00"," ",r.paid&&"(paid)"]}),r.countdown_duration&&r.countdown_start_time&&l.jsxs("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-300 rounded-lg",children:[l.jsxs("p",{className:"text-sm font-semibold text-blue-900",children:[" Estimated Time to Arrival: ",Math.floor(r.countdown_duration/3600)," hours"]}),l.jsxs("p",{className:"text-xs text-blue-700 mt-1",children:["Countdown started: ",new Date(r.countdown_start_time).toLocaleString()]}),l.jsx("div",{className:"mt-2 relative w-full h-3 bg-gray-200 rounded",children:l.jsx("div",{className:"absolute top-0 left-0 h-full bg-green-500",style:{width:`${Vf(r.countdown_start_time,new Date(new Date(r.countdown_start_time).getTime()+(r.countdown_duration||0)*1e3).toISOString())}%`}})})]})]}),l.jsxs("div",{children:[(r==null?void 0:r.images)&&r.images.length>0&&l.jsx(M.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-lg shadow-md border border-gray-200 mb-4 p-4",children:l.jsxs("div",{className:"space-y-3",children:[l.jsx("h3",{className:"text-lg font-bold text-[#0F1F3D] flex items-center gap-2",children:" Product Images"}),l.jsx("div",{className:"relative px-2",children:l.jsxs(Mf,{className:"w-full",children:[l.jsx(Ff,{children:r.images.map((T,_)=>{var S;return l.jsx($f,{className:"basis-full sm:basis-1/2 lg:basis-1/3",children:l.jsxs(M.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:_*.05},className:"group relative rounded-lg overflow-hidden shadow-md hover:shadow-xl transition-all duration-300 cursor-pointer h-40 sm:h-48",children:[l.jsx("img",{src:T,alt:`Product ${_+1}`,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-300"}),l.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/20 transition-all duration-300 flex items-center justify-center",children:l.jsxs("span",{className:"text-white text-xs font-medium bg-black/50 px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity",children:[_+1," / ",(S=r.images)==null?void 0:S.length]})})]})},_)})}),r.images.length>1&&l.jsxs(l.Fragment,{children:[l.jsx(Bf,{className:"bg-white text-[#2563EB] hover:bg-gray-100"}),l.jsx(Uf,{className:"bg-white text-[#2563EB] hover:bg-gray-100"})]})]})})]})}),l.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-md border border-gray-200 mb-4 relative overflow-hidden aspect-video flex items-center justify-center",children:[l.jsx("img",{src:"https://lh3.googleusercontent.com/L_8R6GVq0cG0LYJCA-9QgRXmftttFrigL6iBV35Ca37UEBioMCoRguAaB-UPFFXNl_RllSrnuSqgsAgEZ1QCvubkoKgP8Lfqjc4QpOs=w450",alt:"Default map",className:"absolute inset-0 w-full h-full object-cover blur-sm"}),l.jsx("div",{className:"absolute inset-0 flex items-center justify-center z-10",children:l.jsxs("div",{className:"text-center",children:[l.jsx(Xr,{className:"w-10 h-10 text-[#2563EB] mx-auto mb-2"}),l.jsxs("p",{className:"text-sm font-semibold text-[#0F1F3D] bg-white/80 px-3 py-2 rounded-lg backdrop-blur-sm",children:["Current: ",(r==null?void 0:r.delivery_address)||"Loading..."]})]})}),(r==null?void 0:r.route_screenshot_url)&&l.jsx("img",{src:r.route_screenshot_url,alt:"Route map",className:"absolute inset-0 w-full h-full object-cover z-20",onLoad:()=>{h(!1),m(!1)}}),d&&!(r!=null&&r.route_screenshot_url)&&l.jsx("div",{className:"absolute inset-0 flex items-center justify-center z-30 bg-black/20 backdrop-blur-sm",children:l.jsxs("div",{className:"flex flex-col items-center gap-3",children:[l.jsx("div",{className:"w-10 h-10 border-3 border-[#2563EB]/30 border-t-[#2563EB] rounded-full animate-spin"}),l.jsx("p",{className:"text-white font-medium text-sm",children:"Loading map..."})]})}),f&&!(r!=null&&r.route_screenshot_url)&&l.jsx("div",{className:"absolute inset-0 flex items-center justify-center z-30 bg-black/40 backdrop-blur-sm",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"w-12 h-12 rounded-full bg-red-500/20 flex items-center justify-center mx-auto mb-2",children:l.jsx("span",{className:"text-xl",children:""})}),l.jsx("p",{className:"text-white font-semibold mb-1",children:"Error loading live route"}),l.jsx("p",{className:"text-white/80 text-xs",children:"Please try again"})]})})]}),r.images&&r.images.length>0&&l.jsx("div",{className:"mt-4 grid grid-cols-2 gap-2",children:r.images.map((T,_)=>l.jsx("img",{src:T,alt:`Package ${_+1}`,className:"w-full h-auto rounded"},_))}),r.vehicles_count!==void 0&&l.jsxs("p",{children:[l.jsx("strong",{children:"Vehicles:"})," ",r.vehicles_count," ",r.vehicle_type]}),r.driver_name&&l.jsx("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg",children:l.jsxs("div",{className:"flex items-center gap-4",children:[r.driver_image_url&&l.jsx("img",{src:r.driver_image_url,alt:"Driver",className:"w-16 h-16 object-cover rounded-full shadow-md flex-shrink-0"}),l.jsxs("div",{children:[l.jsx("p",{className:"font-semibold text-[#0F1F3D]",children:r.driver_name}),l.jsx(zf,{experience:r.driver_experience})]})]})})]})]}),r.checkpoints&&r.checkpoints.length>0&&l.jsx("div",{className:"mt-8",children:l.jsx("div",{className:"flex h-4 overflow-hidden rounded-lg bg-gray-200",children:r.checkpoints.map((T,_)=>l.jsx("div",{className:`flex-1 cursor-pointer hover:bg-blue-300 transition-colors ${_<=(r.current_checkpoint_index||0)?"bg-blue-500":"bg-gray-300"}`,onClick:()=>x(_),role:"button",tabIndex:0,title:T.location},T.id))})}),l.jsxs("div",{className:"mt-6 flex flex-wrap gap-4",children:[!r.stopped&&l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:g,disabled:c,className:"px-4 py-2 bg-yellow-500 text-white rounded-md disabled:opacity-50",children:r.paused?"Play":"Pause"}),l.jsx("button",{onClick:y,disabled:r.stopped||c,className:"px-4 py-2 bg-red-600 text-white rounded-md disabled:opacity-50",children:"Stop"})]}),r.stopped&&l.jsx("button",{onClick:j,disabled:c,className:"px-4 py-2 bg-green-600 text-white rounded-md disabled:opacity-50",children:"Resume"})]}),r.stopped&&l.jsxs("p",{className:"mt-4 text-red-600",children:["Stopped: ",r.stop_reason]}),s&&l.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 bg-black bg-opacity-40",children:l.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 w-full max-w-md",children:[l.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Stop Shipment"}),l.jsx("label",{className:"block mb-2 text-sm font-medium",children:"Reason for stopping:"}),l.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded p-2 mb-4",value:a,onChange:T=>o(T.target.value),placeholder:"Enter reason...",autoFocus:!0}),l.jsxs("div",{className:"flex justify-end gap-2",children:[l.jsx("button",{onClick:()=>i(!1),className:"px-4 py-2 bg-gray-200 rounded",children:"Cancel"}),l.jsx("button",{onClick:b,className:"px-4 py-2 bg-red-600 text-white rounded disabled:opacity-50",disabled:!a.trim()||c,children:"Stop"})]})]})})]})}const o1=yg([{path:"/",Component:wj,children:[{index:!0,Component:jj},{path:"track",Component:Qk},{path:"about",Component:t1},{path:"signin",Component:r1},{path:"signup",Component:n1},{path:"admin",Component:s1,children:[{index:!0,Component:i1},{path:"new",Component:Nu},{path:"edit/:id",Component:Nu},{path:"view/:id",Component:a1}]},{path:"*",Component:Hf}]}]);function l1(){return l.jsx(zp,{router:o1})}const c1=tm.createRoot(document.getElementById("root"));c1.render(l.jsx(l1,{}));"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").then(t=>{console.log("ServiceWorker registration successful with scope: ",t.scope)}).catch(t=>{console.warn("ServiceWorker registration failed: ",t)})});
//# sourceMappingURL=index-wVIauP9q.js.map

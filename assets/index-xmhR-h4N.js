import{r as Ru,a as Jf,g as Xf}from"./vendor-CRB3T2We.js";function Zf(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var Si={exports:{}},yn={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zo;function Qf(){if(Zo)return yn;Zo=1;var t=Ru(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,s=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function a(o,c,u){var d,h={},f=null,m=null;u!==void 0&&(f=""+u),c.key!==void 0&&(f=""+c.key),c.ref!==void 0&&(m=c.ref);for(d in c)n.call(c,d)&&!i.hasOwnProperty(d)&&(h[d]=c[d]);if(o&&o.defaultProps)for(d in c=o.defaultProps,c)h[d]===void 0&&(h[d]=c[d]);return{$$typeof:e,type:o,key:f,ref:m,props:h,_owner:s.current}}return yn.Fragment=r,yn.jsx=a,yn.jsxs=a,yn}var Qo;function em(){return Qo||(Qo=1,Si.exports=Qf()),Si.exports}var l=em(),Ns={},el;function tm(){if(el)return Ns;el=1;var t=Jf();return Ns.createRoot=t.createRoot,Ns.hydrateRoot=t.hydrateRoot,Ns}var rm=tm(),w=Ru();const nm=Xf(w),sm=Zf({__proto__:null,default:nm},[w]);/**
 * react-router v7.13.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Iu=t=>{throw TypeError(t)},im=(t,e,r)=>e.has(t)||Iu("Cannot "+r),Ni=(t,e,r)=>(im(t,e,"read from private field"),r?r.call(t):e.get(t)),am=(t,e,r)=>e.has(t)?Iu("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),tl="popstate";function om(t={}){function e(n,s){let{pathname:i,search:a,hash:o}=n.location;return Mn("",{pathname:i,search:a,hash:o},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:Et(s)}return cm(e,r,null,t)}function me(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Pe(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function lm(){return Math.random().toString(36).substring(2,10)}function rl(t,e){return{usr:t.state,key:t.key,idx:e}}function Mn(t,e,r=null,n){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Qt(e):e,state:r,key:e&&e.key||n||lm()}}function Et({pathname:t="/",search:e="",hash:r=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Qt(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substring(r),t=t.substring(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substring(n),t=t.substring(0,n)),t&&(e.pathname=t)}return e}function cm(t,e,r,n={}){let{window:s=document.defaultView,v5Compat:i=!1}=n,a=s.history,o="POP",c=null,u=d();u==null&&(u=0,a.replaceState({...a.state,idx:u},""));function d(){return(a.state||{idx:null}).idx}function h(){o="POP";let b=d(),g=b==null?null:b-u;u=b,c&&c({action:o,location:y.location,delta:g})}function f(b,g){o="PUSH";let v=Mn(y.location,b,g);u=d()+1;let x=rl(v,u),k=y.createHref(v);try{a.pushState(x,"",k)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;s.location.assign(k)}i&&c&&c({action:o,location:y.location,delta:1})}function m(b,g){o="REPLACE";let v=Mn(y.location,b,g);u=d();let x=rl(v,u),k=y.createHref(v);a.replaceState(x,"",k),i&&c&&c({action:o,location:y.location,delta:0})}function p(b){return Du(b)}let y={get action(){return o},get location(){return t(s,a)},listen(b){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(tl,h),c=b,()=>{s.removeEventListener(tl,h),c=null}},createHref(b){return e(s,b)},createURL:p,encodeLocation(b){let g=p(b);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:f,replace:m,go(b){return a.go(b)}};return y}function Du(t,e=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),me(r,"No window.location.(origin|href) available to create URL");let n=typeof t=="string"?t:Et(t);return n=n.replace(/ $/,"%20"),!e&&n.startsWith("//")&&(n=r+n),new URL(n,r)}var kn,nl=class{constructor(t){if(am(this,kn,new Map),t)for(let[e,r]of t)this.set(e,r)}get(t){if(Ni(this,kn).has(t))return Ni(this,kn).get(t);if(t.defaultValue!==void 0)return t.defaultValue;throw new Error("No value found for context")}set(t,e){Ni(this,kn).set(t,e)}};kn=new WeakMap;var um=new Set(["lazy","caseSensitive","path","id","index","children"]);function dm(t){return um.has(t)}var hm=new Set(["lazy","caseSensitive","path","id","index","middleware","children"]);function fm(t){return hm.has(t)}function mm(t){return t.index===!0}function Fn(t,e,r=[],n={},s=!1){return t.map((i,a)=>{let o=[...r,String(a)],c=typeof i.id=="string"?i.id:o.join("-");if(me(i.index!==!0||!i.children,"Cannot specify children on an index route"),me(s||!n[c],`Found a route id collision on id "${c}".  Route id's must be globally unique within Data Router usages`),mm(i)){let u={...i,id:c};return n[c]=sl(u,e(u)),u}else{let u={...i,id:c,children:void 0};return n[c]=sl(u,e(u)),i.children&&(u.children=Fn(i.children,e,o,n,s)),u}})}function sl(t,e){return Object.assign(t,{...e,...typeof e.lazy=="object"&&e.lazy!=null?{lazy:{...t.lazy,...e.lazy}}:{}})}function Gt(t,e,r="/"){return Sn(t,e,r,!1)}function Sn(t,e,r,n){let s=typeof e=="string"?Qt(e):e,i=lt(s.pathname||"/",r);if(i==null)return null;let a=Lu(t);gm(a);let o=null;for(let c=0;o==null&&c<a.length;++c){let u=Em(i);o=Sm(a[c],u,n)}return o}function pm(t,e){let{route:r,pathname:n,params:s}=t;return{id:r.id,pathname:n,params:s,data:e[r.id],loaderData:e[r.id],handle:r.handle}}function Lu(t,e=[],r=[],n="",s=!1){let i=(a,o,c=s,u)=>{let d={relativePath:u===void 0?a.path||"":u,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};if(d.relativePath.startsWith("/")){if(!d.relativePath.startsWith(n)&&c)return;me(d.relativePath.startsWith(n),`Absolute route path "${d.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(n.length)}let h=St([n,d.relativePath]),f=r.concat(d);a.children&&a.children.length>0&&(me(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),Lu(a.children,e,f,h,c)),!(a.path==null&&!a.index)&&e.push({path:h,score:jm(h,a.index),routesMeta:f})};return t.forEach((a,o)=>{var c;if(a.path===""||!((c=a.path)!=null&&c.includes("?")))i(a,o);else for(let u of Ou(a.path))i(a,o,!0,u)}),e}function Ou(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let a=Ou(n.join("/")),o=[];return o.push(...a.map(c=>c===""?i:[i,c].join("/"))),s&&o.push(...a),o.map(c=>t.startsWith("/")&&c===""?"/":c)}function gm(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:km(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var ym=/^:[\w-]+$/,vm=3,xm=2,bm=1,wm=10,_m=-2,il=t=>t==="*";function jm(t,e){let r=t.split("/"),n=r.length;return r.some(il)&&(n+=_m),e&&(n+=xm),r.filter(s=>!il(s)).reduce((s,i)=>s+(ym.test(i)?vm:i===""?bm:wm),n)}function km(t,e){return t.length===e.length&&t.slice(0,-1).every((n,s)=>n===e[s])?t[t.length-1]-e[e.length-1]:0}function Sm(t,e,r=!1){let{routesMeta:n}=t,s={},i="/",a=[];for(let o=0;o<n.length;++o){let c=n[o],u=o===n.length-1,d=i==="/"?e:e.slice(i.length)||"/",h=Xs({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),f=c.route;if(!h&&u&&r&&!n[n.length-1].route.index&&(h=Xs({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!h)return null;Object.assign(s,h.params),a.push({params:s,pathname:St([i,h.pathname]),pathnameBase:Am(St([i,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(i=St([i,h.pathnameBase]))}return a}function Xs(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=Nm(t.path,t.caseSensitive,t.end),s=e.match(r);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),o=s.slice(1);return{params:n.reduce((u,{paramName:d,isOptional:h},f)=>{if(d==="*"){let p=o[f]||"";a=i.slice(0,i.length-p.length).replace(/(.)\/+$/,"$1")}const m=o[f];return h&&!m?u[d]=void 0:u[d]=(m||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:a,pattern:t}}function Nm(t,e=!1,r=!0){Pe(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let n=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,c)=>(n.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(n.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),n]}function Em(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Pe(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function lt(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function Tm({basename:t,pathname:e}){return e==="/"?t:St([t,e])}var Mu=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ja=t=>Mu.test(t);function Cm(t,e="/"){let{pathname:r,search:n="",hash:s=""}=typeof t=="string"?Qt(t):t,i;return r?(r=r.replace(/\/\/+/g,"/"),r.startsWith("/")?i=al(r.substring(1),"/"):i=al(r,e)):i=e,{pathname:i,search:Pm(n),hash:Rm(s)}}function al(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function Ei(t,e,r,n){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Fu(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function Xa(t){let e=Fu(t);return e.map((r,n)=>n===e.length-1?r.pathname:r.pathnameBase)}function Za(t,e,r,n=!1){let s;typeof t=="string"?s=Qt(t):(s={...t},me(!s.pathname||!s.pathname.includes("?"),Ei("?","pathname","search",s)),me(!s.pathname||!s.pathname.includes("#"),Ei("#","pathname","hash",s)),me(!s.search||!s.search.includes("#"),Ei("#","search","hash",s)));let i=t===""||s.pathname==="",a=i?"/":s.pathname,o;if(a==null)o=r;else{let h=e.length-1;if(!n&&a.startsWith("..")){let f=a.split("/");for(;f[0]==="..";)f.shift(),h-=1;s.pathname=f.join("/")}o=h>=0?e[h]:"/"}let c=Cm(s,o),u=a&&a!=="/"&&a.endsWith("/"),d=(i||a===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}var St=t=>t.join("/").replace(/\/\/+/g,"/"),Am=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Pm=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Rm=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,rs=class{constructor(t,e,r,n=!1){this.status=t,this.statusText=e||"",this.internal=n,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}};function Bn(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function ns(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var Bu=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function $u(t,e){let r=t;if(typeof r!="string"||!Mu.test(r))return{absoluteURL:void 0,isExternal:!1,to:r};let n=r,s=!1;if(Bu)try{let i=new URL(window.location.href),a=r.startsWith("//")?new URL(i.protocol+r):new URL(r),o=lt(a.pathname,e);a.origin===i.origin&&o!=null?r=o+a.search+a.hash:s=!0}catch{Pe(!1,`<Link to="${r}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:n,isExternal:s,to:r}}var Yt=Symbol("Uninstrumented");function Im(t,e){let r={lazy:[],"lazy.loader":[],"lazy.action":[],"lazy.middleware":[],middleware:[],loader:[],action:[]};t.forEach(s=>s({id:e.id,index:e.index,path:e.path,instrument(i){let a=Object.keys(r);for(let o of a)i[o]&&r[o].push(i[o])}}));let n={};if(typeof e.lazy=="function"&&r.lazy.length>0){let s=zr(r.lazy,e.lazy,()=>{});s&&(n.lazy=s)}if(typeof e.lazy=="object"){let s=e.lazy;["middleware","loader","action"].forEach(i=>{let a=s[i],o=r[`lazy.${i}`];if(typeof a=="function"&&o.length>0){let c=zr(o,a,()=>{});c&&(n.lazy=Object.assign(n.lazy||{},{[i]:c}))}})}return["loader","action"].forEach(s=>{let i=e[s];if(typeof i=="function"&&r[s].length>0){let a=i[Yt]??i,o=zr(r[s],a,(...c)=>ol(c[0]));o&&(s==="loader"&&a.hydrate===!0&&(o.hydrate=!0),o[Yt]=a,n[s]=o)}}),e.middleware&&e.middleware.length>0&&r.middleware.length>0&&(n.middleware=e.middleware.map(s=>{let i=s[Yt]??s,a=zr(r.middleware,i,(...o)=>ol(o[0]));return a?(a[Yt]=i,a):s})),n}function Dm(t,e){let r={navigate:[],fetch:[]};if(e.forEach(n=>n({instrument(s){let i=Object.keys(s);for(let a of i)s[a]&&r[a].push(s[a])}})),r.navigate.length>0){let n=t.navigate[Yt]??t.navigate,s=zr(r.navigate,n,(...i)=>{let[a,o]=i;return{to:typeof a=="number"||typeof a=="string"?a:a?Et(a):".",...ll(t,o??{})}});s&&(s[Yt]=n,t.navigate=s)}if(r.fetch.length>0){let n=t.fetch[Yt]??t.fetch,s=zr(r.fetch,n,(...i)=>{let[a,,o,c]=i;return{href:o??".",fetcherKey:a,...ll(t,c??{})}});s&&(s[Yt]=n,t.fetch=s)}return t}function zr(t,e,r){return t.length===0?null:async(...n)=>{let s=await Vu(t,r(...n),()=>e(...n),t.length-1);if(s.type==="error")throw s.value;return s.value}}async function Vu(t,e,r,n){let s=t[n],i;if(s){let a,o=async()=>(a?console.error("You cannot call instrumented handlers more than once"):a=Vu(t,e,r,n-1),i=await a,me(i,"Expected a result"),i.type==="error"&&i.value instanceof Error?{status:"error",error:i.value}:{status:"success",error:void 0});try{await s(o,e)}catch(c){console.error("An instrumentation function threw an error:",c)}a||await o(),await a}else try{i={type:"success",value:await r()}}catch(a){i={type:"error",value:a}}return i||{type:"error",value:new Error("No result assigned in instrumentation chain.")}}function ol(t){let{request:e,context:r,params:n,unstable_pattern:s}=t;return{request:Lm(e),params:{...n},unstable_pattern:s,context:Om(r)}}function ll(t,e){return{currentUrl:Et(t.state.location),..."formMethod"in e?{formMethod:e.formMethod}:{},..."formEncType"in e?{formEncType:e.formEncType}:{},..."formData"in e?{formData:e.formData}:{},..."body"in e?{body:e.body}:{}}}function Lm(t){return{method:t.method,url:t.url,headers:{get:(...e)=>t.headers.get(...e)}}}function Om(t){if(Fm(t)){let e={...t};return Object.freeze(e),e}else return{get:e=>t.get(e)}}var Mm=Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Fm(t){if(t===null||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);return e===Object.prototype||e===null||Object.getOwnPropertyNames(e).sort().join("\0")===Mm}var Uu=["POST","PUT","PATCH","DELETE"],Bm=new Set(Uu),$m=["GET",...Uu],Vm=new Set($m),zu=new Set([301,302,303,307,308]),Um=new Set([307,308]),Ti={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},zm={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},vn={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Wm=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),Wu="remix-router-transitions",Hu=Symbol("ResetLoaderData");function Hm(t){const e=t.window?t.window:typeof window<"u"?window:void 0,r=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";me(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let n=t.hydrationRouteProperties||[],s=t.mapRouteProperties||Wm,i=s;if(t.unstable_instrumentations){let N=t.unstable_instrumentations;i=C=>({...s(C),...Im(N.map(A=>A.route).filter(Boolean),C)})}let a={},o=Fn(t.routes,i,void 0,a),c,u=t.basename||"/";u.startsWith("/")||(u=`/${u}`);let d=t.dataStrategy||Jm,h={...t.future},f=null,m=new Set,p=null,y=null,b=null,g=t.hydrationData!=null,v=Gt(o,t.history.location,u),x=!1,k=null,S;if(v==null&&!t.patchRoutesOnNavigation){let N=it(404,{pathname:t.history.location.pathname}),{matches:C,route:A}=Es(o);S=!0,v=C,k={[A.id]:N}}else if(v&&!t.hydrationData&&Tr(v,o,t.history.location.pathname).active&&(v=null),v)if(v.some(N=>N.route.lazy))S=!1;else if(!v.some(N=>Qa(N.route)))S=!0;else{let N=t.hydrationData?t.hydrationData.loaderData:null,C=t.hydrationData?t.hydrationData.errors:null;if(C){let A=v.findIndex(R=>C[R.route.id]!==void 0);S=v.slice(0,A+1).every(R=>!aa(R.route,N,C))}else S=v.every(A=>!aa(A.route,N,C))}else{S=!1,v=[];let N=Tr(null,o,t.history.location.pathname);N.active&&N.matches&&(x=!0,v=N.matches)}let T,_={historyAction:t.history.action,location:t.history.location,matches:v,initialized:S,navigation:Ti,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||k,fetchers:new Map,blockers:new Map},j="POP",E=null,D=!1,M,$=!1,F=new Map,X=null,le=!1,re=!1,G=new Set,P=new Map,ue=0,fe=-1,q=new Map,de=new Set,ie=new Map,se=new Map,ge=new Set,ke=new Map,Q,be=null;function Le(){if(f=t.history.listen(({action:N,location:C,delta:A})=>{if(Q){Q(),Q=void 0;return}Pe(ke.size===0||A!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let R=fn({currentLocation:_.location,nextLocation:C,historyAction:N});if(R&&A!=null){let L=new Promise(K=>{Q=K});t.history.go(A*-1),Nr(R,{state:"blocked",location:C,proceed(){Nr(R,{state:"proceeding",proceed:void 0,reset:void 0,location:C}),L.then(()=>t.history.go(A))},reset(){let K=new Map(_.blockers);K.set(R,vn),O({blockers:K})}}),E==null||E.resolve(),E=null;return}return Be(N,C)}),r){mp(e,F);let N=()=>pp(e,F);e.addEventListener("pagehide",N),X=()=>e.removeEventListener("pagehide",N)}return _.initialized||Be("POP",_.location,{initialHydration:!0}),T}function ee(){f&&f(),X&&X(),m.clear(),M&&M.abort(),_.fetchers.forEach((N,C)=>rr(C)),_.blockers.forEach((N,C)=>hn(C))}function pe(N){return m.add(N),()=>m.delete(N)}function O(N,C={}){N.matches&&(N.matches=N.matches.map(L=>{let K=a[L.route.id],Z=L.route;return Z.element!==K.element||Z.errorElement!==K.errorElement||Z.hydrateFallbackElement!==K.hydrateFallbackElement?{...L,route:K}:L})),_={..._,...N};let A=[],R=[];_.fetchers.forEach((L,K)=>{L.state==="idle"&&(ge.has(K)?A.push(K):R.push(K))}),ge.forEach(L=>{!_.fetchers.has(L)&&!P.has(L)&&A.push(L)}),[...m].forEach(L=>L(_,{deletedFetchers:A,newErrors:N.errors??null,viewTransitionOpts:C.viewTransitionOpts,flushSync:C.flushSync===!0})),A.forEach(L=>rr(L)),R.forEach(L=>_.fetchers.delete(L))}function ve(N,C,{flushSync:A}={}){var oe,Y;let R=_.actionData!=null&&_.navigation.formMethod!=null&&qe(_.navigation.formMethod)&&_.navigation.state==="loading"&&((oe=N.state)==null?void 0:oe._isRedirect)!==!0,L;C.actionData?Object.keys(C.actionData).length>0?L=C.actionData:L=null:R?L=_.actionData:L=null;let K=C.loaderData?vl(_.loaderData,C.loaderData,C.matches||[],C.errors):_.loaderData,Z=_.blockers;Z.size>0&&(Z=new Map(Z),Z.forEach((ce,ye)=>Z.set(ye,vn)));let B=le?!1:mn(N,C.matches||_.matches),W=D===!0||_.navigation.formMethod!=null&&qe(_.navigation.formMethod)&&((Y=N.state)==null?void 0:Y._isRedirect)!==!0;c&&(o=c,c=void 0),le||j==="POP"||(j==="PUSH"?t.history.push(N,N.state):j==="REPLACE"&&t.history.replace(N,N.state));let J;if(j==="POP"){let ce=F.get(_.location.pathname);ce&&ce.has(N.pathname)?J={currentLocation:_.location,nextLocation:N}:F.has(N.pathname)&&(J={currentLocation:N,nextLocation:_.location})}else if($){let ce=F.get(_.location.pathname);ce?ce.add(N.pathname):(ce=new Set([N.pathname]),F.set(_.location.pathname,ce)),J={currentLocation:_.location,nextLocation:N}}O({...C,actionData:L,loaderData:K,historyAction:j,location:N,initialized:!0,navigation:Ti,revalidation:"idle",restoreScrollPosition:B,preventScrollReset:W,blockers:Z},{viewTransitionOpts:J,flushSync:A===!0}),j="POP",D=!1,$=!1,le=!1,re=!1,E==null||E.resolve(),E=null,be==null||be.resolve(),be=null}async function Se(N,C){if(E==null||E.resolve(),E=null,typeof N=="number"){E||(E=_l());let ye=E.promise;return t.history.go(N),ye}let A=ia(_.location,_.matches,u,N,C==null?void 0:C.fromRouteId,C==null?void 0:C.relative),{path:R,submission:L,error:K}=cl(!1,A,C),Z=_.location,B=Mn(_.location,R,C&&C.state);B={...B,...t.history.encodeLocation(B)};let W=C&&C.replace!=null?C.replace:void 0,J="PUSH";W===!0?J="REPLACE":W===!1||L!=null&&qe(L.formMethod)&&L.formAction===_.location.pathname+_.location.search&&(J="REPLACE");let oe=C&&"preventScrollReset"in C?C.preventScrollReset===!0:void 0,Y=(C&&C.flushSync)===!0,ce=fn({currentLocation:Z,nextLocation:B,historyAction:J});if(ce){Nr(ce,{state:"blocked",location:B,proceed(){Nr(ce,{state:"proceeding",proceed:void 0,reset:void 0,location:B}),Se(N,C)},reset(){let ye=new Map(_.blockers);ye.set(ce,vn),O({blockers:ye})}});return}await Be(J,B,{submission:L,pendingError:K,preventScrollReset:oe,replace:C&&C.replace,enableViewTransition:C&&C.viewTransition,flushSync:Y,callSiteDefaultShouldRevalidate:C&&C.unstable_defaultShouldRevalidate})}function Ve(){be||(be=_l()),kr(),O({revalidation:"loading"});let N=be.promise;return _.navigation.state==="submitting"?N:_.navigation.state==="idle"?(Be(_.historyAction,_.location,{startUninterruptedRevalidation:!0}),N):(Be(j||_.historyAction,_.navigation.location,{overrideNavigation:_.navigation,enableViewTransition:$===!0}),N)}async function Be(N,C,A){M&&M.abort(),M=null,j=N,le=(A&&A.startUninterruptedRevalidation)===!0,ws(_.location,_.matches),D=(A&&A.preventScrollReset)===!0,$=(A&&A.enableViewTransition)===!0;let R=c||o,L=A&&A.overrideNavigation,K=A!=null&&A.initialHydration&&_.matches&&_.matches.length>0&&!x?_.matches:Gt(R,C,u),Z=(A&&A.flushSync)===!0;if(K&&_.initialized&&!re&&sp(_.location,C)&&!(A&&A.submission&&qe(A.submission.formMethod))){ve(C,{matches:K},{flushSync:Z});return}let B=Tr(K,R,C.pathname);if(B.active&&B.matches&&(K=B.matches),!K){let{error:$e,notFoundMatches:Ye,route:we}=Er(C.pathname);ve(C,{matches:Ye,loaderData:{},errors:{[we.id]:$e}},{flushSync:Z});return}M=new AbortController;let W=Fr(t.history,C,M.signal,A&&A.submission),J=t.getContext?await t.getContext():new nl,oe;if(A&&A.pendingError)oe=[qt(K).route.id,{type:"error",error:A.pendingError}];else if(A&&A.submission&&qe(A.submission.formMethod)){let $e=await ut(W,C,A.submission,K,J,B.active,A&&A.initialHydration===!0,{replace:A.replace,flushSync:Z});if($e.shortCircuited)return;if($e.pendingActionResult){let[Ye,we]=$e.pendingActionResult;if(et(we)&&Bn(we.error)&&we.error.status===404){M=null,ve(C,{matches:$e.matches,loaderData:{},errors:{[Ye]:we.error}});return}}K=$e.matches||K,oe=$e.pendingActionResult,L=Ci(C,A.submission),Z=!1,B.active=!1,W=Fr(t.history,W.url,W.signal)}let{shortCircuited:Y,matches:ce,loaderData:ye,errors:Ue}=await Pt(W,C,K,J,B.active,L,A&&A.submission,A&&A.fetcherSubmission,A&&A.replace,A&&A.initialHydration===!0,Z,oe,A&&A.callSiteDefaultShouldRevalidate);Y||(M=null,ve(C,{matches:ce||K,...xl(oe),loaderData:ye,errors:Ue}))}async function ut(N,C,A,R,L,K,Z,B={}){kr();let W=hp(C,A);if(O({navigation:W},{flushSync:B.flushSync===!0}),K){let Y=await _s(R,C.pathname,N.signal);if(Y.type==="aborted")return{shortCircuited:!0};if(Y.type==="error"){if(Y.partialMatches.length===0){let{matches:ye,route:Ue}=Es(o);return{matches:ye,pendingActionResult:[Ue.id,{type:"error",error:Y.error}]}}let ce=qt(Y.partialMatches).route.id;return{matches:Y.partialMatches,pendingActionResult:[ce,{type:"error",error:Y.error}]}}else if(Y.matches)R=Y.matches;else{let{notFoundMatches:ce,error:ye,route:Ue}=Er(C.pathname);return{matches:ce,pendingActionResult:[Ue.id,{type:"error",error:ye}]}}}let J,oe=Us(R,C);if(!oe.route.action&&!oe.route.lazy)J={type:"error",error:it(405,{method:N.method,pathname:C.pathname,routeId:oe.route.id})};else{let Y=Jr(i,a,N,R,oe,Z?[]:n,L),ce=await $t(N,Y,L,null);if(J=ce[oe.route.id],!J){for(let ye of R)if(ce[ye.route.id]){J=ce[ye.route.id];break}}if(N.signal.aborted)return{shortCircuited:!0}}if(mr(J)){let Y;return B&&B.replace!=null?Y=B.replace:Y=pl(J.response.headers.get("Location"),new URL(N.url),u,t.history)===_.location.pathname+_.location.search,await _t(N,J,!0,{submission:A,replace:Y}),{shortCircuited:!0}}if(et(J)){let Y=qt(R,oe.route.id);return(B&&B.replace)!==!0&&(j="PUSH"),{matches:R,pendingActionResult:[Y.route.id,J,oe.route.id]}}return{matches:R,pendingActionResult:[oe.route.id,J]}}async function Pt(N,C,A,R,L,K,Z,B,W,J,oe,Y,ce){let ye=K||Ci(C,Z),Ue=Z||B||wl(ye),$e=!le&&!J;if(L){if($e){let Ge=dt(Y);O({navigation:ye,...Ge!==void 0?{actionData:Ge}:{}},{flushSync:oe})}let xe=await _s(A,C.pathname,N.signal);if(xe.type==="aborted")return{shortCircuited:!0};if(xe.type==="error"){if(xe.partialMatches.length===0){let{matches:Cr,route:ir}=Es(o);return{matches:Cr,loaderData:{},errors:{[ir.id]:xe.error}}}let Ge=qt(xe.partialMatches).route.id;return{matches:xe.partialMatches,loaderData:{},errors:{[Ge]:xe.error}}}else if(xe.matches)A=xe.matches;else{let{error:Ge,notFoundMatches:Cr,route:ir}=Er(C.pathname);return{matches:Cr,loaderData:{},errors:{[ir.id]:Ge}}}}let Ye=c||o,{dsMatches:we,revalidatingFetchers:st}=ul(N,R,i,a,t.history,_,A,Ue,C,J?[]:n,J===!0,re,G,ge,ie,de,Ye,u,t.patchRoutesOnNavigation!=null,Y,ce);if(fe=++ue,!t.dataStrategy&&!we.some(xe=>xe.shouldLoad)&&!we.some(xe=>xe.route.middleware&&xe.route.middleware.length>0)&&st.length===0){let xe=ys();return ve(C,{matches:A,loaderData:{},errors:Y&&et(Y[1])?{[Y[0]]:Y[1].error}:null,...xl(Y),...xe?{fetchers:new Map(_.fetchers)}:{}},{flushSync:oe}),{shortCircuited:!0}}if($e){let xe={};if(!L){xe.navigation=ye;let Ge=dt(Y);Ge!==void 0&&(xe.actionData=Ge)}st.length>0&&(xe.fetchers=Rt(st)),O(xe,{flushSync:oe})}st.forEach(xe=>{ft(xe.key),xe.controller&&P.set(xe.key,xe.controller)});let nr=()=>st.forEach(xe=>ft(xe.key));M&&M.signal.addEventListener("abort",nr);let{loaderResults:pn,fetcherResults:Vt}=await ps(we,st,N,R);if(N.signal.aborted)return{shortCircuited:!0};M&&M.signal.removeEventListener("abort",nr),st.forEach(xe=>P.delete(xe.key));let jt=Ts(pn);if(jt)return await _t(N,jt.result,!0,{replace:W}),{shortCircuited:!0};if(jt=Ts(Vt),jt)return de.add(jt.key),await _t(N,jt.result,!0,{replace:W}),{shortCircuited:!0};let{loaderData:ki,errors:gn}=yl(_,A,pn,Y,st,Vt);J&&_.errors&&(gn={..._.errors,...gn});let sr=ys(),js=vs(fe),ks=sr||js||st.length>0;return{matches:A,loaderData:ki,errors:gn,...ks?{fetchers:new Map(_.fetchers)}:{}}}function dt(N){if(N&&!et(N[1]))return{[N[0]]:N[1].data};if(_.actionData)return Object.keys(_.actionData).length===0?null:_.actionData}function Rt(N){return N.forEach(C=>{let A=_.fetchers.get(C.key),R=xn(void 0,A?A.data:void 0);_.fetchers.set(C.key,R)}),new Map(_.fetchers)}async function tr(N,C,A,R){ft(N);let L=(R&&R.flushSync)===!0,K=c||o,Z=ia(_.location,_.matches,u,A,C,R==null?void 0:R.relative),B=Gt(K,Z,u),W=Tr(B,K,Z);if(W.active&&W.matches&&(B=W.matches),!B){Ze(N,C,it(404,{pathname:Z}),{flushSync:L});return}let{path:J,submission:oe,error:Y}=cl(!0,Z,R);if(Y){Ze(N,C,Y,{flushSync:L});return}let ce=t.getContext?await t.getContext():new nl,ye=(R&&R.preventScrollReset)===!0;if(oe&&qe(oe.formMethod)){await cn(N,C,J,B,ce,W.active,L,ye,oe,R&&R.unstable_defaultShouldRevalidate);return}ie.set(N,{routeId:C,path:J}),await un(N,C,J,B,ce,W.active,L,ye,oe)}async function cn(N,C,A,R,L,K,Z,B,W,J){kr(),ie.delete(N);let oe=_.fetchers.get(N);ht(N,fp(W,oe),{flushSync:Z});let Y=new AbortController,ce=Fr(t.history,A,Y.signal,W);if(K){let Te=await _s(R,new URL(ce.url).pathname,ce.signal,N);if(Te.type==="aborted")return;if(Te.type==="error"){Ze(N,C,Te.error,{flushSync:Z});return}else if(Te.matches)R=Te.matches;else{Ze(N,C,it(404,{pathname:A}),{flushSync:Z});return}}let ye=Us(R,A);if(!ye.route.action&&!ye.route.lazy){let Te=it(405,{method:W.formMethod,pathname:A,routeId:C});Ze(N,C,Te,{flushSync:Z});return}P.set(N,Y);let Ue=ue,$e=Jr(i,a,ce,R,ye,n,L),Ye=await $t(ce,$e,L,N),we=Ye[ye.route.id];if(!we){for(let Te of $e)if(Ye[Te.route.id]){we=Ye[Te.route.id];break}}if(ce.signal.aborted){P.get(N)===Y&&P.delete(N);return}if(ge.has(N)){if(mr(we)||et(we)){ht(N,Lt(void 0));return}}else{if(mr(we))if(P.delete(N),fe>Ue){ht(N,Lt(void 0));return}else return de.add(N),ht(N,xn(W)),_t(ce,we,!1,{fetcherSubmission:W,preventScrollReset:B});if(et(we)){Ze(N,C,we.error);return}}let st=_.navigation.location||_.location,nr=Fr(t.history,st,Y.signal),pn=c||o,Vt=_.navigation.state!=="idle"?Gt(pn,_.navigation.location,u):_.matches;me(Vt,"Didn't find any matches after fetcher action");let jt=++ue;q.set(N,jt);let ki=xn(W,we.data);_.fetchers.set(N,ki);let{dsMatches:gn,revalidatingFetchers:sr}=ul(nr,L,i,a,t.history,_,Vt,W,st,n,!1,re,G,ge,ie,de,pn,u,t.patchRoutesOnNavigation!=null,[ye.route.id,we],J);sr.filter(Te=>Te.key!==N).forEach(Te=>{let Ss=Te.key,Xo=_.fetchers.get(Ss),Yf=xn(void 0,Xo?Xo.data:void 0);_.fetchers.set(Ss,Yf),ft(Ss),Te.controller&&P.set(Ss,Te.controller)}),O({fetchers:new Map(_.fetchers)});let js=()=>sr.forEach(Te=>ft(Te.key));Y.signal.addEventListener("abort",js);let{loaderResults:ks,fetcherResults:xe}=await ps(gn,sr,nr,L);if(Y.signal.aborted)return;if(Y.signal.removeEventListener("abort",js),q.delete(N),P.delete(N),sr.forEach(Te=>P.delete(Te.key)),_.fetchers.has(N)){let Te=Lt(we.data);_.fetchers.set(N,Te)}let Ge=Ts(ks);if(Ge)return _t(nr,Ge.result,!1,{preventScrollReset:B});if(Ge=Ts(xe),Ge)return de.add(Ge.key),_t(nr,Ge.result,!1,{preventScrollReset:B});let{loaderData:Cr,errors:ir}=yl(_,Vt,ks,void 0,sr,xe);vs(jt),_.navigation.state==="loading"&&jt>fe?(me(j,"Expected pending action"),M&&M.abort(),ve(_.navigation.location,{matches:Vt,loaderData:Cr,errors:ir,fetchers:new Map(_.fetchers)})):(O({errors:ir,loaderData:vl(_.loaderData,Cr,Vt,ir),fetchers:new Map(_.fetchers)}),re=!1)}async function un(N,C,A,R,L,K,Z,B,W){let J=_.fetchers.get(N);ht(N,xn(W,J?J.data:void 0),{flushSync:Z});let oe=new AbortController,Y=Fr(t.history,A,oe.signal);if(K){let we=await _s(R,new URL(Y.url).pathname,Y.signal,N);if(we.type==="aborted")return;if(we.type==="error"){Ze(N,C,we.error,{flushSync:Z});return}else if(we.matches)R=we.matches;else{Ze(N,C,it(404,{pathname:A}),{flushSync:Z});return}}let ce=Us(R,A);P.set(N,oe);let ye=ue,Ue=Jr(i,a,Y,R,ce,n,L),Ye=(await $t(Y,Ue,L,N))[ce.route.id];if(P.get(N)===oe&&P.delete(N),!Y.signal.aborted){if(ge.has(N)){ht(N,Lt(void 0));return}if(mr(Ye))if(fe>ye){ht(N,Lt(void 0));return}else{de.add(N),await _t(Y,Ye,!1,{preventScrollReset:B});return}if(et(Ye)){Ze(N,C,Ye.error);return}ht(N,Lt(Ye.data))}}async function _t(N,C,A,{submission:R,fetcherSubmission:L,preventScrollReset:K,replace:Z}={}){A||(E==null||E.resolve(),E=null),C.response.headers.has("X-Remix-Revalidate")&&(re=!0);let B=C.response.headers.get("Location");me(B,"Expected a Location header on the redirect Response"),B=pl(B,new URL(N.url),u,t.history);let W=Mn(_.location,B,{_isRedirect:!0});if(r){let Ue=!1;if(C.response.headers.has("X-Remix-Reload-Document"))Ue=!0;else if(Ja(B)){const $e=Du(B,!0);Ue=$e.origin!==e.location.origin||lt($e.pathname,u)==null}if(Ue){Z?e.location.replace(B):e.location.assign(B);return}}M=null;let J=Z===!0||C.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:oe,formAction:Y,formEncType:ce}=_.navigation;!R&&!L&&oe&&Y&&ce&&(R=wl(_.navigation));let ye=R||L;if(Um.has(C.response.status)&&ye&&qe(ye.formMethod))await Be(J,W,{submission:{...ye,formAction:B},preventScrollReset:K||D,enableViewTransition:A?$:void 0});else{let Ue=Ci(W,R);await Be(J,W,{overrideNavigation:Ue,fetcherSubmission:L,preventScrollReset:K||D,enableViewTransition:A?$:void 0})}}async function $t(N,C,A,R){var Z;let L,K={};try{L=await Zm(d,N,C,R,A,!1)}catch(B){return C.filter(W=>W.shouldLoad).forEach(W=>{K[W.route.id]={type:"error",error:B}}),K}if(N.signal.aborted)return K;if(!qe(N.method))for(let B of C){if(((Z=L[B.route.id])==null?void 0:Z.type)==="error")break;!L.hasOwnProperty(B.route.id)&&!_.loaderData.hasOwnProperty(B.route.id)&&(!_.errors||!_.errors.hasOwnProperty(B.route.id))&&B.shouldCallHandler()&&(L[B.route.id]={type:"error",result:new Error(`No result returned from dataStrategy for route ${B.route.id}`)})}for(let[B,W]of Object.entries(L))if(lp(W)){let J=W.result;K[B]={type:"redirect",response:rp(J,N,B,C,u)}}else K[B]=await tp(W);return K}async function ps(N,C,A,R){let L=$t(A,N,R,null),K=Promise.all(C.map(async W=>{if(W.matches&&W.match&&W.request&&W.controller){let oe=(await $t(W.request,W.matches,R,W.key))[W.match.route.id];return{[W.key]:oe}}else return Promise.resolve({[W.key]:{type:"error",error:it(404,{pathname:W.path})}})})),Z=await L,B=(await K).reduce((W,J)=>Object.assign(W,J),{});return{loaderResults:Z,fetcherResults:B}}function kr(){re=!0,ie.forEach((N,C)=>{P.has(C)&&G.add(C),ft(C)})}function ht(N,C,A={}){_.fetchers.set(N,C),O({fetchers:new Map(_.fetchers)},{flushSync:(A&&A.flushSync)===!0})}function Ze(N,C,A,R={}){let L=qt(_.matches,C);rr(N),O({errors:{[L.route.id]:A},fetchers:new Map(_.fetchers)},{flushSync:(R&&R.flushSync)===!0})}function It(N){return se.set(N,(se.get(N)||0)+1),ge.has(N)&&ge.delete(N),_.fetchers.get(N)||zm}function dn(N,C){ft(N,C==null?void 0:C.reason),ht(N,Lt(null))}function rr(N){let C=_.fetchers.get(N);P.has(N)&&!(C&&C.state==="loading"&&q.has(N))&&ft(N),ie.delete(N),q.delete(N),de.delete(N),ge.delete(N),G.delete(N),_.fetchers.delete(N)}function Sr(N){let C=(se.get(N)||0)-1;C<=0?(se.delete(N),ge.add(N)):se.set(N,C),O({fetchers:new Map(_.fetchers)})}function ft(N,C){let A=P.get(N);A&&(A.abort(C),P.delete(N))}function gs(N){for(let C of N){let A=It(C),R=Lt(A.data);_.fetchers.set(C,R)}}function ys(){let N=[],C=!1;for(let A of de){let R=_.fetchers.get(A);me(R,`Expected fetcher: ${A}`),R.state==="loading"&&(de.delete(A),N.push(A),C=!0)}return gs(N),C}function vs(N){let C=[];for(let[A,R]of q)if(R<N){let L=_.fetchers.get(A);me(L,`Expected fetcher: ${A}`),L.state==="loading"&&(ft(A),q.delete(A),C.push(A))}return gs(C),C.length>0}function ji(N,C){let A=_.blockers.get(N)||vn;return ke.get(N)!==C&&ke.set(N,C),A}function hn(N){_.blockers.delete(N),ke.delete(N)}function Nr(N,C){let A=_.blockers.get(N)||vn;me(A.state==="unblocked"&&C.state==="blocked"||A.state==="blocked"&&C.state==="blocked"||A.state==="blocked"&&C.state==="proceeding"||A.state==="blocked"&&C.state==="unblocked"||A.state==="proceeding"&&C.state==="unblocked",`Invalid blocker state transition: ${A.state} -> ${C.state}`);let R=new Map(_.blockers);R.set(N,C),O({blockers:R})}function fn({currentLocation:N,nextLocation:C,historyAction:A}){if(ke.size===0)return;ke.size>1&&Pe(!1,"A router only supports one blocker at a time");let R=Array.from(ke.entries()),[L,K]=R[R.length-1],Z=_.blockers.get(L);if(!(Z&&Z.state==="proceeding")&&K({currentLocation:N,nextLocation:C,historyAction:A}))return L}function Er(N){let C=it(404,{pathname:N}),A=c||o,{matches:R,route:L}=Es(A);return{notFoundMatches:R,route:L,error:C}}function xs(N,C,A){if(p=N,b=C,y=A||null,!g&&_.navigation===Ti){g=!0;let R=mn(_.location,_.matches);R!=null&&O({restoreScrollPosition:R})}return()=>{p=null,b=null,y=null}}function bs(N,C){return y&&y(N,C.map(R=>pm(R,_.loaderData)))||N.key}function ws(N,C){if(p&&b){let A=bs(N,C);p[A]=b()}}function mn(N,C){if(p){let A=bs(N,C),R=p[A];if(typeof R=="number")return R}return null}function Tr(N,C,A){if(t.patchRoutesOnNavigation)if(N){if(Object.keys(N[0].params).length>0)return{active:!0,matches:Sn(C,A,u,!0)}}else return{active:!0,matches:Sn(C,A,u,!0)||[]};return{active:!1,matches:null}}async function _s(N,C,A,R){if(!t.patchRoutesOnNavigation)return{type:"success",matches:N};let L=N;for(;;){let K=c==null,Z=c||o,B=a;try{await t.patchRoutesOnNavigation({signal:A,path:C,matches:L,fetcherKey:R,patch:(oe,Y)=>{A.aborted||dl(oe,Y,Z,B,i,!1)}})}catch(oe){return{type:"error",error:oe,partialMatches:L}}finally{K&&!A.aborted&&(o=[...o])}if(A.aborted)return{type:"aborted"};let W=Gt(Z,C,u),J=null;if(W){if(Object.keys(W[0].params).length===0)return{type:"success",matches:W};if(J=Sn(Z,C,u,!0),!(J&&L.length<J.length&&Jo(L,J.slice(0,L.length))))return{type:"success",matches:W}}if(J||(J=Sn(Z,C,u,!0)),!J||Jo(L,J))return{type:"success",matches:null};L=J}}function Jo(N,C){return N.length===C.length&&N.every((A,R)=>A.route.id===C[R].route.id)}function qf(N){a={},c=Fn(N,i,void 0,a)}function Kf(N,C,A=!1){let R=c==null;dl(N,C,c||o,a,i,A),R&&(o=[...o],O({}))}return T={get basename(){return u},get future(){return h},get state(){return _},get routes(){return o},get window(){return e},initialize:Le,subscribe:pe,enableScrollRestoration:xs,navigate:Se,fetch:tr,revalidate:Ve,createHref:N=>t.history.createHref(N),encodeLocation:N=>t.history.encodeLocation(N),getFetcher:It,resetFetcher:dn,deleteFetcher:Sr,dispose:ee,getBlocker:ji,deleteBlocker:hn,patchRoutes:Kf,_internalFetchControllers:P,_internalSetRoutes:qf,_internalSetStateDoNotUseOrYouWillBreakYourApp(N){O(N)}},t.unstable_instrumentations&&(T=Dm(T,t.unstable_instrumentations.map(N=>N.router).filter(Boolean))),T}function Gm(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function ia(t,e,r,n,s,i){let a,o;if(s){a=[];for(let u of e)if(a.push(u),u.route.id===s){o=u;break}}else a=e,o=e[e.length-1];let c=Za(n||".",Xa(a),lt(t.pathname,r)||t.pathname,i==="path");if(n==null&&(c.search=t.search,c.hash=t.hash),(n==null||n===""||n===".")&&o){let u=to(c.search);if(o.route.index&&!u)c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index";else if(!o.route.index&&u){let d=new URLSearchParams(c.search),h=d.getAll("index");d.delete("index"),h.filter(m=>m).forEach(m=>d.append("index",m));let f=d.toString();c.search=f?`?${f}`:""}}return r!=="/"&&(c.pathname=Tm({basename:r,pathname:c.pathname})),Et(c)}function cl(t,e,r){if(!r||!Gm(r))return{path:e};if(r.formMethod&&!dp(r.formMethod))return{path:e,error:it(405,{method:r.formMethod})};let n=()=>({path:e,error:it(400,{type:"invalid-body"})}),i=(r.formMethod||"get").toUpperCase(),a=Xu(e);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!qe(i))return n();let h=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((f,[m,p])=>`${f}${m}=${p}
`,""):String(r.body);return{path:e,submission:{formMethod:i,formAction:a,formEncType:r.formEncType,formData:void 0,json:void 0,text:h}}}else if(r.formEncType==="application/json"){if(!qe(i))return n();try{let h=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:e,submission:{formMethod:i,formAction:a,formEncType:r.formEncType,formData:void 0,json:h,text:void 0}}}catch{return n()}}}me(typeof FormData=="function","FormData is not available in this environment");let o,c;if(r.formData)o=la(r.formData),c=r.formData;else if(r.body instanceof FormData)o=la(r.body),c=r.body;else if(r.body instanceof URLSearchParams)o=r.body,c=gl(o);else if(r.body==null)o=new URLSearchParams,c=new FormData;else try{o=new URLSearchParams(r.body),c=gl(o)}catch{return n()}let u={formMethod:i,formAction:a,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:c,json:void 0,text:void 0};if(qe(u.formMethod))return{path:e,submission:u};let d=Qt(e);return t&&d.search&&to(d.search)&&o.append("index",""),d.search=`?${o}`,{path:Et(d),submission:u}}function ul(t,e,r,n,s,i,a,o,c,u,d,h,f,m,p,y,b,g,v,x,k){var le;let S=x?et(x[1])?x[1].error:x[1].data:void 0,T=s.createURL(i.location),_=s.createURL(c),j;if(d&&i.errors){let re=Object.keys(i.errors)[0];j=a.findIndex(G=>G.route.id===re)}else if(x&&et(x[1])){let re=x[0];j=a.findIndex(G=>G.route.id===re)-1}let E=x?x[1].statusCode:void 0,D=E&&E>=400,M={currentUrl:T,currentParams:((le=i.matches[0])==null?void 0:le.params)||{},nextUrl:_,nextParams:a[0].params,...o,actionResult:S,actionStatus:E},$=ns(a),F=a.map((re,G)=>{let{route:P}=re,ue=null;if(j!=null&&G>j?ue=!1:P.lazy?ue=!0:Qa(P)?d?ue=aa(P,i.loaderData,i.errors):qm(i.loaderData,i.matches[G],re)&&(ue=!0):ue=!1,ue!==null)return oa(r,n,t,$,re,u,e,ue);let fe=!1;typeof k=="boolean"?fe=k:D?fe=!1:(h||T.pathname+T.search===_.pathname+_.search||T.search!==_.search||Km(i.matches[G],re))&&(fe=!0);let q={...M,defaultShouldRevalidate:fe},de=Cn(re,q);return oa(r,n,t,$,re,u,e,de,q,k)}),X=[];return p.forEach((re,G)=>{if(d||!a.some(ge=>ge.route.id===re.routeId)||m.has(G))return;let P=i.fetchers.get(G),ue=P&&P.state!=="idle"&&P.data===void 0,fe=Gt(b,re.path,g);if(!fe){if(v&&ue)return;X.push({key:G,routeId:re.routeId,path:re.path,matches:null,match:null,request:null,controller:null});return}if(y.has(G))return;let q=Us(fe,re.path),de=new AbortController,ie=Fr(s,re.path,de.signal),se=null;if(f.has(G))f.delete(G),se=Jr(r,n,ie,fe,q,u,e);else if(ue)h&&(se=Jr(r,n,ie,fe,q,u,e));else{let ge;typeof k=="boolean"?ge=k:D?ge=!1:ge=h;let ke={...M,defaultShouldRevalidate:ge};Cn(q,ke)&&(se=Jr(r,n,ie,fe,q,u,e,ke))}se&&X.push({key:G,routeId:re.routeId,path:re.path,matches:se,match:q,request:ie,controller:de})}),{dsMatches:F,revalidatingFetchers:X}}function Qa(t){return t.loader!=null||t.middleware!=null&&t.middleware.length>0}function aa(t,e,r){if(t.lazy)return!0;if(!Qa(t))return!1;let n=e!=null&&t.id in e,s=r!=null&&r[t.id]!==void 0;return!n&&s?!1:typeof t.loader=="function"&&t.loader.hydrate===!0?!0:!n&&!s}function qm(t,e,r){let n=!e||r.route.id!==e.route.id,s=!t.hasOwnProperty(r.route.id);return n||s}function Km(t,e){let r=t.route.path;return t.pathname!==e.pathname||r!=null&&r.endsWith("*")&&t.params["*"]!==e.params["*"]}function Cn(t,e){if(t.route.shouldRevalidate){let r=t.route.shouldRevalidate(e);if(typeof r=="boolean")return r}return e.defaultShouldRevalidate}function dl(t,e,r,n,s,i){let a;if(t){let u=n[t];me(u,`No route found to patch children into: routeId = ${t}`),u.children||(u.children=[]),a=u.children}else a=r;let o=[],c=[];if(e.forEach(u=>{let d=a.find(h=>Gu(u,h));d?c.push({existingRoute:d,newRoute:u}):o.push(u)}),o.length>0){let u=Fn(o,s,[t||"_","patch",String((a==null?void 0:a.length)||"0")],n);a.push(...u)}if(i&&c.length>0)for(let u=0;u<c.length;u++){let{existingRoute:d,newRoute:h}=c[u],f=d,[m]=Fn([h],s,[],{},!0);Object.assign(f,{element:m.element?m.element:f.element,errorElement:m.errorElement?m.errorElement:f.errorElement,hydrateFallbackElement:m.hydrateFallbackElement?m.hydrateFallbackElement:f.hydrateFallbackElement})}}function Gu(t,e){return"id"in t&&"id"in e&&t.id===e.id?!0:t.index===e.index&&t.path===e.path&&t.caseSensitive===e.caseSensitive?(!t.children||t.children.length===0)&&(!e.children||e.children.length===0)?!0:t.children.every((r,n)=>{var s;return(s=e.children)==null?void 0:s.some(i=>Gu(r,i))}):!1}var hl=new WeakMap,qu=({key:t,route:e,manifest:r,mapRouteProperties:n})=>{let s=r[e.id];if(me(s,"No route found in manifest"),!s.lazy||typeof s.lazy!="object")return;let i=s.lazy[t];if(!i)return;let a=hl.get(s);a||(a={},hl.set(s,a));let o=a[t];if(o)return o;let c=(async()=>{let u=dm(t),h=s[t]!==void 0&&t!=="hasErrorBoundary";if(u)Pe(!u,"Route property "+t+" is not a supported lazy route property. This property will be ignored."),a[t]=Promise.resolve();else if(h)Pe(!1,`Route "${s.id}" has a static property "${t}" defined. The lazy property will be ignored.`);else{let f=await i();f!=null&&(Object.assign(s,{[t]:f}),Object.assign(s,n(s)))}typeof s.lazy=="object"&&(s.lazy[t]=void 0,Object.values(s.lazy).every(f=>f===void 0)&&(s.lazy=void 0))})();return a[t]=c,c},fl=new WeakMap;function Ym(t,e,r,n,s){let i=r[t.id];if(me(i,"No route found in manifest"),!t.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof t.lazy=="function"){let d=fl.get(i);if(d)return{lazyRoutePromise:d,lazyHandlerPromise:d};let h=(async()=>{me(typeof t.lazy=="function","No lazy route function found");let f=await t.lazy(),m={};for(let p in f){let y=f[p];if(y===void 0)continue;let b=fm(p),v=i[p]!==void 0&&p!=="hasErrorBoundary";b?Pe(!b,"Route property "+p+" is not a supported property to be returned from a lazy route function. This property will be ignored."):v?Pe(!v,`Route "${i.id}" has a static property "${p}" defined but its lazy function is also returning a value for this property. The lazy route property "${p}" will be ignored.`):m[p]=y}Object.assign(i,m),Object.assign(i,{...n(i),lazy:void 0})})();return fl.set(i,h),h.catch(()=>{}),{lazyRoutePromise:h,lazyHandlerPromise:h}}let a=Object.keys(t.lazy),o=[],c;for(let d of a){if(s&&s.includes(d))continue;let h=qu({key:d,route:t,manifest:r,mapRouteProperties:n});h&&(o.push(h),d===e&&(c=h))}let u=o.length>0?Promise.all(o).then(()=>{}):void 0;return u==null||u.catch(()=>{}),c==null||c.catch(()=>{}),{lazyRoutePromise:u,lazyHandlerPromise:c}}async function ml(t){let e=t.matches.filter(s=>s.shouldLoad),r={};return(await Promise.all(e.map(s=>s.resolve()))).forEach((s,i)=>{r[e[i].route.id]=s}),r}async function Jm(t){return t.matches.some(e=>e.route.middleware)?Ku(t,()=>ml(t)):ml(t)}function Ku(t,e){return Xm(t,e,n=>{if(up(n))throw n;return n},ap,r);function r(n,s,i){if(i)return Promise.resolve(Object.assign(i.value,{[s]:{type:"error",result:n}}));{let{matches:a}=t,o=Math.min(Math.max(a.findIndex(u=>u.route.id===s),0),Math.max(a.findIndex(u=>u.shouldCallHandler()),0)),c=qt(a,a[o].route.id).route.id;return Promise.resolve({[c]:{type:"error",result:n}})}}}async function Xm(t,e,r,n,s){let{matches:i,request:a,params:o,context:c,unstable_pattern:u}=t,d=i.flatMap(f=>f.route.middleware?f.route.middleware.map(m=>[f.route.id,m]):[]);return await Yu({request:a,params:o,context:c,unstable_pattern:u},d,e,r,n,s)}async function Yu(t,e,r,n,s,i,a=0){let{request:o}=t;if(o.signal.aborted)throw o.signal.reason??new Error(`Request aborted: ${o.method} ${o.url}`);let c=e[a];if(!c)return await r();let[u,d]=c,h,f=async()=>{if(h)throw new Error("You may only call `next()` once per middleware");try{return h={value:await Yu(t,e,r,n,s,i,a+1)},h.value}catch(m){return h={value:await i(m,u,h)},h.value}};try{let m=await d(t,f),p=m!=null?n(m):void 0;return s(p)?p:h?p??h.value:(h={value:await f()},h.value)}catch(m){return await i(m,u,h)}}function Ju(t,e,r,n,s){let i=qu({key:"middleware",route:n.route,manifest:e,mapRouteProperties:t}),a=Ym(n.route,qe(r.method)?"action":"loader",e,t,s);return{middleware:i,route:a.lazyRoutePromise,handler:a.lazyHandlerPromise}}function oa(t,e,r,n,s,i,a,o,c=null,u){let d=!1,h=Ju(t,e,r,s,i);return{...s,_lazyPromises:h,shouldLoad:o,shouldRevalidateArgs:c,shouldCallHandler(f){return d=!0,c?typeof u=="boolean"?Cn(s,{...c,defaultShouldRevalidate:u}):typeof f=="boolean"?Cn(s,{...c,defaultShouldRevalidate:f}):Cn(s,c):o},resolve(f){let{lazy:m,loader:p,middleware:y}=s.route,b=d||o||f&&!qe(r.method)&&(m||p),g=y&&y.length>0&&!p&&!m;return b&&(qe(r.method)||!g)?Qm({request:r,unstable_pattern:n,match:s,lazyHandlerPromise:h==null?void 0:h.handler,lazyRoutePromise:h==null?void 0:h.route,handlerOverride:f,scopedContext:a}):Promise.resolve({type:"data",result:void 0})}}}function Jr(t,e,r,n,s,i,a,o=null){return n.map(c=>c.route.id!==s.route.id?{...c,shouldLoad:!1,shouldRevalidateArgs:o,shouldCallHandler:()=>!1,_lazyPromises:Ju(t,e,r,c,i),resolve:()=>Promise.resolve({type:"data",result:void 0})}:oa(t,e,r,ns(n),c,i,a,!0,o))}async function Zm(t,e,r,n,s,i){r.some(u=>{var d;return(d=u._lazyPromises)==null?void 0:d.middleware})&&await Promise.all(r.map(u=>{var d;return(d=u._lazyPromises)==null?void 0:d.middleware}));let a={request:e,unstable_pattern:ns(r),params:r[0].params,context:s,matches:r},c=await t({...a,fetcherKey:n,runClientMiddleware:u=>{let d=a;return Ku(d,()=>u({...d,fetcherKey:n,runClientMiddleware:()=>{throw new Error("Cannot call `runClientMiddleware()` from within an `runClientMiddleware` handler")}}))}});try{await Promise.all(r.flatMap(u=>{var d,h;return[(d=u._lazyPromises)==null?void 0:d.handler,(h=u._lazyPromises)==null?void 0:h.route]}))}catch{}return c}async function Qm({request:t,unstable_pattern:e,match:r,lazyHandlerPromise:n,lazyRoutePromise:s,handlerOverride:i,scopedContext:a}){let o,c,u=qe(t.method),d=u?"action":"loader",h=f=>{let m,p=new Promise((g,v)=>m=v);c=()=>m(),t.signal.addEventListener("abort",c);let y=g=>typeof f!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${d}" [routeId: ${r.route.id}]`)):f({request:t,unstable_pattern:e,params:r.params,context:a},...g!==void 0?[g]:[]),b=(async()=>{try{return{type:"data",result:await(i?i(v=>y(v)):y())}}catch(g){return{type:"error",result:g}}})();return Promise.race([b,p])};try{let f=u?r.route.action:r.route.loader;if(n||s)if(f){let m,[p]=await Promise.all([h(f).catch(y=>{m=y}),n,s]);if(m!==void 0)throw m;o=p}else{await n;let m=u?r.route.action:r.route.loader;if(m)[o]=await Promise.all([h(m),s]);else if(d==="action"){let p=new URL(t.url),y=p.pathname+p.search;throw it(405,{method:t.method,pathname:y,routeId:r.route.id})}else return{type:"data",result:void 0}}else if(f)o=await h(f);else{let m=new URL(t.url),p=m.pathname+m.search;throw it(404,{pathname:p})}}catch(f){return{type:"error",result:f}}finally{c&&t.signal.removeEventListener("abort",c)}return o}async function ep(t){let e=t.headers.get("Content-Type");return e&&/\bapplication\/json\b/.test(e)?t.body==null?null:t.json():t.text()}async function tp(t){var n,s,i,a,o;let{result:e,type:r}=t;if(eo(e)){let c;try{c=await ep(e)}catch(u){return{type:"error",error:u}}return r==="error"?{type:"error",error:new rs(e.status,e.statusText,c),statusCode:e.status,headers:e.headers}:{type:"data",data:c,statusCode:e.status,headers:e.headers}}return r==="error"?bl(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:(n=e.init)==null?void 0:n.status,headers:(s=e.init)!=null&&s.headers?new Headers(e.init.headers):void 0}:{type:"error",error:ip(e),statusCode:Bn(e)?e.status:void 0,headers:(i=e.init)!=null&&i.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:Bn(e)?e.status:void 0}:bl(e)?{type:"data",data:e.data,statusCode:(a=e.init)==null?void 0:a.status,headers:(o=e.init)!=null&&o.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function rp(t,e,r,n,s){let i=t.headers.get("Location");if(me(i,"Redirects returned/thrown from loaders/actions must have a Location header"),!Ja(i)){let a=n.slice(0,n.findIndex(o=>o.route.id===r)+1);i=ia(new URL(e.url),a,s,i),t.headers.set("Location",i)}return t}function pl(t,e,r,n){let s=["about:","blob:","chrome:","chrome-untrusted:","content:","data:","devtools:","file:","filesystem:","javascript:"];if(Ja(t)){let i=t,a=i.startsWith("//")?new URL(e.protocol+i):new URL(i);if(s.includes(a.protocol))throw new Error("Invalid redirect location");let o=lt(a.pathname,r)!=null;if(a.origin===e.origin&&o)return a.pathname+a.search+a.hash}try{let i=n.createURL(t);if(s.includes(i.protocol))throw new Error("Invalid redirect location")}catch{}return t}function Fr(t,e,r,n){let s=t.createURL(Xu(e)).toString(),i={signal:r};if(n&&qe(n.formMethod)){let{formMethod:a,formEncType:o}=n;i.method=a.toUpperCase(),o==="application/json"?(i.headers=new Headers({"Content-Type":o}),i.body=JSON.stringify(n.json)):o==="text/plain"?i.body=n.text:o==="application/x-www-form-urlencoded"&&n.formData?i.body=la(n.formData):i.body=n.formData}return new Request(s,i)}function la(t){let e=new URLSearchParams;for(let[r,n]of t.entries())e.append(r,typeof n=="string"?n:n.name);return e}function gl(t){let e=new FormData;for(let[r,n]of t.entries())e.append(r,n);return e}function np(t,e,r,n=!1,s=!1){let i={},a=null,o,c=!1,u={},d=r&&et(r[1])?r[1].error:void 0;return t.forEach(h=>{if(!(h.route.id in e))return;let f=h.route.id,m=e[f];if(me(!mr(m),"Cannot handle redirect results in processLoaderData"),et(m)){let p=m.error;if(d!==void 0&&(p=d,d=void 0),a=a||{},s)a[f]=p;else{let y=qt(t,f);a[y.route.id]==null&&(a[y.route.id]=p)}n||(i[f]=Hu),c||(c=!0,o=Bn(m.error)?m.error.status:500),m.headers&&(u[f]=m.headers)}else i[f]=m.data,m.statusCode&&m.statusCode!==200&&!c&&(o=m.statusCode),m.headers&&(u[f]=m.headers)}),d!==void 0&&r&&(a={[r[0]]:d},r[2]&&(i[r[2]]=void 0)),{loaderData:i,errors:a,statusCode:o||200,loaderHeaders:u}}function yl(t,e,r,n,s,i){let{loaderData:a,errors:o}=np(e,r,n);return s.filter(c=>!c.matches||c.matches.some(u=>u.shouldLoad)).forEach(c=>{let{key:u,match:d,controller:h}=c;if(h&&h.signal.aborted)return;let f=i[u];if(me(f,"Did not find corresponding fetcher result"),et(f)){let m=qt(t.matches,d==null?void 0:d.route.id);o&&o[m.route.id]||(o={...o,[m.route.id]:f.error}),t.fetchers.delete(u)}else if(mr(f))me(!1,"Unhandled fetcher revalidation redirect");else{let m=Lt(f.data);t.fetchers.set(u,m)}}),{loaderData:a,errors:o}}function vl(t,e,r,n){let s=Object.entries(e).filter(([,i])=>i!==Hu).reduce((i,[a,o])=>(i[a]=o,i),{});for(let i of r){let a=i.route.id;if(!e.hasOwnProperty(a)&&t.hasOwnProperty(a)&&i.route.loader&&(s[a]=t[a]),n&&n.hasOwnProperty(a))break}return s}function xl(t){return t?et(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function qt(t,e){return(e?t.slice(0,t.findIndex(n=>n.route.id===e)+1):[...t]).reverse().find(n=>n.route.hasErrorBoundary===!0)||t[0]}function Es(t){let e=t.length===1?t[0]:t.find(r=>r.index||!r.path||r.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function it(t,{pathname:e,routeId:r,method:n,type:s,message:i}={}){let a="Unknown Server Error",o="Unknown @remix-run/router error";return t===400?(a="Bad Request",n&&e&&r?o=`You made a ${n} request to "${e}" but did not provide a \`loader\` for route "${r}", so there is no way to handle the request.`:s==="invalid-body"&&(o="Unable to encode submission body")):t===403?(a="Forbidden",o=`Route "${r}" does not match URL "${e}"`):t===404?(a="Not Found",o=`No route matches URL "${e}"`):t===405&&(a="Method Not Allowed",n&&e&&r?o=`You made a ${n.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${r}", so there is no way to handle the request.`:n&&(o=`Invalid request method "${n.toUpperCase()}"`)),new rs(t||500,a,new Error(o),!0)}function Ts(t){let e=Object.entries(t);for(let r=e.length-1;r>=0;r--){let[n,s]=e[r];if(mr(s))return{key:n,result:s}}}function Xu(t){let e=typeof t=="string"?Qt(t):t;return Et({...e,hash:""})}function sp(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function ip(t){var e,r;return new rs(((e=t.init)==null?void 0:e.status)??500,((r=t.init)==null?void 0:r.statusText)??"Internal Server Error",t.data)}function ap(t){return t!=null&&typeof t=="object"&&Object.entries(t).every(([e,r])=>typeof e=="string"&&op(r))}function op(t){return t!=null&&typeof t=="object"&&"type"in t&&"result"in t&&(t.type==="data"||t.type==="error")}function lp(t){return eo(t.result)&&zu.has(t.result.status)}function et(t){return t.type==="error"}function mr(t){return(t&&t.type)==="redirect"}function bl(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function eo(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function cp(t){return zu.has(t)}function up(t){return eo(t)&&cp(t.status)&&t.headers.has("Location")}function dp(t){return Vm.has(t.toUpperCase())}function qe(t){return Bm.has(t.toUpperCase())}function to(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function Us(t,e){let r=typeof e=="string"?Qt(e).search:e.search;if(t[t.length-1].route.index&&to(r||""))return t[t.length-1];let n=Fu(t);return n[n.length-1]}function wl(t){let{formMethod:e,formAction:r,formEncType:n,text:s,formData:i,json:a}=t;if(!(!e||!r||!n)){if(s!=null)return{formMethod:e,formAction:r,formEncType:n,formData:void 0,json:void 0,text:s};if(i!=null)return{formMethod:e,formAction:r,formEncType:n,formData:i,json:void 0,text:void 0};if(a!==void 0)return{formMethod:e,formAction:r,formEncType:n,formData:void 0,json:a,text:void 0}}}function Ci(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function hp(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function xn(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function fp(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function Lt(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function mp(t,e){try{let r=t.sessionStorage.getItem(Wu);if(r){let n=JSON.parse(r);for(let[s,i]of Object.entries(n||{}))i&&Array.isArray(i)&&e.set(s,new Set(i||[]))}}catch{}}function pp(t,e){if(e.size>0){let r={};for(let[n,s]of e)r[n]=[...s];try{t.sessionStorage.setItem(Wu,JSON.stringify(r))}catch(n){Pe(!1,`Failed to save applied view transitions in sessionStorage (${n}).`)}}}function _l(){let t,e,r=new Promise((n,s)=>{t=async i=>{n(i);try{await r}catch{}},e=async i=>{s(i);try{await r}catch{}}});return{promise:r,resolve:t,reject:e}}var _r=w.createContext(null);_r.displayName="DataRouter";var ss=w.createContext(null);ss.displayName="DataRouterState";var Zu=w.createContext(!1);function gp(){return w.useContext(Zu)}var ro=w.createContext({isTransitioning:!1});ro.displayName="ViewTransition";var Qu=w.createContext(new Map);Qu.displayName="Fetchers";var yp=w.createContext(null);yp.displayName="Await";var ct=w.createContext(null);ct.displayName="Navigation";var hi=w.createContext(null);hi.displayName="Location";var wt=w.createContext({outlet:null,matches:[],isDataRoute:!1});wt.displayName="Route";var no=w.createContext(null);no.displayName="RouteError";var ed="REACT_ROUTER_ERROR",vp="REDIRECT",xp="ROUTE_ERROR_RESPONSE";function bp(t){if(t.startsWith(`${ed}:${vp}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function wp(t){if(t.startsWith(`${ed}:${xp}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new rs(e.status,e.statusText,e.data)}catch{}}function _p(t,{relative:e}={}){me(is(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=w.useContext(ct),{hash:s,pathname:i,search:a}=as(t,{relative:e}),o=i;return r!=="/"&&(o=i==="/"?r:St([r,i])),n.createHref({pathname:o,search:a,hash:s})}function is(){return w.useContext(hi)!=null}function Ct(){return me(is(),"useLocation() may be used only in the context of a <Router> component."),w.useContext(hi).location}var td="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function rd(t){w.useContext(ct).static||w.useLayoutEffect(t)}function At(){let{isDataRoute:t}=w.useContext(wt);return t?Mp():jp()}function jp(){me(is(),"useNavigate() may be used only in the context of a <Router> component.");let t=w.useContext(_r),{basename:e,navigator:r}=w.useContext(ct),{matches:n}=w.useContext(wt),{pathname:s}=Ct(),i=JSON.stringify(Xa(n)),a=w.useRef(!1);return rd(()=>{a.current=!0}),w.useCallback((c,u={})=>{if(Pe(a.current,td),!a.current)return;if(typeof c=="number"){r.go(c);return}let d=Za(c,JSON.parse(i),s,u.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:St([e,d.pathname])),(u.replace?r.replace:r.push)(d,u.state,u)},[e,r,i,s,t])}var kp=w.createContext(null);function Sp(t){let e=w.useContext(wt).outlet;return w.useMemo(()=>e&&w.createElement(kp.Provider,{value:t},e),[e,t])}function nd(){let{matches:t}=w.useContext(wt),e=t[t.length-1];return e?e.params:{}}function as(t,{relative:e}={}){let{matches:r}=w.useContext(wt),{pathname:n}=Ct(),s=JSON.stringify(Xa(r));return w.useMemo(()=>Za(t,JSON.parse(s),n,e==="path"),[t,s,n,e])}function Np(t,e,r,n,s){me(is(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=w.useContext(ct),{matches:a}=w.useContext(wt),o=a[a.length-1],c=o?o.params:{},u=o?o.pathname:"/",d=o?o.pathnameBase:"/",h=o&&o.route;{let v=h&&h.path||"";id(u,!h||v.endsWith("*")||v.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${v}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${v}"> to <Route path="${v==="/"?"*":`${v}/*`}">.`)}let f=Ct(),m;m=f;let p=m.pathname||"/",y=p;if(d!=="/"){let v=d.replace(/^\//,"").split("/");y="/"+p.replace(/^\//,"").split("/").slice(v.length).join("/")}let b=Gt(t,{pathname:y});return Pe(h||b!=null,`No routes matched location "${m.pathname}${m.search}${m.hash}" `),Pe(b==null||b[b.length-1].route.element!==void 0||b[b.length-1].route.Component!==void 0||b[b.length-1].route.lazy!==void 0,`Matched leaf route at location "${m.pathname}${m.search}${m.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),Pp(b&&b.map(v=>Object.assign({},v,{params:Object.assign({},c,v.params),pathname:St([d,i.encodeLocation?i.encodeLocation(v.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?d:St([d,i.encodeLocation?i.encodeLocation(v.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:v.pathnameBase])})),a,r,n,s)}function Ep(){let t=Op(),e=Bn(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,n="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:n},i={padding:"2px 4px",backgroundColor:n},a=null;return console.error("Error handled by React Router default ErrorBoundary:",t),a=w.createElement(w.Fragment,null,w.createElement("p",null," Hey developer "),w.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",w.createElement("code",{style:i},"ErrorBoundary")," or"," ",w.createElement("code",{style:i},"errorElement")," prop on your route.")),w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},e),r?w.createElement("pre",{style:s},r):null,a)}var Tp=w.createElement(Ep,null),sd=class extends w.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const r=wp(t.digest);r&&(t=r)}let e=t!==void 0?w.createElement(wt.Provider,{value:this.props.routeContext},w.createElement(no.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?w.createElement(Cp,{error:t},e):e}};sd.contextType=Zu;var Ai=new WeakMap;function Cp({children:t,error:e}){let{basename:r}=w.useContext(ct);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let n=bp(e.digest);if(n){let s=Ai.get(e);if(s)throw s;let i=$u(n.location,r);if(Bu&&!Ai.get(e))if(i.isExternal||n.reloadDocument)window.location.href=i.absoluteURL||i.to;else{const a=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(i.to,{replace:n.replace}));throw Ai.set(e,a),a}return w.createElement("meta",{httpEquiv:"refresh",content:`0;url=${i.absoluteURL||i.to}`})}}return t}function Ap({routeContext:t,match:e,children:r}){let n=w.useContext(_r);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),w.createElement(wt.Provider,{value:t},r)}function Pp(t,e=[],r=null,n=null,s=null){if(t==null){if(!r)return null;if(r.errors)t=r.matches;else if(e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let i=t,a=r==null?void 0:r.errors;if(a!=null){let d=i.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);me(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),i=i.slice(0,Math.min(i.length,d+1))}let o=!1,c=-1;if(r)for(let d=0;d<i.length;d++){let h=i[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=d),h.route.id){let{loaderData:f,errors:m}=r,p=h.route.loader&&!f.hasOwnProperty(h.route.id)&&(!m||m[h.route.id]===void 0);if(h.route.lazy||p){o=!0,c>=0?i=i.slice(0,c+1):i=[i[0]];break}}}let u=r&&n?(d,h)=>{var f,m;n(d,{location:r.location,params:((m=(f=r.matches)==null?void 0:f[0])==null?void 0:m.params)??{},unstable_pattern:ns(r.matches),errorInfo:h})}:void 0;return i.reduceRight((d,h,f)=>{let m,p=!1,y=null,b=null;r&&(m=a&&h.route.id?a[h.route.id]:void 0,y=h.route.errorElement||Tp,o&&(c<0&&f===0?(id("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),p=!0,b=null):c===f&&(p=!0,b=h.route.hydrateFallbackElement||null)));let g=e.concat(i.slice(0,f+1)),v=()=>{let x;return m?x=y:p?x=b:h.route.Component?x=w.createElement(h.route.Component,null):h.route.element?x=h.route.element:x=d,w.createElement(Ap,{match:h,routeContext:{outlet:d,matches:g,isDataRoute:r!=null},children:x})};return r&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?w.createElement(sd,{location:r.location,revalidation:r.revalidation,component:y,error:m,children:v(),routeContext:{outlet:null,matches:g,isDataRoute:!0},onError:u}):v()},null)}function so(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Rp(t){let e=w.useContext(_r);return me(e,so(t)),e}function Ip(t){let e=w.useContext(ss);return me(e,so(t)),e}function Dp(t){let e=w.useContext(wt);return me(e,so(t)),e}function io(t){let e=Dp(t),r=e.matches[e.matches.length-1];return me(r.route.id,`${t} can only be used on routes that contain a unique "id"`),r.route.id}function Lp(){return io("useRouteId")}function Op(){var n;let t=w.useContext(no),e=Ip("useRouteError"),r=io("useRouteError");return t!==void 0?t:(n=e.errors)==null?void 0:n[r]}function Mp(){let{router:t}=Rp("useNavigate"),e=io("useNavigate"),r=w.useRef(!1);return rd(()=>{r.current=!0}),w.useCallback(async(s,i={})=>{Pe(r.current,td),r.current&&(typeof s=="number"?await t.navigate(s):await t.navigate(s,{fromRouteId:e,...i}))},[t,e])}var jl={};function id(t,e,r){!e&&!jl[t]&&(jl[t]=!0,Pe(!1,r))}var kl={};function Sl(t,e){!t&&!kl[e]&&(kl[e]=!0,console.warn(e))}var Fp="useOptimistic",Nl=sm[Fp],Bp=()=>{};function $p(t){return Nl?Nl(t):[t,Bp]}function Vp(t){let e={hasErrorBoundary:t.hasErrorBoundary||t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&(t.element&&Pe(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:w.createElement(t.Component),Component:void 0})),t.HydrateFallback&&(t.hydrateFallbackElement&&Pe(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:w.createElement(t.HydrateFallback),HydrateFallback:void 0})),t.ErrorBoundary&&(t.errorElement&&Pe(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:w.createElement(t.ErrorBoundary),ErrorBoundary:void 0})),e}var Up=["HydrateFallback","hydrateFallbackElement"],zp=class{constructor(){this.status="pending",this.promise=new Promise((e,r)=>{this.resolve=n=>{this.status==="pending"&&(this.status="resolved",e(n))},this.reject=n=>{this.status==="pending"&&(this.status="rejected",r(n))}})}};function Wp({router:t,flushSync:e,onError:r,unstable_useTransitions:n}){n=gp()||n;let[i,a]=w.useState(t.state),[o,c]=$p(i),[u,d]=w.useState(),[h,f]=w.useState({isTransitioning:!1}),[m,p]=w.useState(),[y,b]=w.useState(),[g,v]=w.useState(),x=w.useRef(new Map),k=w.useCallback((j,{deletedFetchers:E,newErrors:D,flushSync:M,viewTransitionOpts:$})=>{D&&r&&Object.values(D).forEach(X=>{var le;return r(X,{location:j.location,params:((le=j.matches[0])==null?void 0:le.params)??{},unstable_pattern:ns(j.matches)})}),j.fetchers.forEach((X,le)=>{X.data!==void 0&&x.current.set(le,X.data)}),E.forEach(X=>x.current.delete(X)),Sl(M===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let F=t.window!=null&&t.window.document!=null&&typeof t.window.document.startViewTransition=="function";if(Sl($==null||F,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!$||!F){e&&M?e(()=>a(j)):n===!1?a(j):w.startTransition(()=>{n===!0&&c(X=>El(X,j)),a(j)});return}if(e&&M){e(()=>{y&&(m==null||m.resolve(),y.skipTransition()),f({isTransitioning:!0,flushSync:!0,currentLocation:$.currentLocation,nextLocation:$.nextLocation})});let X=t.window.document.startViewTransition(()=>{e(()=>a(j))});X.finished.finally(()=>{e(()=>{p(void 0),b(void 0),d(void 0),f({isTransitioning:!1})})}),e(()=>b(X));return}y?(m==null||m.resolve(),y.skipTransition(),v({state:j,currentLocation:$.currentLocation,nextLocation:$.nextLocation})):(d(j),f({isTransitioning:!0,flushSync:!1,currentLocation:$.currentLocation,nextLocation:$.nextLocation}))},[t.window,e,y,m,n,c,r]);w.useLayoutEffect(()=>t.subscribe(k),[t,k]),w.useEffect(()=>{h.isTransitioning&&!h.flushSync&&p(new zp)},[h]),w.useEffect(()=>{if(m&&u&&t.window){let j=u,E=m.promise,D=t.window.document.startViewTransition(async()=>{n===!1?a(j):w.startTransition(()=>{n===!0&&c(M=>El(M,j)),a(j)}),await E});D.finished.finally(()=>{p(void 0),b(void 0),d(void 0),f({isTransitioning:!1})}),b(D)}},[u,m,t.window,n,c]),w.useEffect(()=>{m&&u&&o.location.key===u.location.key&&m.resolve()},[m,y,o.location,u]),w.useEffect(()=>{!h.isTransitioning&&g&&(d(g.state),f({isTransitioning:!0,flushSync:!1,currentLocation:g.currentLocation,nextLocation:g.nextLocation}),v(void 0))},[h.isTransitioning,g]);let S=w.useMemo(()=>({createHref:t.createHref,encodeLocation:t.encodeLocation,go:j=>t.navigate(j),push:(j,E,D)=>t.navigate(j,{state:E,preventScrollReset:D==null?void 0:D.preventScrollReset}),replace:(j,E,D)=>t.navigate(j,{replace:!0,state:E,preventScrollReset:D==null?void 0:D.preventScrollReset})}),[t]),T=t.basename||"/",_=w.useMemo(()=>({router:t,navigator:S,static:!1,basename:T,onError:r}),[t,S,T,r]);return w.createElement(w.Fragment,null,w.createElement(_r.Provider,{value:_},w.createElement(ss.Provider,{value:o},w.createElement(Qu.Provider,{value:x.current},w.createElement(ro.Provider,{value:h},w.createElement(qp,{basename:T,location:o.location,navigationType:o.historyAction,navigator:S,unstable_useTransitions:n},w.createElement(Hp,{routes:t.routes,future:t.future,state:o,onError:r})))))),null)}function El(t,e){return{...t,navigation:e.navigation.state!=="idle"?e.navigation:t.navigation,revalidation:e.revalidation!=="idle"?e.revalidation:t.revalidation,actionData:e.navigation.state!=="submitting"?e.actionData:t.actionData,fetchers:e.fetchers}}var Hp=w.memo(Gp);function Gp({routes:t,future:e,state:r,onError:n}){return Np(t,void 0,r,n,e)}function ad(t){return Sp(t.context)}function qp({basename:t="/",children:e=null,location:r,navigationType:n="POP",navigator:s,static:i=!1,unstable_useTransitions:a}){me(!is(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),c=w.useMemo(()=>({basename:o,navigator:s,static:i,unstable_useTransitions:a,future:{}}),[o,s,i,a]);typeof r=="string"&&(r=Qt(r));let{pathname:u="/",search:d="",hash:h="",state:f=null,key:m="default"}=r,p=w.useMemo(()=>{let y=lt(u,o);return y==null?null:{location:{pathname:y,search:d,hash:h,state:f,key:m},navigationType:n}},[o,u,d,h,f,m,n]);return Pe(p!=null,`<Router basename="${o}"> is not able to match the URL "${u}${d}${h}" because it does not start with the basename, so the <Router> won't render anything.`),p==null?null:w.createElement(ct.Provider,{value:c},w.createElement(hi.Provider,{children:e,value:p}))}var zs="get",Ws="application/x-www-form-urlencoded";function fi(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function Kp(t){return fi(t)&&t.tagName.toLowerCase()==="button"}function Yp(t){return fi(t)&&t.tagName.toLowerCase()==="form"}function Jp(t){return fi(t)&&t.tagName.toLowerCase()==="input"}function Xp(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Zp(t,e){return t.button===0&&(!e||e==="_self")&&!Xp(t)}function ca(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,r)=>{let n=t[r];return e.concat(Array.isArray(n)?n.map(s=>[r,s]):[[r,n]])},[]))}function Qp(t,e){let r=ca(t);return e&&e.forEach((n,s)=>{r.has(s)||e.getAll(s).forEach(i=>{r.append(s,i)})}),r}var Cs=null;function eg(){if(Cs===null)try{new FormData(document.createElement("form"),0),Cs=!1}catch{Cs=!0}return Cs}var tg=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Pi(t){return t!=null&&!tg.has(t)?(Pe(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ws}"`),null):t}function rg(t,e){let r,n,s,i,a;if(Yp(t)){let o=t.getAttribute("action");n=o?lt(o,e):null,r=t.getAttribute("method")||zs,s=Pi(t.getAttribute("enctype"))||Ws,i=new FormData(t)}else if(Kp(t)||Jp(t)&&(t.type==="submit"||t.type==="image")){let o=t.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=t.getAttribute("formaction")||o.getAttribute("action");if(n=c?lt(c,e):null,r=t.getAttribute("formmethod")||o.getAttribute("method")||zs,s=Pi(t.getAttribute("formenctype"))||Pi(o.getAttribute("enctype"))||Ws,i=new FormData(o,t),!eg()){let{name:u,type:d,value:h}=t;if(d==="image"){let f=u?`${u}.`:"";i.append(`${f}x`,"0"),i.append(`${f}y`,"0")}else u&&i.append(u,h)}}else{if(fi(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=zs,n=null,s=Ws,a=t}return i&&s==="text/plain"&&(a=i,i=void 0),{action:n,method:r.toLowerCase(),encType:s,formData:i,body:a}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function ao(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ng(t,e,r,n){let s=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r?s.pathname.endsWith("/")?s.pathname=`${s.pathname}_.${n}`:s.pathname=`${s.pathname}.${n}`:s.pathname==="/"?s.pathname=`_root.${n}`:e&&lt(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function sg(t,e){if(t.id in e)return e[t.id];try{let r=await import(t.module);return e[t.id]=r,r}catch(r){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function ig(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function ag(t,e,r){let n=await Promise.all(t.map(async s=>{let i=e.routes[s.route.id];if(i){let a=await sg(i,r);return a.links?a.links():[]}return[]}));return ug(n.flat(1).filter(ig).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function Tl(t,e,r,n,s,i){let a=(c,u)=>r[u]?c.route.id!==r[u].route.id:!0,o=(c,u)=>{var d;return r[u].pathname!==c.pathname||((d=r[u].route.path)==null?void 0:d.endsWith("*"))&&r[u].params["*"]!==c.params["*"]};return i==="assets"?e.filter((c,u)=>a(c,u)||o(c,u)):i==="data"?e.filter((c,u)=>{var h;let d=n.routes[c.route.id];if(!d||!d.hasLoader)return!1;if(a(c,u)||o(c,u))return!0;if(c.route.shouldRevalidate){let f=c.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((h=r[0])==null?void 0:h.params)||{},nextUrl:new URL(t,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof f=="boolean")return f}return!0}):[]}function og(t,e,{includeHydrateFallback:r}={}){return lg(t.map(n=>{let s=e.routes[n.route.id];if(!s)return[];let i=[s.module];return s.clientActionModule&&(i=i.concat(s.clientActionModule)),s.clientLoaderModule&&(i=i.concat(s.clientLoaderModule)),r&&s.hydrateFallbackModule&&(i=i.concat(s.hydrateFallbackModule)),s.imports&&(i=i.concat(s.imports)),i}).flat(1))}function lg(t){return[...new Set(t)]}function cg(t){let e={},r=Object.keys(t).sort();for(let n of r)e[n]=t[n];return e}function ug(t,e){let r=new Set;return new Set(e),t.reduce((n,s)=>{let i=JSON.stringify(cg(s));return r.has(i)||(r.add(i),n.push({key:i,link:s})),n},[])}function od(){let t=w.useContext(_r);return ao(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function dg(){let t=w.useContext(ss);return ao(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var oo=w.createContext(void 0);oo.displayName="FrameworkContext";function ld(){let t=w.useContext(oo);return ao(t,"You must render this element inside a <HydratedRouter> element"),t}function hg(t,e){let r=w.useContext(oo),[n,s]=w.useState(!1),[i,a]=w.useState(!1),{onFocus:o,onBlur:c,onMouseEnter:u,onMouseLeave:d,onTouchStart:h}=e,f=w.useRef(null);w.useEffect(()=>{if(t==="render"&&a(!0),t==="viewport"){let y=g=>{g.forEach(v=>{a(v.isIntersecting)})},b=new IntersectionObserver(y,{threshold:.5});return f.current&&b.observe(f.current),()=>{b.disconnect()}}},[t]),w.useEffect(()=>{if(n){let y=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(y)}}},[n]);let m=()=>{s(!0)},p=()=>{s(!1),a(!1)};return r?t!=="intent"?[i,f,{}]:[i,f,{onFocus:bn(o,m),onBlur:bn(c,p),onMouseEnter:bn(u,m),onMouseLeave:bn(d,p),onTouchStart:bn(h,m)}]:[!1,f,{}]}function bn(t,e){return r=>{t&&t(r),r.defaultPrevented||e(r)}}function fg({page:t,...e}){let{router:r}=od(),n=w.useMemo(()=>Gt(r.routes,t,r.basename),[r.routes,t,r.basename]);return n?w.createElement(pg,{page:t,matches:n,...e}):null}function mg(t){let{manifest:e,routeModules:r}=ld(),[n,s]=w.useState([]);return w.useEffect(()=>{let i=!1;return ag(t,e,r).then(a=>{i||s(a)}),()=>{i=!0}},[t,e,r]),n}function pg({page:t,matches:e,...r}){let n=Ct(),{future:s,manifest:i,routeModules:a}=ld(),{basename:o}=od(),{loaderData:c,matches:u}=dg(),d=w.useMemo(()=>Tl(t,e,u,i,n,"data"),[t,e,u,i,n]),h=w.useMemo(()=>Tl(t,e,u,i,n,"assets"),[t,e,u,i,n]),f=w.useMemo(()=>{if(t===n.pathname+n.search+n.hash)return[];let y=new Set,b=!1;if(e.forEach(v=>{var k;let x=i.routes[v.route.id];!x||!x.hasLoader||(!d.some(S=>S.route.id===v.route.id)&&v.route.id in c&&((k=a[v.route.id])!=null&&k.shouldRevalidate)||x.hasClientLoader?b=!0:y.add(v.route.id))}),y.size===0)return[];let g=ng(t,o,s.unstable_trailingSlashAwareDataRequests,"data");return b&&y.size>0&&g.searchParams.set("_routes",e.filter(v=>y.has(v.route.id)).map(v=>v.route.id).join(",")),[g.pathname+g.search]},[o,s.unstable_trailingSlashAwareDataRequests,c,n,i,d,e,t,a]),m=w.useMemo(()=>og(h,i),[h,i]),p=mg(h);return w.createElement(w.Fragment,null,f.map(y=>w.createElement("link",{key:y,rel:"prefetch",as:"fetch",href:y,...r})),m.map(y=>w.createElement("link",{key:y,rel:"modulepreload",href:y,...r})),p.map(({key:y,link:b})=>w.createElement("link",{key:y,nonce:r.nonce,...b,crossOrigin:b.crossOrigin??r.crossOrigin})))}function gg(...t){return e=>{t.forEach(r=>{typeof r=="function"?r(e):r!=null&&(r.current=e)})}}var yg=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{yg&&(window.__reactRouterVersion="7.13.0")}catch{}function vg(t,e){return Hm({basename:e==null?void 0:e.basename,getContext:e==null?void 0:e.getContext,future:e==null?void 0:e.future,history:om({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||xg(),routes:t,mapRouteProperties:Vp,hydrationRouteProperties:Up,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window,unstable_instrumentations:e==null?void 0:e.unstable_instrumentations}).initialize()}function xg(){let t=window==null?void 0:window.__staticRouterHydrationData;return t&&t.errors&&(t={...t,errors:bg(t.errors)}),t}function bg(t){if(!t)return null;let e=Object.entries(t),r={};for(let[n,s]of e)if(s&&s.__type==="RouteErrorResponse")r[n]=new rs(s.status,s.statusText,s.data,s.internal===!0);else if(s&&s.__type==="Error"){if(s.__subType){let i=window[s.__subType];if(typeof i=="function")try{let a=new i(s.message);a.stack="",r[n]=a}catch{}}if(r[n]==null){let i=new Error(s.message);i.stack="",r[n]=i}}else r[n]=s;return r}var cd=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,De=w.forwardRef(function({onClick:e,discover:r="render",prefetch:n="none",relative:s,reloadDocument:i,replace:a,state:o,target:c,to:u,preventScrollReset:d,viewTransition:h,unstable_defaultShouldRevalidate:f,...m},p){let{basename:y,unstable_useTransitions:b}=w.useContext(ct),g=typeof u=="string"&&cd.test(u),v=$u(u,y);u=v.to;let x=_p(u,{relative:s}),[k,S,T]=hg(n,m),_=kg(u,{replace:a,state:o,target:c,preventScrollReset:d,relative:s,viewTransition:h,unstable_defaultShouldRevalidate:f,unstable_useTransitions:b});function j(D){e&&e(D),D.defaultPrevented||_(D)}let E=w.createElement("a",{...m,...T,href:v.absoluteURL||x,onClick:v.isExternal||i?e:j,ref:gg(p,S),target:c,"data-discover":!g&&r==="render"?"true":void 0});return k&&!g?w.createElement(w.Fragment,null,E,w.createElement(fg,{page:x})):E});De.displayName="Link";var wg=w.forwardRef(function({"aria-current":e="page",caseSensitive:r=!1,className:n="",end:s=!1,style:i,to:a,viewTransition:o,children:c,...u},d){let h=as(a,{relative:u.relative}),f=Ct(),m=w.useContext(ss),{navigator:p,basename:y}=w.useContext(ct),b=m!=null&&Ag(h)&&o===!0,g=p.encodeLocation?p.encodeLocation(h).pathname:h.pathname,v=f.pathname,x=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;r||(v=v.toLowerCase(),x=x?x.toLowerCase():null,g=g.toLowerCase()),x&&y&&(x=lt(x,y)||x);const k=g!=="/"&&g.endsWith("/")?g.length-1:g.length;let S=v===g||!s&&v.startsWith(g)&&v.charAt(k)==="/",T=x!=null&&(x===g||!s&&x.startsWith(g)&&x.charAt(g.length)==="/"),_={isActive:S,isPending:T,isTransitioning:b},j=S?e:void 0,E;typeof n=="function"?E=n(_):E=[n,S?"active":null,T?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let D=typeof i=="function"?i(_):i;return w.createElement(De,{...u,"aria-current":j,className:E,ref:d,style:D,to:a,viewTransition:o},typeof c=="function"?c(_):c)});wg.displayName="NavLink";var _g=w.forwardRef(({discover:t="render",fetcherKey:e,navigate:r,reloadDocument:n,replace:s,state:i,method:a=zs,action:o,onSubmit:c,relative:u,preventScrollReset:d,viewTransition:h,unstable_defaultShouldRevalidate:f,...m},p)=>{let{unstable_useTransitions:y}=w.useContext(ct),b=Tg(),g=Cg(o,{relative:u}),v=a.toLowerCase()==="get"?"get":"post",x=typeof o=="string"&&cd.test(o),k=S=>{if(c&&c(S),S.defaultPrevented)return;S.preventDefault();let T=S.nativeEvent.submitter,_=(T==null?void 0:T.getAttribute("formmethod"))||a,j=()=>b(T||S.currentTarget,{fetcherKey:e,method:_,navigate:r,replace:s,state:i,relative:u,preventScrollReset:d,viewTransition:h,unstable_defaultShouldRevalidate:f});y&&r!==!1?w.startTransition(()=>j()):j()};return w.createElement("form",{ref:p,method:v,action:g,onSubmit:n?c:k,...m,"data-discover":!x&&t==="render"?"true":void 0})});_g.displayName="Form";function jg(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ud(t){let e=w.useContext(_r);return me(e,jg(t)),e}function kg(t,{target:e,replace:r,state:n,preventScrollReset:s,relative:i,viewTransition:a,unstable_defaultShouldRevalidate:o,unstable_useTransitions:c}={}){let u=At(),d=Ct(),h=as(t,{relative:i});return w.useCallback(f=>{if(Zp(f,e)){f.preventDefault();let m=r!==void 0?r:Et(d)===Et(h),p=()=>u(t,{replace:m,state:n,preventScrollReset:s,relative:i,viewTransition:a,unstable_defaultShouldRevalidate:o});c?w.startTransition(()=>p()):p()}},[d,u,h,r,n,e,t,s,i,a,o,c])}function Sg(t){Pe(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=w.useRef(ca(t)),r=w.useRef(!1),n=Ct(),s=w.useMemo(()=>Qp(n.search,r.current?null:e.current),[n.search]),i=At(),a=w.useCallback((o,c)=>{const u=ca(typeof o=="function"?o(new URLSearchParams(s)):o);r.current=!0,i("?"+u,c)},[i,s]);return[s,a]}var Ng=0,Eg=()=>`__${String(++Ng)}__`;function Tg(){let{router:t}=ud("useSubmit"),{basename:e}=w.useContext(ct),r=Lp(),n=t.fetch,s=t.navigate;return w.useCallback(async(i,a={})=>{let{action:o,method:c,encType:u,formData:d,body:h}=rg(i,e);if(a.navigate===!1){let f=a.fetcherKey||Eg();await n(f,r,a.action||o,{unstable_defaultShouldRevalidate:a.unstable_defaultShouldRevalidate,preventScrollReset:a.preventScrollReset,formData:d,body:h,formMethod:a.method||c,formEncType:a.encType||u,flushSync:a.flushSync})}else await s(a.action||o,{unstable_defaultShouldRevalidate:a.unstable_defaultShouldRevalidate,preventScrollReset:a.preventScrollReset,formData:d,body:h,formMethod:a.method||c,formEncType:a.encType||u,replace:a.replace,state:a.state,fromRouteId:r,flushSync:a.flushSync,viewTransition:a.viewTransition})},[n,s,e,r])}function Cg(t,{relative:e}={}){let{basename:r}=w.useContext(ct),n=w.useContext(wt);me(n,"useFormAction must be used inside a RouteContext");let[s]=n.matches.slice(-1),i={...as(t||".",{relative:e})},a=Ct();if(t==null){i.search=a.search;let o=new URLSearchParams(i.search),c=o.getAll("index");if(c.some(d=>d==="")){o.delete("index"),c.filter(h=>h).forEach(h=>o.append("index",h));let d=o.toString();i.search=d?`?${d}`:""}}return(!t||t===".")&&s.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(i.pathname=i.pathname==="/"?r:St([r,i.pathname])),Et(i)}function Ag(t,{relative:e}={}){let r=w.useContext(ro);me(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=ud("useViewTransitionState"),s=as(t,{relative:e});if(!r.isTransitioning)return!1;let i=lt(r.currentLocation.pathname,n)||r.currentLocation.pathname,a=lt(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Xs(s.pathname,a)!=null||Xs(s.pathname,i)!=null}/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pg=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Rg=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,n)=>n?n.toUpperCase():r.toLowerCase()),Cl=t=>{const e=Rg(t);return e.charAt(0).toUpperCase()+e.slice(1)},dd=(...t)=>t.filter((e,r,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===r).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Ig={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dg=w.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:i,iconNode:a,...o},c)=>w.createElement("svg",{ref:c,...Ig,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:dd("lucide",s),...o},[...a.map(([u,d])=>w.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ae=(t,e)=>{const r=w.forwardRef(({className:n,...s},i)=>w.createElement(Dg,{ref:i,iconNode:e,className:dd(`lucide-${Pg(Cl(t))}`,`lucide-${t}`,n),...s}));return r.displayName=Cl(t),r};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lg=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],hd=ae("arrow-left",Lg);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Og=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],os=ae("arrow-right",Og);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mg=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Fg=ae("check",Mg);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bg=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Al=ae("circle-alert",Bg);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $g=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],vr=ae("circle-check",$g);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vg=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],Zs=ae("clock",Vg);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ug=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],fd=ae("copy",Ug);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zg=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],ua=ae("eye-off",zg);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wg=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Qs=ae("eye",Wg);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hg=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],Gg=ae("facebook",Hg);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qg=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Kg=ae("funnel",qg);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yg=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],Xr=ae("globe",Yg);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jg=[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]],Xg=ae("headphones",Jg);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zg=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],Qg=ae("house",Zg);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ey=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],ty=ae("instagram",ey);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ry=[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]],ny=ae("linkedin",ry);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sy=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],da=ae("lock",sy);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iy=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],ls=ae("mail",iy);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ay=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],br=ae("map-pin",ay);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oy=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],ly=ae("menu",oy);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cy=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],uy=ae("message-circle",cy);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dy=[["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}],["path",{d:"m17 13 5 5m-5 0 5-5",key:"im3w4b"}]],hy=ae("package-x",dy);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fy=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],nt=ae("package",fy);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const my=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],py=ae("pen",my);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gy=[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]],lo=ae("phone",gy);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yy=[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]],vy=ae("plane",yy);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xy=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],by=ae("plus",xy);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wy=[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]],_y=ae("quote",wy);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jy=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],md=ae("search",jy);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ky=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],pd=ae("shield",ky);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sy=[["path",{d:"M12 10.189V14",key:"1p8cqu"}],["path",{d:"M12 2v3",key:"qbqxhf"}],["path",{d:"M19 13V7a2 2 0 0 0-2-2H7a2 2 0 0 0-2 2v6",key:"qpkstq"}],["path",{d:"M19.38 20A11.6 11.6 0 0 0 21 14l-8.188-3.639a2 2 0 0 0-1.624 0L3 14a11.6 11.6 0 0 0 2.81 7.76",key:"7tigtc"}],["path",{d:"M2 21c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1s1.2 1 2.5 1c2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"1924j5"}]],Ny=ae("ship",Sy);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ey=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],Ty=ae("shopping-cart",Ey);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cy=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],gd=ae("star",Cy);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ay=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Py=ae("target",Ay);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ry=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Iy=ae("trash-2",Ry);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dy=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],Pl=ae("trending-up",Dy);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ly=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],$n=ae("truck",Ly);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oy=[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]],My=ae("twitter",Oy);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fy=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],By=ae("user",Fy);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $y=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],Vy=ae("users",$y);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uy=[["path",{d:"M22 8.35V20a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8.35A2 2 0 0 1 3.26 6.5l8-3.2a2 2 0 0 1 1.48 0l8 3.2A2 2 0 0 1 22 8.35Z",key:"gksnxg"}],["path",{d:"M6 18h12",key:"9pbo8z"}],["path",{d:"M6 14h12",key:"4cwo0f"}],["rect",{width:"12",height:"12",x:"6",y:"10",key:"apd30q"}]],co=ae("warehouse",Uy);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zy=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Wy=ae("x",zy);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hy=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],yd=ae("zap",Hy),vd=w.createContext({});function Gy(t){const e=w.useRef(null);return e.current===null&&(e.current=t()),e.current}const xd=typeof window<"u",qy=xd?w.useLayoutEffect:w.useEffect,uo=w.createContext(null);function ho(t,e){t.indexOf(e)===-1&&t.push(e)}function ei(t,e){const r=t.indexOf(e);r>-1&&t.splice(r,1)}const Tt=(t,e,r)=>r>e?e:r<t?t:r;let fo=()=>{};const Ft={},bd=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function wd(t){return typeof t=="object"&&t!==null}const _d=t=>/^0[^.\s]+$/u.test(t);function mo(t){let e;return()=>(e===void 0&&(e=t()),e)}const ot=t=>t,Ky=(t,e)=>r=>e(t(r)),cs=(...t)=>t.reduce(Ky),Vn=(t,e,r)=>{const n=e-t;return n===0?1:(r-t)/n};class po{constructor(){this.subscriptions=[]}add(e){return ho(this.subscriptions,e),()=>ei(this.subscriptions,e)}notify(e,r,n){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,r,n);else for(let i=0;i<s;i++){const a=this.subscriptions[i];a&&a(e,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const xt=t=>t*1e3,at=t=>t/1e3;function jd(t,e){return e?t*(1e3/e):0}const kd=(t,e,r)=>(((1-3*r+3*e)*t+(3*r-6*e))*t+3*e)*t,Yy=1e-7,Jy=12;function Xy(t,e,r,n,s){let i,a,o=0;do a=e+(r-e)/2,i=kd(a,n,s)-t,i>0?r=a:e=a;while(Math.abs(i)>Yy&&++o<Jy);return a}function us(t,e,r,n){if(t===e&&r===n)return ot;const s=i=>Xy(i,0,1,t,r);return i=>i===0||i===1?i:kd(s(i),e,n)}const Sd=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,Nd=t=>e=>1-t(1-e),Ed=us(.33,1.53,.69,.99),go=Nd(Ed),Td=Sd(go),Cd=t=>(t*=2)<1?.5*go(t):.5*(2-Math.pow(2,-10*(t-1))),yo=t=>1-Math.sin(Math.acos(t)),Ad=Nd(yo),Pd=Sd(yo),Zy=us(.42,0,1,1),Qy=us(0,0,.58,1),Rd=us(.42,0,.58,1),e0=t=>Array.isArray(t)&&typeof t[0]!="number",Id=t=>Array.isArray(t)&&typeof t[0]=="number",t0={linear:ot,easeIn:Zy,easeInOut:Rd,easeOut:Qy,circIn:yo,circInOut:Pd,circOut:Ad,backIn:go,backInOut:Td,backOut:Ed,anticipate:Cd},r0=t=>typeof t=="string",Rl=t=>{if(Id(t)){fo(t.length===4);const[e,r,n,s]=t;return us(e,r,n,s)}else if(r0(t))return t0[t];return t},As=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function n0(t,e){let r=new Set,n=new Set,s=!1,i=!1;const a=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function c(d){a.has(d)&&(u.schedule(d),t()),d(o)}const u={schedule:(d,h=!1,f=!1)=>{const p=f&&s?r:n;return h&&a.add(d),p.has(d)||p.add(d),d},cancel:d=>{n.delete(d),a.delete(d)},process:d=>{if(o=d,s){i=!0;return}s=!0,[r,n]=[n,r],r.forEach(c),r.clear(),s=!1,i&&(i=!1,u.process(d))}};return u}const s0=40;function Dd(t,e){let r=!1,n=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>r=!0,a=As.reduce((x,k)=>(x[k]=n0(i),x),{}),{setup:o,read:c,resolveKeyframes:u,preUpdate:d,update:h,preRender:f,render:m,postRender:p}=a,y=()=>{const x=Ft.useManualTiming?s.timestamp:performance.now();r=!1,Ft.useManualTiming||(s.delta=n?1e3/60:Math.max(Math.min(x-s.timestamp,s0),1)),s.timestamp=x,s.isProcessing=!0,o.process(s),c.process(s),u.process(s),d.process(s),h.process(s),f.process(s),m.process(s),p.process(s),s.isProcessing=!1,r&&e&&(n=!1,t(y))},b=()=>{r=!0,n=!0,s.isProcessing||t(y)};return{schedule:As.reduce((x,k)=>{const S=a[k];return x[k]=(T,_=!1,j=!1)=>(r||b(),S.schedule(T,_,j)),x},{}),cancel:x=>{for(let k=0;k<As.length;k++)a[As[k]].cancel(x)},state:s,steps:a}}const{schedule:je,cancel:Xt,state:He,steps:Ri}=Dd(typeof requestAnimationFrame<"u"?requestAnimationFrame:ot,!0);let Hs;function i0(){Hs=void 0}const Je={now:()=>(Hs===void 0&&Je.set(He.isProcessing||Ft.useManualTiming?He.timestamp:performance.now()),Hs),set:t=>{Hs=t,queueMicrotask(i0)}},Ld=t=>e=>typeof e=="string"&&e.startsWith(t),Od=Ld("--"),a0=Ld("var(--"),vo=t=>a0(t)?o0.test(t.split("/*")[0].trim()):!1,o0=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function Il(t){return typeof t!="string"?!1:t.split("/*")[0].includes("var(--")}const tn={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Un={...tn,transform:t=>Tt(0,1,t)},Ps={...tn,default:1},An=t=>Math.round(t*1e5)/1e5,xo=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function l0(t){return t==null}const c0=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,bo=(t,e)=>r=>!!(typeof r=="string"&&c0.test(r)&&r.startsWith(t)||e&&!l0(r)&&Object.prototype.hasOwnProperty.call(r,e)),Md=(t,e,r)=>n=>{if(typeof n!="string")return n;const[s,i,a,o]=n.match(xo);return{[t]:parseFloat(s),[e]:parseFloat(i),[r]:parseFloat(a),alpha:o!==void 0?parseFloat(o):1}},u0=t=>Tt(0,255,t),Ii={...tn,transform:t=>Math.round(u0(t))},pr={test:bo("rgb","red"),parse:Md("red","green","blue"),transform:({red:t,green:e,blue:r,alpha:n=1})=>"rgba("+Ii.transform(t)+", "+Ii.transform(e)+", "+Ii.transform(r)+", "+An(Un.transform(n))+")"};function d0(t){let e="",r="",n="",s="";return t.length>5?(e=t.substring(1,3),r=t.substring(3,5),n=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),r=t.substring(2,3),n=t.substring(3,4),s=t.substring(4,5),e+=e,r+=r,n+=n,s+=s),{red:parseInt(e,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:s?parseInt(s,16)/255:1}}const ha={test:bo("#"),parse:d0,transform:pr.transform},ds=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),zt=ds("deg"),Nt=ds("%"),z=ds("px"),h0=ds("vh"),f0=ds("vw"),Dl={...Nt,parse:t=>Nt.parse(t)/100,transform:t=>Nt.transform(t*100)},Wr={test:bo("hsl","hue"),parse:Md("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:r,alpha:n=1})=>"hsla("+Math.round(t)+", "+Nt.transform(An(e))+", "+Nt.transform(An(r))+", "+An(Un.transform(n))+")"},Ie={test:t=>pr.test(t)||ha.test(t)||Wr.test(t),parse:t=>pr.test(t)?pr.parse(t):Wr.test(t)?Wr.parse(t):ha.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?pr.transform(t):Wr.transform(t),getAnimatableNone:t=>{const e=Ie.parse(t);return e.alpha=0,Ie.transform(e)}},m0=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function p0(t){var e,r;return isNaN(t)&&typeof t=="string"&&(((e=t.match(xo))==null?void 0:e.length)||0)+(((r=t.match(m0))==null?void 0:r.length)||0)>0}const Fd="number",Bd="color",g0="var",y0="var(",Ll="${}",v0=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function zn(t){const e=t.toString(),r=[],n={color:[],number:[],var:[]},s=[];let i=0;const o=e.replace(v0,c=>(Ie.test(c)?(n.color.push(i),s.push(Bd),r.push(Ie.parse(c))):c.startsWith(y0)?(n.var.push(i),s.push(g0),r.push(c)):(n.number.push(i),s.push(Fd),r.push(parseFloat(c))),++i,Ll)).split(Ll);return{values:r,split:o,indexes:n,types:s}}function $d(t){return zn(t).values}function Vd(t){const{split:e,types:r}=zn(t),n=e.length;return s=>{let i="";for(let a=0;a<n;a++)if(i+=e[a],s[a]!==void 0){const o=r[a];o===Fd?i+=An(s[a]):o===Bd?i+=Ie.transform(s[a]):i+=s[a]}return i}}const x0=t=>typeof t=="number"?0:Ie.test(t)?Ie.getAnimatableNone(t):t;function b0(t){const e=$d(t);return Vd(t)(e.map(x0))}const Zt={test:p0,parse:$d,createTransformer:Vd,getAnimatableNone:b0};function Di(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(e-t)*6*r:r<1/2?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function w0({hue:t,saturation:e,lightness:r,alpha:n}){t/=360,e/=100,r/=100;let s=0,i=0,a=0;if(!e)s=i=a=r;else{const o=r<.5?r*(1+e):r+e-r*e,c=2*r-o;s=Di(c,o,t+1/3),i=Di(c,o,t),a=Di(c,o,t-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(a*255),alpha:n}}function ti(t,e){return r=>r>0?e:t}const Ne=(t,e,r)=>t+(e-t)*r,Li=(t,e,r)=>{const n=t*t,s=r*(e*e-n)+n;return s<0?0:Math.sqrt(s)},_0=[ha,pr,Wr],j0=t=>_0.find(e=>e.test(t));function Ol(t){const e=j0(t);if(!e)return!1;let r=e.parse(t);return e===Wr&&(r=w0(r)),r}const Ml=(t,e)=>{const r=Ol(t),n=Ol(e);if(!r||!n)return ti(t,e);const s={...r};return i=>(s.red=Li(r.red,n.red,i),s.green=Li(r.green,n.green,i),s.blue=Li(r.blue,n.blue,i),s.alpha=Ne(r.alpha,n.alpha,i),pr.transform(s))},fa=new Set(["none","hidden"]);function k0(t,e){return fa.has(t)?r=>r<=0?t:e:r=>r>=1?e:t}function S0(t,e){return r=>Ne(t,e,r)}function wo(t){return typeof t=="number"?S0:typeof t=="string"?vo(t)?ti:Ie.test(t)?Ml:T0:Array.isArray(t)?Ud:typeof t=="object"?Ie.test(t)?Ml:N0:ti}function Ud(t,e){const r=[...t],n=r.length,s=t.map((i,a)=>wo(i)(i,e[a]));return i=>{for(let a=0;a<n;a++)r[a]=s[a](i);return r}}function N0(t,e){const r={...t,...e},n={};for(const s in r)t[s]!==void 0&&e[s]!==void 0&&(n[s]=wo(t[s])(t[s],e[s]));return s=>{for(const i in n)r[i]=n[i](s);return r}}function E0(t,e){const r=[],n={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const i=e.types[s],a=t.indexes[i][n[i]],o=t.values[a]??0;r[s]=o,n[i]++}return r}const T0=(t,e)=>{const r=Zt.createTransformer(e),n=zn(t),s=zn(e);return n.indexes.var.length===s.indexes.var.length&&n.indexes.color.length===s.indexes.color.length&&n.indexes.number.length>=s.indexes.number.length?fa.has(t)&&!s.values.length||fa.has(e)&&!n.values.length?k0(t,e):cs(Ud(E0(n,s),s.values),r):ti(t,e)};function zd(t,e,r){return typeof t=="number"&&typeof e=="number"&&typeof r=="number"?Ne(t,e,r):wo(t)(t,e)}const C0=t=>{const e=({timestamp:r})=>t(r);return{start:(r=!0)=>je.update(e,r),stop:()=>Xt(e),now:()=>He.isProcessing?He.timestamp:Je.now()}},Wd=(t,e,r=10)=>{let n="";const s=Math.max(Math.round(e/r),2);for(let i=0;i<s;i++)n+=Math.round(t(i/(s-1))*1e4)/1e4+", ";return`linear(${n.substring(0,n.length-2)})`},ri=2e4;function _o(t){let e=0;const r=50;let n=t.next(e);for(;!n.done&&e<ri;)e+=r,n=t.next(e);return e>=ri?1/0:e}function A0(t,e=100,r){const n=r({...t,keyframes:[0,e]}),s=Math.min(_o(n),ri);return{type:"keyframes",ease:i=>n.next(s*i).value/e,duration:at(s)}}const P0=5;function Hd(t,e,r){const n=Math.max(e-P0,0);return jd(r-t(n),e-n)}const Ae={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Oi=.001;function R0({duration:t=Ae.duration,bounce:e=Ae.bounce,velocity:r=Ae.velocity,mass:n=Ae.mass}){let s,i,a=1-e;a=Tt(Ae.minDamping,Ae.maxDamping,a),t=Tt(Ae.minDuration,Ae.maxDuration,at(t)),a<1?(s=u=>{const d=u*a,h=d*t,f=d-r,m=ma(u,a),p=Math.exp(-h);return Oi-f/m*p},i=u=>{const h=u*a*t,f=h*r+r,m=Math.pow(a,2)*Math.pow(u,2)*t,p=Math.exp(-h),y=ma(Math.pow(u,2),a);return(-s(u)+Oi>0?-1:1)*((f-m)*p)/y}):(s=u=>{const d=Math.exp(-u*t),h=(u-r)*t+1;return-Oi+d*h},i=u=>{const d=Math.exp(-u*t),h=(r-u)*(t*t);return d*h});const o=5/t,c=D0(s,i,o);if(t=xt(t),isNaN(c))return{stiffness:Ae.stiffness,damping:Ae.damping,duration:t};{const u=Math.pow(c,2)*n;return{stiffness:u,damping:a*2*Math.sqrt(n*u),duration:t}}}const I0=12;function D0(t,e,r){let n=r;for(let s=1;s<I0;s++)n=n-t(n)/e(n);return n}function ma(t,e){return t*Math.sqrt(1-e*e)}const L0=["duration","bounce"],O0=["stiffness","damping","mass"];function Fl(t,e){return e.some(r=>t[r]!==void 0)}function M0(t){let e={velocity:Ae.velocity,stiffness:Ae.stiffness,damping:Ae.damping,mass:Ae.mass,isResolvedFromDuration:!1,...t};if(!Fl(t,O0)&&Fl(t,L0))if(t.visualDuration){const r=t.visualDuration,n=2*Math.PI/(r*1.2),s=n*n,i=2*Tt(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:Ae.mass,stiffness:s,damping:i}}else{const r=R0(t);e={...e,...r,mass:Ae.mass},e.isResolvedFromDuration=!0}return e}function ni(t=Ae.visualDuration,e=Ae.bounce){const r=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:n,restDelta:s}=r;const i=r.keyframes[0],a=r.keyframes[r.keyframes.length-1],o={done:!1,value:i},{stiffness:c,damping:u,mass:d,duration:h,velocity:f,isResolvedFromDuration:m}=M0({...r,velocity:-at(r.velocity||0)}),p=f||0,y=u/(2*Math.sqrt(c*d)),b=a-i,g=at(Math.sqrt(c/d)),v=Math.abs(b)<5;n||(n=v?Ae.restSpeed.granular:Ae.restSpeed.default),s||(s=v?Ae.restDelta.granular:Ae.restDelta.default);let x;if(y<1){const S=ma(g,y);x=T=>{const _=Math.exp(-y*g*T);return a-_*((p+y*g*b)/S*Math.sin(S*T)+b*Math.cos(S*T))}}else if(y===1)x=S=>a-Math.exp(-g*S)*(b+(p+g*b)*S);else{const S=g*Math.sqrt(y*y-1);x=T=>{const _=Math.exp(-y*g*T),j=Math.min(S*T,300);return a-_*((p+y*g*b)*Math.sinh(j)+S*b*Math.cosh(j))/S}}const k={calculatedDuration:m&&h||null,next:S=>{const T=x(S);if(m)o.done=S>=h;else{let _=S===0?p:0;y<1&&(_=S===0?xt(p):Hd(x,S,T));const j=Math.abs(_)<=n,E=Math.abs(a-T)<=s;o.done=j&&E}return o.value=o.done?a:T,o},toString:()=>{const S=Math.min(_o(k),ri),T=Wd(_=>k.next(S*_).value,S,30);return S+"ms "+T},toTransition:()=>{}};return k}ni.applyToOptions=t=>{const e=A0(t,100,ni);return t.ease=e.ease,t.duration=xt(e.duration),t.type="keyframes",t};function pa({keyframes:t,velocity:e=0,power:r=.8,timeConstant:n=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:a,min:o,max:c,restDelta:u=.5,restSpeed:d}){const h=t[0],f={done:!1,value:h},m=j=>o!==void 0&&j<o||c!==void 0&&j>c,p=j=>o===void 0?c:c===void 0||Math.abs(o-j)<Math.abs(c-j)?o:c;let y=r*e;const b=h+y,g=a===void 0?b:a(b);g!==b&&(y=g-h);const v=j=>-y*Math.exp(-j/n),x=j=>g+v(j),k=j=>{const E=v(j),D=x(j);f.done=Math.abs(E)<=u,f.value=f.done?g:D};let S,T;const _=j=>{m(f.value)&&(S=j,T=ni({keyframes:[f.value,p(f.value)],velocity:Hd(x,j,f.value),damping:s,stiffness:i,restDelta:u,restSpeed:d}))};return _(0),{calculatedDuration:null,next:j=>{let E=!1;return!T&&S===void 0&&(E=!0,k(j),_(j)),S!==void 0&&j>=S?T.next(j-S):(!E&&k(j),f)}}}function F0(t,e,r){const n=[],s=r||Ft.mix||zd,i=t.length-1;for(let a=0;a<i;a++){let o=s(t[a],t[a+1]);if(e){const c=Array.isArray(e)?e[a]||ot:e;o=cs(c,o)}n.push(o)}return n}function B0(t,e,{clamp:r=!0,ease:n,mixer:s}={}){const i=t.length;if(fo(i===e.length),i===1)return()=>e[0];if(i===2&&e[0]===e[1])return()=>e[1];const a=t[0]===t[1];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=F0(e,n,s),c=o.length,u=d=>{if(a&&d<t[0])return e[0];let h=0;if(c>1)for(;h<t.length-2&&!(d<t[h+1]);h++);const f=Vn(t[h],t[h+1],d);return o[h](f)};return r?d=>u(Tt(t[0],t[i-1],d)):u}function $0(t,e){const r=t[t.length-1];for(let n=1;n<=e;n++){const s=Vn(0,e,n);t.push(Ne(r,1,s))}}function V0(t){const e=[0];return $0(e,t.length-1),e}function U0(t,e){return t.map(r=>r*e)}function z0(t,e){return t.map(()=>e||Rd).splice(0,t.length-1)}function Pn({duration:t=300,keyframes:e,times:r,ease:n="easeInOut"}){const s=e0(n)?n.map(Rl):Rl(n),i={done:!1,value:e[0]},a=U0(r&&r.length===e.length?r:V0(e),t),o=B0(a,e,{ease:Array.isArray(s)?s:z0(e,s)});return{calculatedDuration:t,next:c=>(i.value=o(c),i.done=c>=t,i)}}const W0=t=>t!==null;function jo(t,{repeat:e,repeatType:r="loop"},n,s=1){const i=t.filter(W0),o=s<0||e&&r!=="loop"&&e%2===1?0:i.length-1;return!o||n===void 0?i[o]:n}const H0={decay:pa,inertia:pa,tween:Pn,keyframes:Pn,spring:ni};function Gd(t){typeof t.type=="string"&&(t.type=H0[t.type])}class ko{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,r){return this.finished.then(e,r)}}const G0=t=>t/100;class So extends ko{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var n,s;const{motionValue:r}=this.options;r&&r.updatedAt!==Je.now()&&this.tick(Je.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(s=(n=this.options).onStop)==null||s.call(n))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;Gd(e);const{type:r=Pn,repeat:n=0,repeatDelay:s=0,repeatType:i,velocity:a=0}=e;let{keyframes:o}=e;const c=r||Pn;c!==Pn&&typeof o[0]!="number"&&(this.mixKeyframes=cs(G0,zd(o[0],o[1])),o=[0,100]);const u=c({...e,keyframes:o});i==="mirror"&&(this.mirroredGenerator=c({...e,keyframes:[...o].reverse(),velocity:-a})),u.calculatedDuration===null&&(u.calculatedDuration=_o(u));const{calculatedDuration:d}=u;this.calculatedDuration=d,this.resolvedDuration=d+s,this.totalDuration=this.resolvedDuration*(n+1)-s,this.generator=u}updateTime(e){const r=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(e,r=!1){const{generator:n,totalDuration:s,mixKeyframes:i,mirroredGenerator:a,resolvedDuration:o,calculatedDuration:c}=this;if(this.startTime===null)return n.next(0);const{delay:u=0,keyframes:d,repeat:h,repeatType:f,repeatDelay:m,type:p,onUpdate:y,finalKeyframe:b}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-s/this.speed,this.startTime)),r?this.currentTime=e:this.updateTime(e);const g=this.currentTime-u*(this.playbackSpeed>=0?1:-1),v=this.playbackSpeed>=0?g<0:g>s;this.currentTime=Math.max(g,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let x=this.currentTime,k=n;if(h){const j=Math.min(this.currentTime,s)/o;let E=Math.floor(j),D=j%1;!D&&j>=1&&(D=1),D===1&&E--,E=Math.min(E,h+1),!!(E%2)&&(f==="reverse"?(D=1-D,m&&(D-=m/o)):f==="mirror"&&(k=a)),x=Tt(0,1,D)*o}const S=v?{done:!1,value:d[0]}:k.next(x);i&&(S.value=i(S.value));let{done:T}=S;!v&&c!==null&&(T=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const _=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&T);return _&&p!==pa&&(S.value=jo(d,this.options,b,this.speed)),y&&y(S.value),_&&this.finish(),S}then(e,r){return this.finished.then(e,r)}get duration(){return at(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+at(e)}get time(){return at(this.currentTime)}set time(e){var r;e=xt(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(r=this.driver)==null||r.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Je.now());const r=this.playbackSpeed!==e;this.playbackSpeed=e,r&&(this.time=at(this.currentTime))}play(){var s,i;if(this.isStopped)return;const{driver:e=C0,startTime:r}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),(i=(s=this.options).onPlay)==null||i.call(s);const n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=r??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Je.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,r;this.notifyFinished(),this.teardown(),this.state="finished",(r=(e=this.options).onComplete)==null||r.call(e)}cancel(){var e,r;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(r=(e=this.options).onCancel)==null||r.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var r;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(r=this.driver)==null||r.stop(),e.observe(this)}}function q0(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const gr=t=>t*180/Math.PI,ga=t=>{const e=gr(Math.atan2(t[1],t[0]));return ya(e)},K0={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:ga,rotateZ:ga,skewX:t=>gr(Math.atan(t[1])),skewY:t=>gr(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},ya=t=>(t=t%360,t<0&&(t+=360),t),Bl=ga,$l=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),Vl=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),Y0={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:$l,scaleY:Vl,scale:t=>($l(t)+Vl(t))/2,rotateX:t=>ya(gr(Math.atan2(t[6],t[5]))),rotateY:t=>ya(gr(Math.atan2(-t[2],t[0]))),rotateZ:Bl,rotate:Bl,skewX:t=>gr(Math.atan(t[4])),skewY:t=>gr(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function va(t){return t.includes("scale")?1:0}function xa(t,e){if(!t||t==="none")return va(e);const r=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,s;if(r)n=Y0,s=r;else{const o=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=K0,s=o}if(!s)return va(e);const i=n[e],a=s[1].split(",").map(X0);return typeof i=="function"?i(a):a[i]}const J0=(t,e)=>{const{transform:r="none"}=getComputedStyle(t);return xa(r,e)};function X0(t){return parseFloat(t.trim())}const rn=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],nn=new Set(rn),Ul=t=>t===tn||t===z,Z0=new Set(["x","y","z"]),Q0=rn.filter(t=>!Z0.has(t));function ev(t){const e=[];return Q0.forEach(r=>{const n=t.getValue(r);n!==void 0&&(e.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),e}const Jt={width:({x:t},{paddingLeft:e="0",paddingRight:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),height:({y:t},{paddingTop:e="0",paddingBottom:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>xa(e,"x"),y:(t,{transform:e})=>xa(e,"y")};Jt.translateX=Jt.x;Jt.translateY=Jt.y;const xr=new Set;let ba=!1,wa=!1,_a=!1;function qd(){if(wa){const t=Array.from(xr).filter(n=>n.needsMeasurement),e=new Set(t.map(n=>n.element)),r=new Map;e.forEach(n=>{const s=ev(n);s.length&&(r.set(n,s),n.render())}),t.forEach(n=>n.measureInitialState()),e.forEach(n=>{n.render();const s=r.get(n);s&&s.forEach(([i,a])=>{var o;(o=n.getValue(i))==null||o.set(a)})}),t.forEach(n=>n.measureEndState()),t.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}wa=!1,ba=!1,xr.forEach(t=>t.complete(_a)),xr.clear()}function Kd(){xr.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(wa=!0)})}function tv(){_a=!0,Kd(),qd(),_a=!1}class No{constructor(e,r,n,s,i,a=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=r,this.name=n,this.motionValue=s,this.element=i,this.isAsync=a}scheduleResolve(){this.state="scheduled",this.isAsync?(xr.add(this),ba||(ba=!0,je.read(Kd),je.resolveKeyframes(qd))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:r,element:n,motionValue:s}=this;if(e[0]===null){const i=s==null?void 0:s.get(),a=e[e.length-1];if(i!==void 0)e[0]=i;else if(n&&r){const o=n.readValue(r,a);o!=null&&(e[0]=o)}e[0]===void 0&&(e[0]=a),s&&i===void 0&&s.set(e[0])}q0(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),xr.delete(this)}cancel(){this.state==="scheduled"&&(xr.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const rv=t=>t.startsWith("--");function nv(t,e,r){rv(e)?t.style.setProperty(e,r):t.style[e]=r}const sv=mo(()=>window.ScrollTimeline!==void 0),iv={};function av(t,e){const r=mo(t);return()=>iv[e]??r()}const Yd=av(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Nn=([t,e,r,n])=>`cubic-bezier(${t}, ${e}, ${r}, ${n})`,zl={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Nn([0,.65,.55,1]),circOut:Nn([.55,0,1,.45]),backIn:Nn([.31,.01,.66,-.59]),backOut:Nn([.33,1.53,.69,.99])};function Jd(t,e){if(t)return typeof t=="function"?Yd()?Wd(t,e):"ease-out":Id(t)?Nn(t):Array.isArray(t)?t.map(r=>Jd(r,e)||zl.easeOut):zl[t]}function ov(t,e,r,{delay:n=0,duration:s=300,repeat:i=0,repeatType:a="loop",ease:o="easeOut",times:c}={},u=void 0){const d={[e]:r};c&&(d.offset=c);const h=Jd(o,s);Array.isArray(h)&&(d.easing=h);const f={delay:n,duration:s,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:i+1,direction:a==="reverse"?"alternate":"normal"};return u&&(f.pseudoElement=u),t.animate(d,f)}function Xd(t){return typeof t=="function"&&"applyToOptions"in t}function lv({type:t,...e}){return Xd(t)&&Yd()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class Zd extends ko{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!e)return;const{element:r,name:n,keyframes:s,pseudoElement:i,allowFlatten:a=!1,finalKeyframe:o,onComplete:c}=e;this.isPseudoElement=!!i,this.allowFlatten=a,this.options=e,fo(typeof e.type!="string");const u=lv(e);this.animation=ov(r,n,s,u,i),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const d=jo(s,this.options,o,this.speed);this.updateMotionValue?this.updateMotionValue(d):nv(r,n,d),this.animation.cancel()}c==null||c(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,r;(r=(e=this.animation).finish)==null||r.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var r,n,s;const e=(r=this.options)==null?void 0:r.element;!this.isPseudoElement&&(e!=null&&e.isConnected)&&((s=(n=this.animation).commitStyles)==null||s.call(n))}get duration(){var r,n;const e=((n=(r=this.animation.effect)==null?void 0:r.getComputedTiming)==null?void 0:n.call(r).duration)||0;return at(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+at(e)}get time(){return at(Number(this.animation.currentTime)||0)}set time(e){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=xt(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(e){this.manualStartTime=this.animation.startTime=e}attachTimeline({timeline:e,observe:r}){var n;return this.allowFlatten&&((n=this.animation.effect)==null||n.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&sv()?(this.animation.timeline=e,ot):r(this)}}const Qd={anticipate:Cd,backInOut:Td,circInOut:Pd};function cv(t){return t in Qd}function uv(t){typeof t.ease=="string"&&cv(t.ease)&&(t.ease=Qd[t.ease])}const Mi=10;class dv extends Zd{constructor(e){uv(e),Gd(e),super(e),e.startTime!==void 0&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:r,onUpdate:n,onComplete:s,element:i,...a}=this.options;if(!r)return;if(e!==void 0){r.set(e);return}const o=new So({...a,autoplay:!1}),c=Math.max(Mi,Je.now()-this.startTime),u=Tt(0,Mi,c-Mi);r.setWithVelocity(o.sample(Math.max(0,c-u)).value,o.sample(c).value,u),o.stop()}}const Wl=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Zt.test(t)||t==="0")&&!t.startsWith("url("));function hv(t){const e=t[0];if(t.length===1)return!0;for(let r=0;r<t.length;r++)if(t[r]!==e)return!0}function fv(t,e,r,n){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const i=t[t.length-1],a=Wl(s,e),o=Wl(i,e);return!a||!o?!1:hv(t)||(r==="spring"||Xd(r))&&n}function ja(t){t.duration=0,t.type="keyframes"}const mv=new Set(["opacity","clipPath","filter","transform"]),pv=mo(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function gv(t){var d;const{motionValue:e,name:r,repeatDelay:n,repeatType:s,damping:i,type:a}=t;if(!(((d=e==null?void 0:e.owner)==null?void 0:d.current)instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:u}=e.owner.getProps();return pv()&&r&&mv.has(r)&&(r!=="transform"||!u)&&!c&&!n&&s!=="mirror"&&i!==0&&a!=="inertia"}const yv=40;class vv extends ko{constructor({autoplay:e=!0,delay:r=0,type:n="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:a="loop",keyframes:o,name:c,motionValue:u,element:d,...h}){var p;super(),this.stop=()=>{var y,b;this._animation&&(this._animation.stop(),(y=this.stopTimeline)==null||y.call(this)),(b=this.keyframeResolver)==null||b.cancel()},this.createdAt=Je.now();const f={autoplay:e,delay:r,type:n,repeat:s,repeatDelay:i,repeatType:a,name:c,motionValue:u,element:d,...h},m=(d==null?void 0:d.KeyframeResolver)||No;this.keyframeResolver=new m(o,(y,b,g)=>this.onKeyframesResolved(y,b,f,!g),c,u,d),(p=this.keyframeResolver)==null||p.scheduleResolve()}onKeyframesResolved(e,r,n,s){var b,g;this.keyframeResolver=void 0;const{name:i,type:a,velocity:o,delay:c,isHandoff:u,onUpdate:d}=n;this.resolvedAt=Je.now(),fv(e,i,a,o)||((Ft.instantAnimations||!c)&&(d==null||d(jo(e,n,r))),e[0]=e[e.length-1],ja(n),n.repeat=0);const f={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>yv?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...n,keyframes:e},m=!u&&gv(f),p=(g=(b=f.motionValue)==null?void 0:b.owner)==null?void 0:g.current,y=m?new dv({...f,element:p}):new So(f);y.finished.then(()=>{this.notifyFinished()}).catch(ot),this.pendingTimeline&&(this.stopTimeline=y.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=y}get finished(){return this._animation?this.animation.finished:this._finished}then(e,r){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),tv()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}function eh(t,e,r,n=0,s=1){const i=Array.from(t).sort((u,d)=>u.sortNodePosition(d)).indexOf(e),a=t.size,o=(a-1)*n;return typeof r=="function"?r(i,a):s===1?i*n:o-i*n}const xv=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function bv(t){const e=xv.exec(t);if(!e)return[,];const[,r,n,s]=e;return[`--${r??n}`,s]}function th(t,e,r=1){const[n,s]=bv(t);if(!n)return;const i=window.getComputedStyle(e).getPropertyValue(n);if(i){const a=i.trim();return bd(a)?parseFloat(a):a}return vo(s)?th(s,e,r+1):s}const wv={type:"spring",stiffness:500,damping:25,restSpeed:10},_v=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),jv={type:"keyframes",duration:.8},kv={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Sv=(t,{keyframes:e})=>e.length>2?jv:nn.has(t)?t.startsWith("scale")?_v(e[1]):wv:kv,Nv=t=>t!==null;function Ev(t,{repeat:e,repeatType:r="loop"},n){const s=t.filter(Nv),i=e&&r!=="loop"&&e%2===1?0:s.length-1;return s[i]}function rh(t,e){if(t!=null&&t.inherit&&e){const{inherit:r,...n}=t;return{...e,...n}}return t}function Eo(t,e){const r=(t==null?void 0:t[e])??(t==null?void 0:t.default)??t;return r!==t?rh(r,t):r}function Tv({when:t,delay:e,delayChildren:r,staggerChildren:n,staggerDirection:s,repeat:i,repeatType:a,repeatDelay:o,from:c,elapsed:u,...d}){return!!Object.keys(d).length}const To=(t,e,r,n={},s,i)=>a=>{const o=Eo(n,t)||{},c=o.delay||n.delay||0;let{elapsed:u=0}=n;u=u-xt(c);const d={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:e.getVelocity(),...o,delay:-u,onUpdate:f=>{e.set(f),o.onUpdate&&o.onUpdate(f)},onComplete:()=>{a(),o.onComplete&&o.onComplete()},name:t,motionValue:e,element:i?void 0:s};Tv(o)||Object.assign(d,Sv(t,d)),d.duration&&(d.duration=xt(d.duration)),d.repeatDelay&&(d.repeatDelay=xt(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let h=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(ja(d),d.delay===0&&(h=!0)),(Ft.instantAnimations||Ft.skipAnimations||s!=null&&s.shouldSkipAnimations)&&(h=!0,ja(d),d.delay=0),d.allowFlatten=!o.type&&!o.ease,h&&!i&&e.get()!==void 0){const f=Ev(d.keyframes,o);if(f!==void 0){je.update(()=>{d.onUpdate(f),d.onComplete()});return}}return o.isSync?new So(d):new vv(d)};function Hl(t){const e=[{},{}];return t==null||t.values.forEach((r,n)=>{e[0][n]=r.get(),e[1][n]=r.getVelocity()}),e}function Co(t,e,r,n){if(typeof e=="function"){const[s,i]=Hl(n);e=e(r!==void 0?r:t.custom,s,i)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,i]=Hl(n);e=e(r!==void 0?r:t.custom,s,i)}return e}function Zr(t,e,r){const n=t.getProps();return Co(n,e,r!==void 0?r:n.custom,t)}const nh=new Set(["width","height","top","left","right","bottom",...rn]),Gl=30,Cv=t=>!isNaN(parseFloat(t));class Av{constructor(e,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=n=>{var i;const s=Je.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&((i=this.events.change)==null||i.notify(this.current),this.dependents))for(const a of this.dependents)a.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=r.owner}setCurrent(e){this.current=e,this.updatedAt=Je.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=Cv(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,r){this.events[e]||(this.events[e]=new po);const n=this.events[e].add(r);return e==="change"?()=>{n(),je.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,r){this.passiveEffect=e,this.stopPassiveEffect=r}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e,r=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Je.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Gl)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,Gl);return jd(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(e){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=e(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,r;(e=this.dependents)==null||e.clear(),(r=this.events.destroy)==null||r.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function en(t,e){return new Av(t,e)}const ka=t=>Array.isArray(t);function Pv(t,e,r){t.hasValue(e)?t.getValue(e).set(r):t.addValue(e,en(r))}function Rv(t){return ka(t)?t[t.length-1]||0:t}function Iv(t,e){const r=Zr(t,e);let{transitionEnd:n={},transition:s={},...i}=r||{};i={...i,...n};for(const a in i){const o=Rv(i[a]);Pv(t,a,o)}}const Ke=t=>!!(t&&t.getVelocity);function Dv(t){return!!(Ke(t)&&t.add)}function Sa(t,e){const r=t.getValue("willChange");if(Dv(r))return r.add(e);if(!r&&Ft.WillChange){const n=new Ft.WillChange("auto");t.addValue("willChange",n),n.add(e)}}function Ao(t){return t.replace(/([A-Z])/g,e=>`-${e.toLowerCase()}`)}const Lv="framerAppearId",sh="data-"+Ao(Lv);function ih(t){return t.props[sh]}function Ov({protectedKeys:t,needsAnimating:e},r){const n=t.hasOwnProperty(r)&&e[r]!==!0;return e[r]=!1,n}function ah(t,e,{delay:r=0,transitionOverride:n,type:s}={}){let{transition:i,transitionEnd:a,...o}=e;const c=t.getDefaultTransition();i=i?rh(i,c):c;const u=i==null?void 0:i.reduceMotion;n&&(i=n);const d=[],h=s&&t.animationState&&t.animationState.getState()[s];for(const f in o){const m=t.getValue(f,t.latestValues[f]??null),p=o[f];if(p===void 0||h&&Ov(h,f))continue;const y={delay:r,...Eo(i||{},f)},b=m.get();if(b!==void 0&&!m.isAnimating&&!Array.isArray(p)&&p===b&&!y.velocity)continue;let g=!1;if(window.MotionHandoffAnimation){const k=ih(t);if(k){const S=window.MotionHandoffAnimation(k,f,je);S!==null&&(y.startTime=S,g=!0)}}Sa(t,f);const v=u??t.shouldReduceMotion;m.start(To(f,m,p,v&&nh.has(f)?{type:!1}:y,t,g));const x=m.animation;x&&d.push(x)}if(a){const f=()=>je.update(()=>{a&&Iv(t,a)});d.length?Promise.all(d).then(f):f()}return d}function Na(t,e,r={}){var c;const n=Zr(t,e,r.type==="exit"?(c=t.presenceContext)==null?void 0:c.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(s=r.transitionOverride);const i=n?()=>Promise.all(ah(t,n,r)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:h,staggerDirection:f}=s;return Mv(t,e,u,d,h,f,r)}:()=>Promise.resolve(),{when:o}=s;if(o){const[u,d]=o==="beforeChildren"?[i,a]:[a,i];return u().then(()=>d())}else return Promise.all([i(),a(r.delay)])}function Mv(t,e,r=0,n=0,s=0,i=1,a){const o=[];for(const c of t.variantChildren)c.notify("AnimationStart",e),o.push(Na(c,e,{...a,delay:r+(typeof n=="function"?0:n)+eh(t.variantChildren,c,n,s,i)}).then(()=>c.notify("AnimationComplete",e)));return Promise.all(o)}function Fv(t,e,r={}){t.notify("AnimationStart",e);let n;if(Array.isArray(e)){const s=e.map(i=>Na(t,i,r));n=Promise.all(s)}else if(typeof e=="string")n=Na(t,e,r);else{const s=typeof e=="function"?Zr(t,e,r.custom):e;n=Promise.all(ah(t,s,r))}return n.then(()=>{t.notify("AnimationComplete",e)})}const Bv={test:t=>t==="auto",parse:t=>t},oh=t=>e=>e.test(t),lh=[tn,z,Nt,zt,f0,h0,Bv],ql=t=>lh.find(oh(t));function $v(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||_d(t):!0}const Vv=new Set(["brightness","contrast","saturate","opacity"]);function Uv(t){const[e,r]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[n]=r.match(xo)||[];if(!n)return t;const s=r.replace(n,"");let i=Vv.has(e)?1:0;return n!==r&&(i*=100),e+"("+i+s+")"}const zv=/\b([a-z-]*)\(.*?\)/gu,Ea={...Zt,getAnimatableNone:t=>{const e=t.match(zv);return e?e.map(Uv).join(" "):t}},Kl={...tn,transform:Math.round},Wv={rotate:zt,rotateX:zt,rotateY:zt,rotateZ:zt,scale:Ps,scaleX:Ps,scaleY:Ps,scaleZ:Ps,skew:zt,skewX:zt,skewY:zt,distance:z,translateX:z,translateY:z,translateZ:z,x:z,y:z,z,perspective:z,transformPerspective:z,opacity:Un,originX:Dl,originY:Dl,originZ:z},Po={borderWidth:z,borderTopWidth:z,borderRightWidth:z,borderBottomWidth:z,borderLeftWidth:z,borderRadius:z,borderTopLeftRadius:z,borderTopRightRadius:z,borderBottomRightRadius:z,borderBottomLeftRadius:z,width:z,maxWidth:z,height:z,maxHeight:z,top:z,right:z,bottom:z,left:z,inset:z,insetBlock:z,insetBlockStart:z,insetBlockEnd:z,insetInline:z,insetInlineStart:z,insetInlineEnd:z,padding:z,paddingTop:z,paddingRight:z,paddingBottom:z,paddingLeft:z,paddingBlock:z,paddingBlockStart:z,paddingBlockEnd:z,paddingInline:z,paddingInlineStart:z,paddingInlineEnd:z,margin:z,marginTop:z,marginRight:z,marginBottom:z,marginLeft:z,marginBlock:z,marginBlockStart:z,marginBlockEnd:z,marginInline:z,marginInlineStart:z,marginInlineEnd:z,fontSize:z,backgroundPositionX:z,backgroundPositionY:z,...Wv,zIndex:Kl,fillOpacity:Un,strokeOpacity:Un,numOctaves:Kl},Hv={...Po,color:Ie,backgroundColor:Ie,outlineColor:Ie,fill:Ie,stroke:Ie,borderColor:Ie,borderTopColor:Ie,borderRightColor:Ie,borderBottomColor:Ie,borderLeftColor:Ie,filter:Ea,WebkitFilter:Ea},ch=t=>Hv[t];function uh(t,e){let r=ch(t);return r!==Ea&&(r=Zt),r.getAnimatableNone?r.getAnimatableNone(e):void 0}const Gv=new Set(["auto","none","0"]);function qv(t,e,r){let n=0,s;for(;n<t.length&&!s;){const i=t[n];typeof i=="string"&&!Gv.has(i)&&zn(i).values.length&&(s=t[n]),n++}if(s&&r)for(const i of e)t[i]=uh(r,s)}class Kv extends No{constructor(e,r,n,s,i){super(e,r,n,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let d=0;d<e.length;d++){let h=e[d];if(typeof h=="string"&&(h=h.trim(),vo(h))){const f=th(h,r.current);f!==void 0&&(e[d]=f),d===e.length-1&&(this.finalKeyframe=h)}}if(this.resolveNoneKeyframes(),!nh.has(n)||e.length!==2)return;const[s,i]=e,a=ql(s),o=ql(i),c=Il(s),u=Il(i);if(c!==u&&Jt[n]){this.needsMeasurement=!0;return}if(a!==o)if(Ul(a)&&Ul(o))for(let d=0;d<e.length;d++){const h=e[d];typeof h=="string"&&(e[d]=parseFloat(h))}else Jt[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:r}=this,n=[];for(let s=0;s<e.length;s++)(e[s]===null||$v(e[s]))&&n.push(s);n.length&&qv(e,n,r)}measureInitialState(){const{element:e,unresolvedKeyframes:r,name:n}=this;if(!e||!e.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Jt[n](e.measureViewportBox(),window.getComputedStyle(e.current)),r[0]=this.measuredOrigin;const s=r[r.length-1];s!==void 0&&e.getValue(n,s).jump(s,!1)}measureEndState(){var o;const{element:e,name:r,unresolvedKeyframes:n}=this;if(!e||!e.current)return;const s=e.getValue(r);s&&s.jump(this.measuredOrigin,!1);const i=n.length-1,a=n[i];n[i]=Jt[r](e.measureViewportBox(),window.getComputedStyle(e.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),(o=this.removedTransforms)!=null&&o.length&&this.removedTransforms.forEach(([c,u])=>{e.getValue(c).set(u)}),this.resolveNoneKeyframes()}}const Yv=new Set(["opacity","clipPath","filter","transform"]);function dh(t,e,r){if(t==null)return[];if(t instanceof EventTarget)return[t];if(typeof t=="string"){let n=document;const s=(r==null?void 0:r[t])??n.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t).filter(n=>n!=null)}const hh=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function Jv(t){return wd(t)&&"offsetHeight"in t}const{schedule:Ro}=Dd(queueMicrotask,!1),gt={x:!1,y:!1};function fh(){return gt.x||gt.y}function Xv(t){return t==="x"||t==="y"?gt[t]?null:(gt[t]=!0,()=>{gt[t]=!1}):gt.x||gt.y?null:(gt.x=gt.y=!0,()=>{gt.x=gt.y=!1})}function mh(t,e){const r=dh(t),n=new AbortController,s={passive:!0,...e,signal:n.signal};return[r,s,()=>n.abort()]}function Zv(t){return!(t.pointerType==="touch"||fh())}function Qv(t,e,r={}){const[n,s,i]=mh(t,r);return n.forEach(a=>{let o=!1,c=!1,u;const d=()=>{a.removeEventListener("pointerleave",p)},h=b=>{u&&(u(b),u=void 0),d()},f=b=>{o=!1,window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",f),c&&(c=!1,h(b))},m=()=>{o=!0,window.addEventListener("pointerup",f,s),window.addEventListener("pointercancel",f,s)},p=b=>{if(b.pointerType!=="touch"){if(o){c=!0;return}h(b)}},y=b=>{if(!Zv(b))return;c=!1;const g=e(a,b);typeof g=="function"&&(u=g,a.addEventListener("pointerleave",p,s))};a.addEventListener("pointerenter",y,s),a.addEventListener("pointerdown",m,s)}),i}const ph=(t,e)=>e?t===e?!0:ph(t,e.parentElement):!1,Io=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,ex=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function tx(t){return ex.has(t.tagName)||t.isContentEditable===!0}const rx=new Set(["INPUT","SELECT","TEXTAREA"]);function nx(t){return rx.has(t.tagName)||t.isContentEditable===!0}const Gs=new WeakSet;function Yl(t){return e=>{e.key==="Enter"&&t(e)}}function Fi(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const sx=(t,e)=>{const r=t.currentTarget;if(!r)return;const n=Yl(()=>{if(Gs.has(r))return;Fi(r,"down");const s=Yl(()=>{Fi(r,"up")}),i=()=>Fi(r,"cancel");r.addEventListener("keyup",s,e),r.addEventListener("blur",i,e)});r.addEventListener("keydown",n,e),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),e)};function Jl(t){return Io(t)&&!fh()}const Xl=new WeakSet;function ix(t,e,r={}){const[n,s,i]=mh(t,r),a=o=>{const c=o.currentTarget;if(!Jl(o)||Xl.has(o))return;Gs.add(c),r.stopPropagation&&Xl.add(o);const u=e(c,o),d=(m,p)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",f),Gs.has(c)&&Gs.delete(c),Jl(m)&&typeof u=="function"&&u(m,{success:p})},h=m=>{d(m,c===window||c===document||r.useGlobalTarget||ph(c,m.target))},f=m=>{d(m,!1)};window.addEventListener("pointerup",h,s),window.addEventListener("pointercancel",f,s)};return n.forEach(o=>{(r.useGlobalTarget?window:o).addEventListener("pointerdown",a,s),Jv(o)&&(o.addEventListener("focus",u=>sx(u,s)),!tx(o)&&!o.hasAttribute("tabindex")&&(o.tabIndex=0))}),i}function Do(t){return wd(t)&&"ownerSVGElement"in t}const qs=new WeakMap;let Wt;const gh=(t,e,r)=>(n,s)=>s&&s[0]?s[0][t+"Size"]:Do(n)&&"getBBox"in n?n.getBBox()[e]:n[r],ax=gh("inline","width","offsetWidth"),ox=gh("block","height","offsetHeight");function lx({target:t,borderBoxSize:e}){var r;(r=qs.get(t))==null||r.forEach(n=>{n(t,{get width(){return ax(t,e)},get height(){return ox(t,e)}})})}function cx(t){t.forEach(lx)}function ux(){typeof ResizeObserver>"u"||(Wt=new ResizeObserver(cx))}function dx(t,e){Wt||ux();const r=dh(t);return r.forEach(n=>{let s=qs.get(n);s||(s=new Set,qs.set(n,s)),s.add(e),Wt==null||Wt.observe(n)}),()=>{r.forEach(n=>{const s=qs.get(n);s==null||s.delete(e),s!=null&&s.size||Wt==null||Wt.unobserve(n)})}}const Ks=new Set;let Hr;function hx(){Hr=()=>{const t={get width(){return window.innerWidth},get height(){return window.innerHeight}};Ks.forEach(e=>e(t))},window.addEventListener("resize",Hr)}function fx(t){return Ks.add(t),Hr||hx(),()=>{Ks.delete(t),!Ks.size&&typeof Hr=="function"&&(window.removeEventListener("resize",Hr),Hr=void 0)}}function Zl(t,e){return typeof t=="function"?fx(t):dx(t,e)}function mx(t){return Do(t)&&t.tagName==="svg"}const px=[...lh,Ie,Zt],gx=t=>px.find(oh(t)),Ql=()=>({translate:0,scale:1,origin:0,originPoint:0}),Gr=()=>({x:Ql(),y:Ql()}),ec=()=>({min:0,max:0}),Fe=()=>({x:ec(),y:ec()}),yx=new WeakMap;function mi(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Wn(t){return typeof t=="string"||Array.isArray(t)}const Lo=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Oo=["initial",...Lo];function pi(t){return mi(t.animate)||Oo.some(e=>Wn(t[e]))}function yh(t){return!!(pi(t)||t.variants)}function vx(t,e,r){for(const n in e){const s=e[n],i=r[n];if(Ke(s))t.addValue(n,s);else if(Ke(i))t.addValue(n,en(s,{owner:t}));else if(i!==s)if(t.hasValue(n)){const a=t.getValue(n);a.liveStyle===!0?a.jump(s):a.hasAnimated||a.set(s)}else{const a=t.getStaticValue(n);t.addValue(n,en(a!==void 0?a:s,{owner:t}))}}for(const n in r)e[n]===void 0&&t.removeValue(n);return e}const Ta={current:null},vh={current:!1},xx=typeof window<"u";function bx(){if(vh.current=!0,!!xx)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Ta.current=t.matches;t.addEventListener("change",e),e()}else Ta.current=!1}const tc=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let si={};function xh(t){si=t}function wx(){return si}class _x{scrapeMotionValuesFromProps(e,r,n){return{}}constructor({parent:e,props:r,presenceContext:n,reducedMotionConfig:s,skipAnimations:i,blockInitialAnimation:a,visualState:o},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.shouldSkipAnimations=!1,this.values=new Map,this.KeyframeResolver=No,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.hasBeenMounted=!1,this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const m=Je.now();this.renderScheduledAt<m&&(this.renderScheduledAt=m,je.render(this.render,!1,!0))};const{latestValues:u,renderState:d}=o;this.latestValues=u,this.baseTarget={...u},this.initialValues=r.initial?{...u}:{},this.renderState=d,this.parent=e,this.props=r,this.presenceContext=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.skipAnimationsConfig=i,this.options=c,this.blockInitialAnimation=!!a,this.isControllingVariants=pi(r),this.isVariantNode=yh(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:h,...f}=this.scrapeMotionValuesFromProps(r,{},this);for(const m in f){const p=f[m];u[m]!==void 0&&Ke(p)&&p.set(u[m])}}mount(e){var r,n;if(this.hasBeenMounted)for(const s in this.initialValues)(r=this.values.get(s))==null||r.jump(this.initialValues[s]),this.latestValues[s]=this.initialValues[s];this.current=e,yx.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((s,i)=>this.bindToMotionValue(i,s)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(vh.current||bx(),this.shouldReduceMotion=Ta.current),this.shouldSkipAnimations=this.skipAnimationsConfig??!1,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext),this.hasBeenMounted=!0}unmount(){var e;this.projection&&this.projection.unmount(),Xt(this.notifyUpdate),Xt(this.render),this.valueSubscriptions.forEach(r=>r()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const r in this.events)this.events[r].clear();for(const r in this.features){const n=this.features[r];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,r){if(this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)(),r.accelerate&&Yv.has(e)&&this.current instanceof HTMLElement){const{factory:a,keyframes:o,times:c,ease:u,duration:d}=r.accelerate,h=new Zd({element:this.current,name:e,keyframes:o,times:c,ease:u,duration:xt(d)}),f=a(h);this.valueSubscriptions.set(e,()=>{f(),h.cancel()});return}const n=nn.has(e);n&&this.onBindTransform&&this.onBindTransform();const s=r.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&je.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;typeof window<"u"&&window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,e,r)),this.valueSubscriptions.set(e,()=>{s(),i&&i(),r.owner&&r.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in si){const r=si[e];if(!r)continue;const{isEnabled:n,Feature:s}=r;if(!this.features[e]&&s&&n(this.props)&&(this.features[e]=new s(this)),this.features[e]){const i=this.features[e];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Fe()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,r){this.latestValues[e]=r}update(e,r){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<tc.length;n++){const s=tc[n];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,a=e[i];a&&(this.propEventSubscriptions[s]=this.on(s,a))}this.prevMotionValues=vx(this,this.scrapeMotionValuesFromProps(e,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(e),()=>r.variantChildren.delete(e)}addValue(e,r){const n=this.values.get(e);r!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,r),this.values.set(e,r),this.latestValues[e]=r.get())}removeValue(e){this.values.delete(e);const r=this.valueSubscriptions.get(e);r&&(r(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,r){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return n===void 0&&r!==void 0&&(n=en(r===null?void 0:r,{owner:this}),this.addValue(e,n)),n}readValue(e,r){let n=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return n!=null&&(typeof n=="string"&&(bd(n)||_d(n))?n=parseFloat(n):!gx(n)&&Zt.test(r)&&(n=uh(e,r)),this.setBaseTarget(e,Ke(n)?n.get():n)),Ke(n)?n.get():n}setBaseTarget(e,r){this.baseTarget[e]=r}getBaseTarget(e){var i;const{initial:r}=this.props;let n;if(typeof r=="string"||typeof r=="object"){const a=Co(this.props,r,(i=this.presenceContext)==null?void 0:i.custom);a&&(n=a[e])}if(r&&n!==void 0)return n;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!Ke(s)?s:this.initialValues[e]!==void 0&&n===void 0?void 0:this.baseTarget[e]}on(e,r){return this.events[e]||(this.events[e]=new po),this.events[e].add(r)}notify(e,...r){this.events[e]&&this.events[e].notify(...r)}scheduleRenderMicrotask(){Ro.render(this.render)}}class bh extends _x{constructor(){super(...arguments),this.KeyframeResolver=Kv}sortInstanceNodePosition(e,r){return e.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(e,r){const n=e.style;return n?n[r]:void 0}removeValueFromRenderState(e,{vars:r,style:n}){delete r[e],delete n[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Ke(e)&&(this.childSubscription=e.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}class er{constructor(e){this.isMounted=!1,this.node=e}update(){}}function wh({top:t,left:e,right:r,bottom:n}){return{x:{min:e,max:r},y:{min:t,max:n}}}function jx({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function kx(t,e){if(!e)return t;const r=e({x:t.left,y:t.top}),n=e({x:t.right,y:t.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function Bi(t){return t===void 0||t===1}function Ca({scale:t,scaleX:e,scaleY:r}){return!Bi(t)||!Bi(e)||!Bi(r)}function ur(t){return Ca(t)||_h(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function _h(t){return rc(t.x)||rc(t.y)}function rc(t){return t&&t!=="0%"}function ii(t,e,r){const n=t-r,s=e*n;return r+s}function nc(t,e,r,n,s){return s!==void 0&&(t=ii(t,s,n)),ii(t,r,n)+e}function Aa(t,e=0,r=1,n,s){t.min=nc(t.min,e,r,n,s),t.max=nc(t.max,e,r,n,s)}function jh(t,{x:e,y:r}){Aa(t.x,e.translate,e.scale,e.originPoint),Aa(t.y,r.translate,r.scale,r.originPoint)}const sc=.999999999999,ic=1.0000000000001;function Sx(t,e,r,n=!1){const s=r.length;if(!s)return;e.x=e.y=1;let i,a;for(let o=0;o<s;o++){i=r[o],a=i.projectionDelta;const{visualElement:c}=i.options;c&&c.props.style&&c.props.style.display==="contents"||(n&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Kr(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,jh(t,a)),n&&ur(i.latestValues)&&Kr(t,i.latestValues))}e.x<ic&&e.x>sc&&(e.x=1),e.y<ic&&e.y>sc&&(e.y=1)}function qr(t,e){t.min=t.min+e,t.max=t.max+e}function ac(t,e,r,n,s=.5){const i=Ne(t.min,t.max,s);Aa(t,e,r,i,n)}function Kr(t,e){ac(t.x,e.x,e.scaleX,e.scale,e.originX),ac(t.y,e.y,e.scaleY,e.scale,e.originY)}function kh(t,e){return wh(kx(t.getBoundingClientRect(),e))}function Nx(t,e,r){const n=kh(t,r),{scroll:s}=e;return s&&(qr(n.x,s.offset.x),qr(n.y,s.offset.y)),n}const Ex={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Tx=rn.length;function Cx(t,e,r){let n="",s=!0;for(let i=0;i<Tx;i++){const a=rn[i],o=t[a];if(o===void 0)continue;let c=!0;if(typeof o=="number")c=o===(a.startsWith("scale")?1:0);else{const u=parseFloat(o);c=a.startsWith("scale")?u===1:u===0}if(!c||r){const u=hh(o,Po[a]);if(!c){s=!1;const d=Ex[a]||a;n+=`${d}(${u}) `}r&&(e[a]=u)}}return n=n.trim(),r?n=r(e,s?"":n):s&&(n="none"),n}function Mo(t,e,r){const{style:n,vars:s,transformOrigin:i}=t;let a=!1,o=!1;for(const c in e){const u=e[c];if(nn.has(c)){a=!0;continue}else if(Od(c)){s[c]=u;continue}else{const d=hh(u,Po[c]);c.startsWith("origin")?(o=!0,i[c]=d):n[c]=d}}if(e.transform||(a||r?n.transform=Cx(e,t.transform,r):n.transform&&(n.transform="none")),o){const{originX:c="50%",originY:u="50%",originZ:d=0}=i;n.transformOrigin=`${c} ${u} ${d}`}}function Sh(t,{style:e,vars:r},n,s){const i=t.style;let a;for(a in e)i[a]=e[a];s==null||s.applyProjectionStyles(i,n);for(a in r)i.setProperty(a,r[a])}function oc(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const wn={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(z.test(t))t=parseFloat(t);else return t;const r=oc(t,e.target.x),n=oc(t,e.target.y);return`${r}% ${n}%`}},Ax={correct:(t,{treeScale:e,projectionDelta:r})=>{const n=t,s=Zt.parse(t);if(s.length>5)return n;const i=Zt.createTransformer(t),a=typeof s[0]!="number"?1:0,o=r.x.scale*e.x,c=r.y.scale*e.y;s[0+a]/=o,s[1+a]/=c;const u=Ne(o,c,.5);return typeof s[2+a]=="number"&&(s[2+a]/=u),typeof s[3+a]=="number"&&(s[3+a]/=u),i(s)}},Pa={borderRadius:{...wn,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:wn,borderTopRightRadius:wn,borderBottomLeftRadius:wn,borderBottomRightRadius:wn,boxShadow:Ax};function Nh(t,{layout:e,layoutId:r}){return nn.has(t)||t.startsWith("origin")||(e||r!==void 0)&&(!!Pa[t]||t==="opacity")}function Fo(t,e,r){var a;const n=t.style,s=e==null?void 0:e.style,i={};if(!n)return i;for(const o in n)(Ke(n[o])||s&&Ke(s[o])||Nh(o,t)||((a=r==null?void 0:r.getValue(o))==null?void 0:a.liveStyle)!==void 0)&&(i[o]=n[o]);return i}function Px(t){return window.getComputedStyle(t)}class Rx extends bh{constructor(){super(...arguments),this.type="html",this.renderInstance=Sh}readValueFromInstance(e,r){var n;if(nn.has(r))return(n=this.projection)!=null&&n.isProjecting?va(r):J0(e,r);{const s=Px(e),i=(Od(r)?s.getPropertyValue(r):s[r])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:r}){return kh(e,r)}build(e,r,n){Mo(e,r,n.transformTemplate)}scrapeMotionValuesFromProps(e,r,n){return Fo(e,r,n)}}const Ix={offset:"stroke-dashoffset",array:"stroke-dasharray"},Dx={offset:"strokeDashoffset",array:"strokeDasharray"};function Lx(t,e,r=1,n=0,s=!0){t.pathLength=1;const i=s?Ix:Dx;t[i.offset]=`${-n}`,t[i.array]=`${e} ${r}`}const Ox=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function Eh(t,{attrX:e,attrY:r,attrScale:n,pathLength:s,pathSpacing:i=1,pathOffset:a=0,...o},c,u,d){if(Mo(t,o,u),c){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:h,style:f}=t;h.transform&&(f.transform=h.transform,delete h.transform),(f.transform||h.transformOrigin)&&(f.transformOrigin=h.transformOrigin??"50% 50%",delete h.transformOrigin),f.transform&&(f.transformBox=(d==null?void 0:d.transformBox)??"fill-box",delete h.transformBox);for(const m of Ox)h[m]!==void 0&&(f[m]=h[m],delete h[m]);e!==void 0&&(h.x=e),r!==void 0&&(h.y=r),n!==void 0&&(h.scale=n),s!==void 0&&Lx(h,s,i,a,!1)}const Th=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),Ch=t=>typeof t=="string"&&t.toLowerCase()==="svg";function Mx(t,e,r,n){Sh(t,e,void 0,n);for(const s in e.attrs)t.setAttribute(Th.has(s)?s:Ao(s),e.attrs[s])}function Ah(t,e,r){const n=Fo(t,e,r);for(const s in t)if(Ke(t[s])||Ke(e[s])){const i=rn.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;n[i]=t[s]}return n}class Fx extends bh{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Fe}getBaseTargetFromProps(e,r){return e[r]}readValueFromInstance(e,r){if(nn.has(r)){const n=ch(r);return n&&n.default||0}return r=Th.has(r)?r:Ao(r),e.getAttribute(r)}scrapeMotionValuesFromProps(e,r,n){return Ah(e,r,n)}build(e,r,n){Eh(e,r,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(e,r,n,s){Mx(e,r,n,s)}mount(e){this.isSVGTag=Ch(e.tagName),super.mount(e)}}const Bx=Oo.length;function Ph(t){if(!t)return;if(!t.isControllingVariants){const r=t.parent?Ph(t.parent)||{}:{};return t.props.initial!==void 0&&(r.initial=t.props.initial),r}const e={};for(let r=0;r<Bx;r++){const n=Oo[r],s=t.props[n];(Wn(s)||s===!1)&&(e[n]=s)}return e}function Rh(t,e){if(!Array.isArray(e))return!1;const r=e.length;if(r!==t.length)return!1;for(let n=0;n<r;n++)if(e[n]!==t[n])return!1;return!0}const $x=[...Lo].reverse(),Vx=Lo.length;function Ux(t){return e=>Promise.all(e.map(({animation:r,options:n})=>Fv(t,r,n)))}function zx(t){let e=Ux(t),r=lc(),n=!0;const s=c=>(u,d)=>{var f;const h=Zr(t,d,c==="exit"?(f=t.presenceContext)==null?void 0:f.custom:void 0);if(h){const{transition:m,transitionEnd:p,...y}=h;u={...u,...y,...p}}return u};function i(c){e=c(t)}function a(c){const{props:u}=t,d=Ph(t.parent)||{},h=[],f=new Set;let m={},p=1/0;for(let b=0;b<Vx;b++){const g=$x[b],v=r[g],x=u[g]!==void 0?u[g]:d[g],k=Wn(x),S=g===c?v.isActive:null;S===!1&&(p=b);let T=x===d[g]&&x!==u[g]&&k;if(T&&n&&t.manuallyAnimateOnMount&&(T=!1),v.protectedKeys={...m},!v.isActive&&S===null||!x&&!v.prevProp||mi(x)||typeof x=="boolean")continue;if(g==="exit"&&v.isActive&&S!==!0){v.prevResolvedValues&&(m={...m,...v.prevResolvedValues});continue}const _=Wx(v.prevProp,x);let j=_||g===c&&v.isActive&&!T&&k||b>p&&k,E=!1;const D=Array.isArray(x)?x:[x];let M=D.reduce(s(g),{});S===!1&&(M={});const{prevResolvedValues:$={}}=v,F={...$,...M},X=G=>{j=!0,f.has(G)&&(E=!0,f.delete(G)),v.needsAnimating[G]=!0;const P=t.getValue(G);P&&(P.liveStyle=!1)};for(const G in F){const P=M[G],ue=$[G];if(m.hasOwnProperty(G))continue;let fe=!1;ka(P)&&ka(ue)?fe=!Rh(P,ue):fe=P!==ue,fe?P!=null?X(G):f.add(G):P!==void 0&&f.has(G)?X(G):v.protectedKeys[G]=!0}v.prevProp=x,v.prevResolvedValues=M,v.isActive&&(m={...m,...M}),n&&t.blockInitialAnimation&&(j=!1);const le=T&&_;j&&(!le||E)&&h.push(...D.map(G=>{const P={type:g};if(typeof G=="string"&&n&&!le&&t.manuallyAnimateOnMount&&t.parent){const{parent:ue}=t,fe=Zr(ue,G);if(ue.enteringChildren&&fe){const{delayChildren:q}=fe.transition||{};P.delay=eh(ue.enteringChildren,t,q)}}return{animation:G,options:P}}))}if(f.size){const b={};if(typeof u.initial!="boolean"){const g=Zr(t,Array.isArray(u.initial)?u.initial[0]:u.initial);g&&g.transition&&(b.transition=g.transition)}f.forEach(g=>{const v=t.getBaseTarget(g),x=t.getValue(g);x&&(x.liveStyle=!0),b[g]=v??null}),h.push({animation:b})}let y=!!h.length;return n&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(y=!1),n=!1,y?e(h):Promise.resolve()}function o(c,u){var h;if(r[c].isActive===u)return Promise.resolve();(h=t.variantChildren)==null||h.forEach(f=>{var m;return(m=f.animationState)==null?void 0:m.setActive(c,u)}),r[c].isActive=u;const d=a(c);for(const f in r)r[f].protectedKeys={};return d}return{animateChanges:a,setActive:o,setAnimateFunction:i,getState:()=>r,reset:()=>{r=lc()}}}function Wx(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!Rh(e,t):!1}function ar(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function lc(){return{animate:ar(!0),whileInView:ar(),whileHover:ar(),whileTap:ar(),whileDrag:ar(),whileFocus:ar(),exit:ar()}}function cc(t,e){t.min=e.min,t.max=e.max}function mt(t,e){cc(t.x,e.x),cc(t.y,e.y)}function uc(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}const Ih=1e-4,Hx=1-Ih,Gx=1+Ih,Dh=.01,qx=0-Dh,Kx=0+Dh;function Xe(t){return t.max-t.min}function Yx(t,e,r){return Math.abs(t-e)<=r}function dc(t,e,r,n=.5){t.origin=n,t.originPoint=Ne(e.min,e.max,t.origin),t.scale=Xe(r)/Xe(e),t.translate=Ne(r.min,r.max,t.origin)-t.originPoint,(t.scale>=Hx&&t.scale<=Gx||isNaN(t.scale))&&(t.scale=1),(t.translate>=qx&&t.translate<=Kx||isNaN(t.translate))&&(t.translate=0)}function Rn(t,e,r,n){dc(t.x,e.x,r.x,n?n.originX:void 0),dc(t.y,e.y,r.y,n?n.originY:void 0)}function hc(t,e,r){t.min=r.min+e.min,t.max=t.min+Xe(e)}function Jx(t,e,r){hc(t.x,e.x,r.x),hc(t.y,e.y,r.y)}function fc(t,e,r){t.min=e.min-r.min,t.max=t.min+Xe(e)}function ai(t,e,r){fc(t.x,e.x,r.x),fc(t.y,e.y,r.y)}function mc(t,e,r,n,s){return t-=e,t=ii(t,1/r,n),s!==void 0&&(t=ii(t,1/s,n)),t}function Xx(t,e=0,r=1,n=.5,s,i=t,a=t){if(Nt.test(e)&&(e=parseFloat(e),e=Ne(a.min,a.max,e/100)-a.min),typeof e!="number")return;let o=Ne(i.min,i.max,n);t===i&&(o-=e),t.min=mc(t.min,e,r,o,s),t.max=mc(t.max,e,r,o,s)}function pc(t,e,[r,n,s],i,a){Xx(t,e[r],e[n],e[s],e.scale,i,a)}const Zx=["x","scaleX","originX"],Qx=["y","scaleY","originY"];function gc(t,e,r,n){pc(t.x,e,Zx,r?r.x:void 0,n?n.x:void 0),pc(t.y,e,Qx,r?r.y:void 0,n?n.y:void 0)}function yc(t){return t.translate===0&&t.scale===1}function Lh(t){return yc(t.x)&&yc(t.y)}function vc(t,e){return t.min===e.min&&t.max===e.max}function eb(t,e){return vc(t.x,e.x)&&vc(t.y,e.y)}function xc(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function Oh(t,e){return xc(t.x,e.x)&&xc(t.y,e.y)}function bc(t){return Xe(t.x)/Xe(t.y)}function wc(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}function kt(t){return[t("x"),t("y")]}function tb(t,e,r){let n="";const s=t.x.translate/e.x,i=t.y.translate/e.y,a=(r==null?void 0:r.z)||0;if((s||i||a)&&(n=`translate3d(${s}px, ${i}px, ${a}px) `),(e.x!==1||e.y!==1)&&(n+=`scale(${1/e.x}, ${1/e.y}) `),r){const{transformPerspective:u,rotate:d,rotateX:h,rotateY:f,skewX:m,skewY:p}=r;u&&(n=`perspective(${u}px) ${n}`),d&&(n+=`rotate(${d}deg) `),h&&(n+=`rotateX(${h}deg) `),f&&(n+=`rotateY(${f}deg) `),m&&(n+=`skewX(${m}deg) `),p&&(n+=`skewY(${p}deg) `)}const o=t.x.scale*e.x,c=t.y.scale*e.y;return(o!==1||c!==1)&&(n+=`scale(${o}, ${c})`),n||"none"}const Mh=["TopLeft","TopRight","BottomLeft","BottomRight"],rb=Mh.length,_c=t=>typeof t=="string"?parseFloat(t):t,jc=t=>typeof t=="number"||z.test(t);function nb(t,e,r,n,s,i){s?(t.opacity=Ne(0,r.opacity??1,sb(n)),t.opacityExit=Ne(e.opacity??1,0,ib(n))):i&&(t.opacity=Ne(e.opacity??1,r.opacity??1,n));for(let a=0;a<rb;a++){const o=`border${Mh[a]}Radius`;let c=kc(e,o),u=kc(r,o);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||jc(c)===jc(u)?(t[o]=Math.max(Ne(_c(c),_c(u),n),0),(Nt.test(u)||Nt.test(c))&&(t[o]+="%")):t[o]=u}(e.rotate||r.rotate)&&(t.rotate=Ne(e.rotate||0,r.rotate||0,n))}function kc(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const sb=Fh(0,.5,Ad),ib=Fh(.5,.95,ot);function Fh(t,e,r){return n=>n<t?0:n>e?1:r(Vn(t,e,n))}function ab(t,e,r){const n=Ke(t)?t:en(t);return n.start(To("",n,e,r)),n.animation}function Hn(t,e,r,n={passive:!0}){return t.addEventListener(e,r,n),()=>t.removeEventListener(e,r)}const ob=(t,e)=>t.depth-e.depth;class lb{constructor(){this.children=[],this.isDirty=!1}add(e){ho(this.children,e),this.isDirty=!0}remove(e){ei(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(ob),this.isDirty=!1,this.children.forEach(e)}}function cb(t,e){const r=Je.now(),n=({timestamp:s})=>{const i=s-r;i>=e&&(Xt(n),t(i-e))};return je.setup(n,!0),()=>Xt(n)}function Ys(t){return Ke(t)?t.get():t}class ub{constructor(){this.members=[]}add(e){ho(this.members,e);for(let r=this.members.length-1;r>=0;r--){const n=this.members[r];if(n===e||n===this.lead||n===this.prevLead)continue;const s=n.instance;s&&s.isConnected===!1&&n.isPresent!==!1&&!n.snapshot&&ei(this.members,n)}e.scheduleRender()}remove(e){if(ei(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(e){const r=this.members.findIndex(s=>e===s);if(r===0)return!1;let n;for(let s=r;s>=0;s--){const i=this.members[s],a=i.instance;if(i.isPresent!==!1&&(!a||a.isConnected!==!1)){n=i;break}}return n?(this.promote(n),!0):!1}promote(e,r){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender();const s=n.options.layoutDependency,i=e.options.layoutDependency;if(!(s!==void 0&&i!==void 0&&s===i)){const c=n.instance;c&&c.isConnected===!1&&!n.snapshot||(e.resumeFrom=n,r&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0))}const{crossfade:o}=e.options;o===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:r,resumingFrom:n}=e;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const Js={hasAnimatedSinceResize:!0,hasEverUpdated:!1},$i=["","X","Y","Z"],db=1e3;let hb=0;function Vi(t,e,r,n){const{latestValues:s}=e;s[t]&&(r[t]=s[t],e.setStaticValue(t,0),n&&(n[t]=0))}function Bh(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const r=ih(e);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:s,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(r,"transform",je,!(s||i))}const{parent:n}=t;n&&!n.hasCheckedOptimisedAppear&&Bh(n)}function $h({attachResizeListener:t,defaultParent:e,measureScroll:r,checkIsScrollRoot:n,resetTransform:s}){return class{constructor(a={},o=e==null?void 0:e()){this.id=hb++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(pb),this.nodes.forEach(xb),this.nodes.forEach(bb),this.nodes.forEach(gb)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new lb)}addEventListener(a,o){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new po),this.eventHandlers.get(a).add(o)}notifyListeners(a,...o){const c=this.eventHandlers.get(a);c&&c.notify(...o)}hasListeners(a){return this.eventHandlers.has(a)}mount(a){if(this.instance)return;this.isSVG=Do(a)&&!mx(a),this.instance=a;const{layoutId:o,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||o)&&(this.isLayoutDirty=!0),t){let d,h=0;const f=()=>this.root.updateBlockedByResize=!1;je.read(()=>{h=window.innerWidth}),t(a,()=>{const m=window.innerWidth;m!==h&&(h=m,this.root.updateBlockedByResize=!0,d&&d(),d=cb(f,250),Js.hasAnimatedSinceResize&&(Js.hasAnimatedSinceResize=!1,this.nodes.forEach(Ec)))})}o&&this.root.registerSharedNode(o,this),this.options.animate!==!1&&u&&(o||c)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:h,hasRelativeLayoutChanged:f,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const p=this.options.transition||u.getDefaultTransition()||Sb,{onLayoutAnimationStart:y,onLayoutAnimationComplete:b}=u.getProps(),g=!this.targetLayout||!Oh(this.targetLayout,m),v=!h&&f;if(this.options.layoutRoot||this.resumeFrom||v||h&&(g||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const x={...Eo(p,"layout"),onPlay:y,onComplete:b};(u.shouldReduceMotion||this.options.layoutRoot)&&(x.delay=0,x.type=!1),this.startAnimation(x),this.setAnimationOrigin(d,v)}else h||Ec(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Xt(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(wb),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Bh(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:o,layout:c}=this.options;if(o===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Sc);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Nc);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(vb),this.nodes.forEach(fb),this.nodes.forEach(mb)):this.nodes.forEach(Nc),this.clearAllSnapshots();const o=Je.now();He.delta=Tt(0,1e3/60,o-He.timestamp),He.timestamp=o,He.isProcessing=!0,Ri.update.process(He),Ri.preRender.process(He),Ri.render.process(He),He.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Ro.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(yb),this.sharedNodes.forEach(_b)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,je.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){je.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Xe(this.snapshot.measuredBox.x)&&!Xe(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Fe(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let o=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(o=!1),o&&this.instance){const c=n(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:c,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!s)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,o=this.projectionDelta&&!Lh(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;a&&this.instance&&(o||ur(this.latestValues)||d)&&(s(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const o=this.measurePageBox();let c=this.removeElementScroll(o);return a&&(c=this.removeTransform(c)),Nb(c),{animationId:this.root.animationId,measuredBox:o,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:a}=this.options;if(!a)return Fe();const o=a.measureViewportBox();if(!(((u=this.scroll)==null?void 0:u.wasRoot)||this.path.some(Eb))){const{scroll:d}=this.root;d&&(qr(o.x,d.offset.x),qr(o.y,d.offset.y))}return o}removeElementScroll(a){var c;const o=Fe();if(mt(o,a),(c=this.scroll)!=null&&c.wasRoot)return o;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:h,options:f}=d;d!==this.root&&h&&f.layoutScroll&&(h.wasRoot&&mt(o,a),qr(o.x,h.offset.x),qr(o.y,h.offset.y))}return o}applyTransform(a,o=!1){const c=Fe();mt(c,a);for(let u=0;u<this.path.length;u++){const d=this.path[u];!o&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Kr(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),ur(d.latestValues)&&Kr(c,d.latestValues)}return ur(this.latestValues)&&Kr(c,this.latestValues),c}removeTransform(a){const o=Fe();mt(o,a);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!ur(u.latestValues))continue;Ca(u.latestValues)&&u.updateSnapshot();const d=Fe(),h=u.measurePageBox();mt(d,h),gc(o,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return ur(this.latestValues)&&gc(o,this.latestValues),o}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==He.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var m;const o=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=o.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=o.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=o.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==o;if(!(a||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(m=this.parent)!=null&&m.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:h}=this.options;if(!this.layout||!(d||h))return;this.resolvedRelativeTargetAt=He.timestamp;const f=this.getClosestProjectingParent();f&&this.linkedParentVersion!==f.layoutVersion&&!f.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(f&&f.layout?this.createRelativeTarget(f,this.layout.layoutBox,f.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Fe(),this.targetWithTransforms=Fe()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Jx(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):mt(this.target,this.layout.layoutBox),jh(this.target,this.targetDelta)):mt(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,f&&!!f.resumingFrom==!!this.resumingFrom&&!f.options.layoutScroll&&f.target&&this.animationProgress!==1?this.createRelativeTarget(f,this.target,f.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||Ca(this.parent.latestValues)||_h(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(a,o,c){this.relativeParent=a,this.linkedParentVersion=a.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Fe(),this.relativeTargetOrigin=Fe(),ai(this.relativeTargetOrigin,o,c),mt(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var p;const a=this.getLead(),o=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||(p=this.parent)!=null&&p.isProjectionDirty)&&(c=!1),o&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===He.timestamp&&(c=!1),c)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;mt(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,f=this.treeScale.y;Sx(this.layoutCorrected,this.treeScale,this.path,o),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=Fe());const{target:m}=a;if(!m){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(uc(this.prevProjectionDelta.x,this.projectionDelta.x),uc(this.prevProjectionDelta.y,this.projectionDelta.y)),Rn(this.projectionDelta,this.layoutCorrected,m,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==f||!wc(this.projectionDelta.x,this.prevProjectionDelta.x)||!wc(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){var o;if((o=this.options.visualElement)==null||o.scheduleRender(),a){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Gr(),this.projectionDelta=Gr(),this.projectionDeltaWithTransform=Gr()}setAnimationOrigin(a,o=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},h=Gr();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const f=Fe(),m=c?c.source:void 0,p=this.layout?this.layout.source:void 0,y=m!==p,b=this.getStack(),g=!b||b.members.length<=1,v=!!(y&&!g&&this.options.crossfade===!0&&!this.path.some(kb));this.animationProgress=0;let x;this.mixTargetDelta=k=>{const S=k/1e3;Tc(h.x,a.x,S),Tc(h.y,a.y,S),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ai(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),jb(this.relativeTarget,this.relativeTargetOrigin,f,S),x&&eb(this.relativeTarget,x)&&(this.isProjectionDirty=!1),x||(x=Fe()),mt(x,this.relativeTarget)),y&&(this.animationValues=d,nb(d,u,this.latestValues,S,v,g)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=S},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){var o,c,u;this.notifyListeners("animationStart"),(o=this.currentAnimation)==null||o.stop(),(u=(c=this.resumingFrom)==null?void 0:c.currentAnimation)==null||u.stop(),this.pendingAnimation&&(Xt(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=je.update(()=>{Js.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=en(0)),this.currentAnimation=ab(this.motionValue,[0,1e3],{...a,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),a.onUpdate&&a.onUpdate(d)},onStop:()=>{},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(db),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:o,target:c,layout:u,latestValues:d}=a;if(!(!o||!c||!u)){if(this!==a&&this.layout&&u&&Vh(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||Fe();const h=Xe(this.layout.layoutBox.x);c.x.min=a.target.x.min,c.x.max=c.x.min+h;const f=Xe(this.layout.layoutBox.y);c.y.min=a.target.y.min,c.y.max=c.y.min+f}mt(o,c),Kr(o,d),Rn(this.projectionDeltaWithTransform,this.layoutCorrected,o,d)}}registerSharedNode(a,o){this.sharedNodes.has(a)||this.sharedNodes.set(a,new ub),this.sharedNodes.get(a).add(o);const u=o.options.initialPromotionConfig;o.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(o):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())==null?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())==null?void 0:o.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:o,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),a&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let o=!1;const{latestValues:c}=a;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(o=!0),!o)return;const u={};c.z&&Vi("z",a,u,this.animationValues);for(let d=0;d<$i.length;d++)Vi(`rotate${$i[d]}`,a,u,this.animationValues),Vi(`skew${$i[d]}`,a,u,this.animationValues);a.render();for(const d in u)a.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);a.scheduleRender()}applyProjectionStyles(a,o){if(!this.instance||this.isSVG)return;if(!this.isVisible){a.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,a.visibility="",a.opacity="",a.pointerEvents=Ys(o==null?void 0:o.pointerEvents)||"",a.transform=c?c(this.latestValues,""):"none";return}const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){this.options.layoutId&&(a.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,a.pointerEvents=Ys(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!ur(this.latestValues)&&(a.transform=c?c({},""):"none",this.hasProjected=!1);return}a.visibility="";const d=u.animationValues||u.latestValues;this.applyTransformsToTarget();let h=tb(this.projectionDeltaWithTransform,this.treeScale,d);c&&(h=c(d,h)),a.transform=h;const{x:f,y:m}=this.projectionDelta;a.transformOrigin=`${f.origin*100}% ${m.origin*100}% 0`,u.animationValues?a.opacity=u===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:a.opacity=u===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const p in Pa){if(d[p]===void 0)continue;const{correct:y,applyTo:b,isCSSVariable:g}=Pa[p],v=h==="none"?d[p]:y(d[p],u);if(b){const x=b.length;for(let k=0;k<x;k++)a[b[k]]=v}else g?this.options.visualElement.renderState.vars[p]=v:a[p]=v}this.options.layoutId&&(a.pointerEvents=u===this?Ys(o==null?void 0:o.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var o;return(o=a.currentAnimation)==null?void 0:o.stop()}),this.root.nodes.forEach(Sc),this.root.sharedNodes.clear()}}}function fb(t){t.updateLayout()}function mb(t){var r;const e=((r=t.resumeFrom)==null?void 0:r.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=t.layout,{animationType:i}=t.options,a=e.source!==t.layout.source;i==="size"?kt(h=>{const f=a?e.measuredBox[h]:e.layoutBox[h],m=Xe(f);f.min=n[h].min,f.max=f.min+m}):Vh(i,e.layoutBox,n)&&kt(h=>{const f=a?e.measuredBox[h]:e.layoutBox[h],m=Xe(n[h]);f.max=f.min+m,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+m)});const o=Gr();Rn(o,n,e.layoutBox);const c=Gr();a?Rn(c,t.applyTransform(s,!0),e.measuredBox):Rn(c,n,e.layoutBox);const u=!Lh(o);let d=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:m}=h;if(f&&m){const p=Fe();ai(p,e.layoutBox,f.layoutBox);const y=Fe();ai(y,n,m.layoutBox),Oh(p,y)||(d=!0),h.options.layoutRoot&&(t.relativeTarget=y,t.relativeTargetOrigin=p,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:c,layoutDelta:o,hasLayoutChanged:u,hasRelativeLayoutChanged:d})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function pb(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function gb(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function yb(t){t.clearSnapshot()}function Sc(t){t.clearMeasurements()}function Nc(t){t.isLayoutDirty=!1}function vb(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Ec(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function xb(t){t.resolveTargetDelta()}function bb(t){t.calcProjection()}function wb(t){t.resetSkewAndRotation()}function _b(t){t.removeLeadSnapshot()}function Tc(t,e,r){t.translate=Ne(e.translate,0,r),t.scale=Ne(e.scale,1,r),t.origin=e.origin,t.originPoint=e.originPoint}function Cc(t,e,r,n){t.min=Ne(e.min,r.min,n),t.max=Ne(e.max,r.max,n)}function jb(t,e,r,n){Cc(t.x,e.x,r.x,n),Cc(t.y,e.y,r.y,n)}function kb(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const Sb={duration:.45,ease:[.4,0,.1,1]},Ac=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),Pc=Ac("applewebkit/")&&!Ac("chrome/")?Math.round:ot;function Rc(t){t.min=Pc(t.min),t.max=Pc(t.max)}function Nb(t){Rc(t.x),Rc(t.y)}function Vh(t,e,r){return t==="position"||t==="preserve-aspect"&&!Yx(bc(e),bc(r),.2)}function Eb(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const Tb=$h({attachResizeListener:(t,e)=>Hn(t,"resize",e),measureScroll:()=>{var t,e;return{x:document.documentElement.scrollLeft||((t=document.body)==null?void 0:t.scrollLeft)||0,y:document.documentElement.scrollTop||((e=document.body)==null?void 0:e.scrollTop)||0}},checkIsScrollRoot:()=>!0}),Ui={current:void 0},Uh=$h({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Ui.current){const t=new Tb({});t.mount(window),t.setOptions({layoutScroll:!0}),Ui.current=t}return Ui.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),zh=w.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function Cb(t=!0){const e=w.useContext(uo);if(e===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:s}=e,i=w.useId();w.useEffect(()=>{if(t)return s(i)},[t]);const a=w.useCallback(()=>t&&n&&n(i),[i,n,t]);return!r&&n?[!1,a]:[!0]}const Wh=w.createContext({strict:!1}),Ic={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let Dc=!1;function Ab(){if(Dc)return;const t={};for(const e in Ic)t[e]={isEnabled:r=>Ic[e].some(n=>!!r[n])};xh(t),Dc=!0}function Hh(){return Ab(),wx()}function Pb(t){const e=Hh();for(const r in t)e[r]={...e[r],...t[r]};xh(e)}const Rb=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","propagate","ignoreStrict","viewport"]);function oi(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||Rb.has(t)}let Gh=t=>!oi(t);function Ib(t){typeof t=="function"&&(Gh=e=>e.startsWith("on")?!oi(e):t(e))}try{Ib(require("@emotion/is-prop-valid").default)}catch{}function Db(t,e,r){const n={};for(const s in t)s==="values"&&typeof t.values=="object"||(Gh(s)||r===!0&&oi(s)||!e&&!oi(s)||t.draggable&&s.startsWith("onDrag"))&&(n[s]=t[s]);return n}const gi=w.createContext({});function Lb(t,e){if(pi(t)){const{initial:r,animate:n}=t;return{initial:r===!1||Wn(r)?r:void 0,animate:Wn(n)?n:void 0}}return t.inherit!==!1?e:{}}function Ob(t){const{initial:e,animate:r}=Lb(t,w.useContext(gi));return w.useMemo(()=>({initial:e,animate:r}),[Lc(e),Lc(r)])}function Lc(t){return Array.isArray(t)?t.join(" "):t}const Bo=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function qh(t,e,r){for(const n in e)!Ke(e[n])&&!Nh(n,r)&&(t[n]=e[n])}function Mb({transformTemplate:t},e){return w.useMemo(()=>{const r=Bo();return Mo(r,e,t),Object.assign({},r.vars,r.style)},[e])}function Fb(t,e){const r=t.style||{},n={};return qh(n,r,t),Object.assign(n,Mb(t,e)),n}function Bb(t,e){const r={},n=Fb(t,e);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=n,r}const Kh=()=>({...Bo(),attrs:{}});function $b(t,e,r,n){const s=w.useMemo(()=>{const i=Kh();return Eh(i,e,Ch(n),t.transformTemplate,t.style),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};qh(i,t.style,t),s.style={...i,...s.style}}return s}const Vb=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function $o(t){return typeof t!="string"||t.includes("-")?!1:!!(Vb.indexOf(t)>-1||/[A-Z]/u.test(t))}function Ub(t,e,r,{latestValues:n},s,i=!1,a){const c=(a??$o(t)?$b:Bb)(e,n,s,t),u=Db(e,typeof t=="string",i),d=t!==w.Fragment?{...u,...c,ref:r}:{},{children:h}=e,f=w.useMemo(()=>Ke(h)?h.get():h,[h]);return w.createElement(t,{...d,children:f})}function zb({scrapeMotionValuesFromProps:t,createRenderState:e},r,n,s){return{latestValues:Wb(r,n,s,t),renderState:e()}}function Wb(t,e,r,n){const s={},i=n(t,{});for(const f in i)s[f]=Ys(i[f]);let{initial:a,animate:o}=t;const c=pi(t),u=yh(t);e&&u&&!c&&t.inherit!==!1&&(a===void 0&&(a=e.initial),o===void 0&&(o=e.animate));let d=r?r.initial===!1:!1;d=d||a===!1;const h=d?o:a;if(h&&typeof h!="boolean"&&!mi(h)){const f=Array.isArray(h)?h:[h];for(let m=0;m<f.length;m++){const p=Co(t,f[m]);if(p){const{transitionEnd:y,transition:b,...g}=p;for(const v in g){let x=g[v];if(Array.isArray(x)){const k=d?x.length-1:0;x=x[k]}x!==null&&(s[v]=x)}for(const v in y)s[v]=y[v]}}}return s}const Yh=t=>(e,r)=>{const n=w.useContext(gi),s=w.useContext(uo),i=()=>zb(t,e,n,s);return r?i():Gy(i)},Hb=Yh({scrapeMotionValuesFromProps:Fo,createRenderState:Bo}),Gb=Yh({scrapeMotionValuesFromProps:Ah,createRenderState:Kh}),qb=Symbol.for("motionComponentSymbol");function Kb(t,e,r){const n=w.useRef(r);w.useInsertionEffect(()=>{n.current=r});const s=w.useRef(null);return w.useCallback(i=>{var o;i&&((o=t.onMount)==null||o.call(t,i)),e&&(i?e.mount(i):e.unmount());const a=n.current;if(typeof a=="function")if(i){const c=a(i);typeof c=="function"&&(s.current=c)}else s.current?(s.current(),s.current=null):a(i);else a&&(a.current=i)},[e])}const Jh=w.createContext({});function Br(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function Yb(t,e,r,n,s,i){var x,k;const{visualElement:a}=w.useContext(gi),o=w.useContext(Wh),c=w.useContext(uo),u=w.useContext(zh),d=u.reducedMotion,h=u.skipAnimations,f=w.useRef(null),m=w.useRef(!1);n=n||o.renderer,!f.current&&n&&(f.current=n(t,{visualState:e,parent:a,props:r,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:d,skipAnimations:h,isSVG:i}),m.current&&f.current&&(f.current.manuallyAnimateOnMount=!0));const p=f.current,y=w.useContext(Jh);p&&!p.projection&&s&&(p.type==="html"||p.type==="svg")&&Jb(f.current,r,s,y);const b=w.useRef(!1);w.useInsertionEffect(()=>{p&&b.current&&p.update(r,c)});const g=r[sh],v=w.useRef(!!g&&!((x=window.MotionHandoffIsComplete)!=null&&x.call(window,g))&&((k=window.MotionHasOptimisedAnimation)==null?void 0:k.call(window,g)));return qy(()=>{m.current=!0,p&&(b.current=!0,window.MotionIsMounted=!0,p.updateFeatures(),p.scheduleRenderMicrotask(),v.current&&p.animationState&&p.animationState.animateChanges())}),w.useEffect(()=>{p&&(!v.current&&p.animationState&&p.animationState.animateChanges(),v.current&&(queueMicrotask(()=>{var S;(S=window.MotionHandoffMarkAsComplete)==null||S.call(window,g)}),v.current=!1),p.enteringChildren=void 0)}),p}function Jb(t,e,r,n){const{layoutId:s,layout:i,drag:a,dragConstraints:o,layoutScroll:c,layoutRoot:u,layoutCrossfade:d}=e;t.projection=new r(t.latestValues,e["data-framer-portal-id"]?void 0:Xh(t.parent)),t.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!a||o&&Br(o),visualElement:t,animationType:typeof i=="string"?i:"both",initialPromotionConfig:n,crossfade:d,layoutScroll:c,layoutRoot:u})}function Xh(t){if(t)return t.options.allowProjection!==!1?t.projection:Xh(t.parent)}function zi(t,{forwardMotionProps:e=!1,type:r}={},n,s){n&&Pb(n);const i=r?r==="svg":$o(t),a=i?Gb:Hb;function o(u,d){let h;const f={...w.useContext(zh),...u,layoutId:Xb(u)},{isStatic:m}=f,p=Ob(u),y=a(u,m);if(!m&&xd){Zb();const b=Qb(f);h=b.MeasureLayout,p.visualElement=Yb(t,y,f,s,b.ProjectionNode,i)}return l.jsxs(gi.Provider,{value:p,children:[h&&p.visualElement?l.jsx(h,{visualElement:p.visualElement,...f}):null,Ub(t,u,Kb(y,p.visualElement,d),y,m,e,i)]})}o.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const c=w.forwardRef(o);return c[qb]=t,c}function Xb({layoutId:t}){const e=w.useContext(vd).id;return e&&t!==void 0?e+"-"+t:t}function Zb(t,e){w.useContext(Wh).strict}function Qb(t){const e=Hh(),{drag:r,layout:n}=e;if(!r&&!n)return{};const s={...r,...n};return{MeasureLayout:r!=null&&r.isEnabled(t)||n!=null&&n.isEnabled(t)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function ew(t,e){if(typeof Proxy>"u")return zi;const r=new Map,n=(i,a)=>zi(i,a,t,e),s=(i,a)=>n(i,a);return new Proxy(s,{get:(i,a)=>a==="create"?n:(r.has(a)||r.set(a,zi(a,void 0,t,e)),r.get(a))})}const tw=(t,e)=>e.isSVG??$o(t)?new Fx(e):new Rx(e,{allowProjection:t!==w.Fragment});class rw extends er{constructor(e){super(e),e.animationState||(e.animationState=zx(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();mi(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:r}=this.node.prevProps||{};e!==r&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let nw=0;class sw extends er{constructor(){super(...arguments),this.id=nw++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const s=this.node.animationState.setActive("exit",!e);r&&!e&&s.then(()=>{r(this.id)})}mount(){const{register:e,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const iw={animation:{Feature:rw},exit:{Feature:sw}};function hs(t){return{point:{x:t.pageX,y:t.pageY}}}const aw=t=>e=>Io(e)&&t(e,hs(e));function In(t,e,r,n){return Hn(t,e,aw(r),n)}const Zh=({current:t})=>t?t.ownerDocument.defaultView:null,Oc=(t,e)=>Math.abs(t-e);function ow(t,e){const r=Oc(t.x,e.x),n=Oc(t.y,e.y);return Math.sqrt(r**2+n**2)}const Mc=new Set(["auto","scroll"]);class Qh{constructor(e,r,{transformPagePoint:n,contextWindow:s=window,dragSnapToOrigin:i=!1,distanceThreshold:a=3,element:o}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=m=>{this.handleScroll(m.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const m=Hi(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,y=ow(m.offset,{x:0,y:0})>=this.distanceThreshold;if(!p&&!y)return;const{point:b}=m,{timestamp:g}=He;this.history.push({...b,timestamp:g});const{onStart:v,onMove:x}=this.handlers;p||(v&&v(this.lastMoveEvent,m),this.startEvent=this.lastMoveEvent),x&&x(this.lastMoveEvent,m)},this.handlePointerMove=(m,p)=>{this.lastMoveEvent=m,this.lastMoveEventInfo=Wi(p,this.transformPagePoint),je.update(this.updatePoint,!0)},this.handlePointerUp=(m,p)=>{this.end();const{onEnd:y,onSessionEnd:b,resumeAnimation:g}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&g&&g(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=Hi(m.type==="pointercancel"?this.lastMoveEventInfo:Wi(p,this.transformPagePoint),this.history);this.startEvent&&y&&y(m,v),b&&b(m,v)},!Io(e))return;this.dragSnapToOrigin=i,this.handlers=r,this.transformPagePoint=n,this.distanceThreshold=a,this.contextWindow=s||window;const c=hs(e),u=Wi(c,this.transformPagePoint),{point:d}=u,{timestamp:h}=He;this.history=[{...d,timestamp:h}];const{onSessionStart:f}=r;f&&f(e,Hi(u,this.history)),this.removeListeners=cs(In(this.contextWindow,"pointermove",this.handlePointerMove),In(this.contextWindow,"pointerup",this.handlePointerUp),In(this.contextWindow,"pointercancel",this.handlePointerUp)),o&&this.startScrollTracking(o)}startScrollTracking(e){let r=e.parentElement;for(;r;){const n=getComputedStyle(r);(Mc.has(n.overflowX)||Mc.has(n.overflowY))&&this.scrollPositions.set(r,{x:r.scrollLeft,y:r.scrollTop}),r=r.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(e){const r=this.scrollPositions.get(e);if(!r)return;const n=e===window,s=n?{x:window.scrollX,y:window.scrollY}:{x:e.scrollLeft,y:e.scrollTop},i={x:s.x-r.x,y:s.y-r.y};i.x===0&&i.y===0||(n?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=i.x,this.lastMoveEventInfo.point.y+=i.y):this.history.length>0&&(this.history[0].x-=i.x,this.history[0].y-=i.y),this.scrollPositions.set(e,s),je.update(this.updatePoint,!0))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),Xt(this.updatePoint)}}function Wi(t,e){return e?{point:e(t.point)}:t}function Fc(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Hi({point:t},e){return{point:t,delta:Fc(t,ef(e)),offset:Fc(t,lw(e)),velocity:cw(e,.1)}}function lw(t){return t[0]}function ef(t){return t[t.length-1]}function cw(t,e){if(t.length<2)return{x:0,y:0};let r=t.length-1,n=null;const s=ef(t);for(;r>=0&&(n=t[r],!(s.timestamp-n.timestamp>xt(e)));)r--;if(!n)return{x:0,y:0};n===t[0]&&t.length>2&&s.timestamp-n.timestamp>xt(e)*2&&(n=t[1]);const i=at(s.timestamp-n.timestamp);if(i===0)return{x:0,y:0};const a={x:(s.x-n.x)/i,y:(s.y-n.y)/i};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function uw(t,{min:e,max:r},n){return e!==void 0&&t<e?t=n?Ne(e,t,n.min):Math.max(t,e):r!==void 0&&t>r&&(t=n?Ne(r,t,n.max):Math.min(t,r)),t}function Bc(t,e,r){return{min:e!==void 0?t.min+e:void 0,max:r!==void 0?t.max+r-(t.max-t.min):void 0}}function dw(t,{top:e,left:r,bottom:n,right:s}){return{x:Bc(t.x,r,s),y:Bc(t.y,e,n)}}function $c(t,e){let r=e.min-t.min,n=e.max-t.max;return e.max-e.min<t.max-t.min&&([r,n]=[n,r]),{min:r,max:n}}function hw(t,e){return{x:$c(t.x,e.x),y:$c(t.y,e.y)}}function fw(t,e){let r=.5;const n=Xe(t),s=Xe(e);return s>n?r=Vn(e.min,e.max-n,t.min):n>s&&(r=Vn(t.min,t.max-s,e.min)),Tt(0,1,r)}function mw(t,e){const r={};return e.min!==void 0&&(r.min=e.min-t.min),e.max!==void 0&&(r.max=e.max-t.min),r}const Ra=.35;function pw(t=Ra){return t===!1?t=0:t===!0&&(t=Ra),{x:Vc(t,"left","right"),y:Vc(t,"top","bottom")}}function Vc(t,e,r){return{min:Uc(t,e),max:Uc(t,r)}}function Uc(t,e){return typeof t=="number"?t:t[e]||0}const gw=new WeakMap;class yw{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Fe(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:r=!1,distanceThreshold:n}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const i=h=>{r&&this.snapToCursor(hs(h).point),this.stopAnimation()},a=(h,f)=>{const{drag:m,dragPropagation:p,onDragStart:y}=this.getProps();if(m&&!p&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Xv(m),!this.openDragLock))return;this.latestPointerEvent=h,this.latestPanInfo=f,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),kt(g=>{let v=this.getAxisMotionValue(g).get()||0;if(Nt.test(v)){const{projection:x}=this.visualElement;if(x&&x.layout){const k=x.layout.layoutBox[g];k&&(v=Xe(k)*(parseFloat(v)/100))}}this.originPoint[g]=v}),y&&je.update(()=>y(h,f),!1,!0),Sa(this.visualElement,"transform");const{animationState:b}=this.visualElement;b&&b.setActive("whileDrag",!0)},o=(h,f)=>{this.latestPointerEvent=h,this.latestPanInfo=f;const{dragPropagation:m,dragDirectionLock:p,onDirectionLock:y,onDrag:b}=this.getProps();if(!m&&!this.openDragLock)return;const{offset:g}=f;if(p&&this.currentDirection===null){this.currentDirection=xw(g),this.currentDirection!==null&&y&&y(this.currentDirection);return}this.updateAxis("x",f.point,g),this.updateAxis("y",f.point,g),this.visualElement.render(),b&&je.update(()=>b(h,f),!1,!0)},c=(h,f)=>{this.latestPointerEvent=h,this.latestPanInfo=f,this.stop(h,f),this.latestPointerEvent=null,this.latestPanInfo=null},u=()=>{const{dragSnapToOrigin:h}=this.getProps();(h||this.constraints)&&this.startAnimation({x:0,y:0})},{dragSnapToOrigin:d}=this.getProps();this.panSession=new Qh(e,{onSessionStart:i,onStart:a,onMove:o,onSessionEnd:c,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,distanceThreshold:n,contextWindow:Zh(this.visualElement),element:this.visualElement.current})}stop(e,r){const n=e||this.latestPointerEvent,s=r||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!s||!n)return;const{velocity:a}=s;this.startAnimation(a);const{onDragEnd:o}=this.getProps();o&&je.postRender(()=>o(n,s))}cancel(){this.isDragging=!1;const{projection:e,animationState:r}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(e,r,n){const{drag:s}=this.getProps();if(!n||!Rs(e,s,this.currentDirection))return;const i=this.getAxisMotionValue(e);let a=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(a=uw(a,this.constraints[e],this.elastic[e])),i.set(a)}resolveConstraints(){var i;const{dragConstraints:e,dragElastic:r}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,s=this.constraints;e&&Br(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&n?this.constraints=dw(n.layoutBox,e):this.constraints=!1,this.elastic=pw(r),s!==this.constraints&&!Br(e)&&n&&this.constraints&&!this.hasMutatedConstraints&&kt(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=mw(n.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:r}=this.getProps();if(!e||!Br(e))return!1;const n=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=Nx(n,s.root,this.visualElement.getTransformPagePoint());let a=hw(s.layout.layoutBox,i);if(r){const o=r(jx(a));this.hasMutatedConstraints=!!o,o&&(a=wh(o))}return a}startAnimation(e){const{drag:r,dragMomentum:n,dragElastic:s,dragTransition:i,dragSnapToOrigin:a,onDragTransitionEnd:o}=this.getProps(),c=this.constraints||{},u=kt(d=>{if(!Rs(d,r,this.currentDirection))return;let h=c&&c[d]||{};a&&(h={min:0,max:0});const f=s?200:1e6,m=s?40:1e7,p={type:"inertia",velocity:n?e[d]:0,bounceStiffness:f,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...i,...h};return this.startAxisValueAnimation(d,p)});return Promise.all(u).then(o)}startAxisValueAnimation(e,r){const n=this.getAxisMotionValue(e);return Sa(this.visualElement,e),n.start(To(e,n,0,r,this.visualElement,!1))}stopAnimation(){kt(e=>this.getAxisMotionValue(e).stop())}getAxisMotionValue(e){const r=`_drag${e.toUpperCase()}`,n=this.visualElement.getProps(),s=n[r];return s||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){kt(r=>{const{drag:n}=this.getProps();if(!Rs(r,n,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(r);if(s&&s.layout){const{min:a,max:o}=s.layout.layoutBox[r],c=i.get()||0;i.set(e[r]-Ne(a,o,.5)+c)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!Br(r)||!n||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};kt(a=>{const o=this.getAxisMotionValue(a);if(o&&this.constraints!==!1){const c=o.get();s[a]=fw({min:c,max:c},this.constraints[a])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.constraints=!1,this.resolveConstraints(),kt(a=>{if(!Rs(a,e,null))return;const o=this.getAxisMotionValue(a),{min:c,max:u}=this.constraints[a];o.set(Ne(c,u,s[a]))}),this.visualElement.render()}addListeners(){if(!this.visualElement.current)return;gw.set(this.visualElement,this);const e=this.visualElement.current,r=In(e,"pointerdown",u=>{const{drag:d,dragListener:h=!0}=this.getProps(),f=u.target,m=f!==e&&nx(f);d&&h&&!m&&this.start(u)});let n;const s=()=>{const{dragConstraints:u}=this.getProps();Br(u)&&u.current&&(this.constraints=this.resolveRefConstraints(),n||(n=vw(e,u.current,()=>this.scalePositionWithinConstraints())))},{projection:i}=this.visualElement,a=i.addEventListener("measure",s);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),je.read(s);const o=Hn(window,"resize",()=>this.scalePositionWithinConstraints()),c=i.addEventListener("didUpdate",(({delta:u,hasLayoutChanged:d})=>{this.isDragging&&d&&(kt(h=>{const f=this.getAxisMotionValue(h);f&&(this.originPoint[h]+=u[h].translate,f.set(f.get()+u[h].translate))}),this.visualElement.render())}));return()=>{o(),r(),a(),c&&c(),n&&n()}}getProps(){const e=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:a=Ra,dragMomentum:o=!0}=e;return{...e,drag:r,dragDirectionLock:n,dragPropagation:s,dragConstraints:i,dragElastic:a,dragMomentum:o}}}function zc(t){let e=!0;return()=>{if(e){e=!1;return}t()}}function vw(t,e,r){const n=Zl(t,zc(r)),s=Zl(e,zc(r));return()=>{n(),s()}}function Rs(t,e,r){return(e===!0||e===t)&&(r===null||r===t)}function xw(t,e=10){let r=null;return Math.abs(t.y)>e?r="y":Math.abs(t.x)>e&&(r="x"),r}class bw extends er{constructor(e){super(e),this.removeGroupControls=ot,this.removeListeners=ot,this.controls=new yw(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ot}update(){const{dragControls:e}=this.node.getProps(),{dragControls:r}=this.node.prevProps||{};e!==r&&(this.removeGroupControls(),e&&(this.removeGroupControls=e.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}}const Gi=t=>(e,r)=>{t&&je.update(()=>t(e,r),!1,!0)};class ww extends er{constructor(){super(...arguments),this.removePointerDownListener=ot}onPointerDown(e){this.session=new Qh(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Zh(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:r,onPan:n,onPanEnd:s}=this.node.getProps();return{onSessionStart:Gi(e),onStart:Gi(r),onMove:Gi(n),onEnd:(i,a)=>{delete this.session,s&&je.postRender(()=>s(i,a))}}}mount(){this.removePointerDownListener=In(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let qi=!1;class _w extends w.Component{componentDidMount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n,layoutId:s}=this.props,{projection:i}=e;i&&(r.group&&r.group.add(i),n&&n.register&&s&&n.register(i),qi&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),Js.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:r,visualElement:n,drag:s,isPresent:i}=this.props,{projection:a}=n;return a&&(a.isPresent=i,e.layoutDependency!==r&&a.setOptions({...a.options,layoutDependency:r}),qi=!0,s||e.layoutDependency!==r||r===void 0||e.isPresent!==i?a.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?a.promote():a.relegate()||je.postRender(()=>{const o=a.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Ro.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:s}=e;qi=!0,s&&(s.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(s),n&&n.deregister&&n.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function tf(t){const[e,r]=Cb(),n=w.useContext(vd);return l.jsx(_w,{...t,layoutGroup:n,switchLayoutGroup:w.useContext(Jh),isPresent:e,safeToRemove:r})}const jw={pan:{Feature:ww},drag:{Feature:bw,ProjectionNode:Uh,MeasureLayout:tf}};function Wc(t,e,r){const{props:n}=t;t.animationState&&n.whileHover&&t.animationState.setActive("whileHover",r==="Start");const s="onHover"+r,i=n[s];i&&je.postRender(()=>i(e,hs(e)))}class kw extends er{mount(){const{current:e}=this.node;e&&(this.unmount=Qv(e,(r,n)=>(Wc(this.node,n,"Start"),s=>Wc(this.node,s,"End"))))}unmount(){}}class Sw extends er{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=cs(Hn(this.node.current,"focus",()=>this.onFocus()),Hn(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Hc(t,e,r){const{props:n}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&n.whileTap&&t.animationState.setActive("whileTap",r==="Start");const s="onTap"+(r==="End"?"":r),i=n[s];i&&je.postRender(()=>i(e,hs(e)))}class Nw extends er{mount(){const{current:e}=this.node;if(!e)return;const{globalTapTarget:r,propagate:n}=this.node.props;this.unmount=ix(e,(s,i)=>(Hc(this.node,i,"Start"),(a,{success:o})=>Hc(this.node,a,o?"End":"Cancel")),{useGlobalTarget:r,stopPropagation:(n==null?void 0:n.tap)===!1})}unmount(){}}const Ia=new WeakMap,Ki=new WeakMap,Ew=t=>{const e=Ia.get(t.target);e&&e(t)},Tw=t=>{t.forEach(Ew)};function Cw({root:t,...e}){const r=t||document;Ki.has(r)||Ki.set(r,{});const n=Ki.get(r),s=JSON.stringify(e);return n[s]||(n[s]=new IntersectionObserver(Tw,{root:t,...e})),n[s]}function Aw(t,e,r){const n=Cw(e);return Ia.set(t,r),n.observe(t),()=>{Ia.delete(t),n.unobserve(t)}}const Pw={some:0,all:1};class Rw extends er{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:r,margin:n,amount:s="some",once:i}=e,a={root:r?r.current:void 0,rootMargin:n,threshold:typeof s=="number"?s:Pw[s]},o=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),f=u?d:h;f&&f(c)};return Aw(this.node.current,a,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:r}=this.node;["amount","margin","root"].some(Iw(e,r))&&this.startObserver()}unmount(){}}function Iw({viewport:t={}},{viewport:e={}}={}){return r=>t[r]!==e[r]}const Dw={inView:{Feature:Rw},tap:{Feature:Nw},focus:{Feature:Sw},hover:{Feature:kw}},Lw={layout:{ProjectionNode:Uh,MeasureLayout:tf}},Ow={...iw,...Dw,...jw,...Lw},I=ew(Ow,tw);function yi(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r}function Mw(t,e,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(d){try{u(n.next(d))}catch(h){a(h)}}function c(d){try{u(n.throw(d))}catch(h){a(h)}}function u(d){d.done?i(d.value):s(d.value).then(o,c)}u((n=n.apply(t,e||[])).next())})}const Fw=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class Vo extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class Bw extends Vo{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Gc extends Vo{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class qc extends Vo{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Da;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Da||(Da={}));class $w{constructor(e,{headers:r={},customFetch:n,region:s=Da.Any}={}){this.url=e,this.headers=r,this.region=s,this.fetch=Fw(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return Mw(this,arguments,void 0,function*(r,n={}){var s;let i,a;try{const{headers:o,method:c,body:u,signal:d,timeout:h}=n;let f={},{region:m}=n;m||(m=this.region);const p=new URL(`${this.url}/${r}`);m&&m!=="any"&&(f["x-region"]=m,p.searchParams.set("forceFunctionRegion",m));let y;u&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(f["Content-Type"]="application/octet-stream",y=u):typeof u=="string"?(f["Content-Type"]="text/plain",y=u):typeof FormData<"u"&&u instanceof FormData?y=u:(f["Content-Type"]="application/json",y=JSON.stringify(u)):u&&typeof u!="string"&&!(typeof Blob<"u"&&u instanceof Blob)&&!(u instanceof ArrayBuffer)&&!(typeof FormData<"u"&&u instanceof FormData)?y=JSON.stringify(u):y=u;let b=d;h&&(a=new AbortController,i=setTimeout(()=>a.abort(),h),d?(b=a.signal,d.addEventListener("abort",()=>a.abort())):b=a.signal);const g=yield this.fetch(p.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},f),this.headers),o),body:y,signal:b}).catch(S=>{throw new Bw(S)}),v=g.headers.get("x-relay-error");if(v&&v==="true")throw new Gc(g);if(!g.ok)throw new qc(g);let x=((s=g.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),k;return x==="application/json"?k=yield g.json():x==="application/octet-stream"||x==="application/pdf"?k=yield g.blob():x==="text/event-stream"?k=g:x==="multipart/form-data"?k=yield g.formData():k=yield g.text(),{data:k,error:null,response:g}}catch(o){return{data:null,error:o,response:o instanceof qc||o instanceof Gc?o.context:void 0}}finally{i&&clearTimeout(i)}})}}var Vw=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}},Uw=class{constructor(t){var e,r,n;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(e=t.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=t.signal,this.isMaybeSingle=(r=t.isMaybeSingle)!==null&&r!==void 0?r:!1,this.urlLengthLimit=(n=t.urlLengthLimit)!==null&&n!==void 0?n:8e3,t.fetch?this.fetch=t.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=new Headers(this.headers),this.headers.set(t,e),this}then(t,e){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{let a=null,o=null,c=null,u=i.status,d=i.statusText;if(i.ok){var h,f;if(r.method!=="HEAD"){var m;const g=await i.text();g===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((m=r.headers.get("Accept"))===null||m===void 0)&&m.includes("application/vnd.pgrst.plan+text"))?o=g:o=JSON.parse(g))}const y=(h=r.headers.get("Prefer"))===null||h===void 0?void 0:h.match(/count=(exact|planned|estimated)/),b=(f=i.headers.get("content-range"))===null||f===void 0?void 0:f.split("/");y&&b&&b.length>1&&(c=parseInt(b[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(o)&&(o.length>1?(a={code:"PGRST116",details:`Results contain ${o.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},o=null,c=null,u=406,d="Not Acceptable"):o.length===1?o=o[0]:o=null)}else{var p;const y=await i.text();try{a=JSON.parse(y),Array.isArray(a)&&i.status===404&&(o=[],a=null,u=200,d="OK")}catch{i.status===404&&y===""?(u=204,d="No Content"):a={message:y}}if(a&&r.isMaybeSingle&&(!(a==null||(p=a.details)===null||p===void 0)&&p.includes("0 rows"))&&(a=null,u=200,d="OK"),a&&r.shouldThrowOnError)throw new Vw(a)}return{error:a,data:o,count:c,status:u,statusText:d}});return this.shouldThrowOnError||(s=s.catch(i=>{var a;let o="",c="",u="";const d=i==null?void 0:i.cause;if(d){var h,f,m,p;const g=(h=d==null?void 0:d.message)!==null&&h!==void 0?h:"",v=(f=d==null?void 0:d.code)!==null&&f!==void 0?f:"";o=`${(m=i==null?void 0:i.name)!==null&&m!==void 0?m:"FetchError"}: ${i==null?void 0:i.message}`,o+=`

Caused by: ${(p=d==null?void 0:d.name)!==null&&p!==void 0?p:"Error"}: ${g}`,v&&(o+=` (${v})`),d!=null&&d.stack&&(o+=`
${d.stack}`)}else{var y;o=(y=i==null?void 0:i.stack)!==null&&y!==void 0?y:""}const b=this.url.toString().length;return(i==null?void 0:i.name)==="AbortError"||(i==null?void 0:i.code)==="ABORT_ERR"?(u="",c="Request was aborted (timeout or manual cancellation)",b>this.urlLengthLimit&&(c+=`. Note: Your request URL is ${b} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):((d==null?void 0:d.name)==="HeadersOverflowError"||(d==null?void 0:d.code)==="UND_ERR_HEADERS_OVERFLOW")&&(u="",c="HTTP headers exceeded server limits (typically 16KB)",b>this.urlLengthLimit&&(c+=`. Your request URL is ${b} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${(a=i==null?void 0:i.name)!==null&&a!==void 0?a:"FetchError"}: ${i==null?void 0:i.message}`,details:o,hint:c,code:u},data:null,count:null,status:0,statusText:""}})),s.then(t,e)}returns(){return this}overrideTypes(){return this}},zw=class extends Uw{select(t){let e=!1;const r=(t??"*").split("").map(n=>/\s/.test(n)&&!e?"":(n==='"'&&(e=!e),n)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:e=!0,nullsFirst:r,foreignTable:n,referencedTable:s=n}={}){const i=s?`${s}.order`:"order",a=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${a?`${a},`:""}${t}.${e?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:r=e}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${t}`),this}range(t,e,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"offset":`${n}.offset`,i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this.url.searchParams.set(i,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:e=!1,settings:r=!1,buffers:n=!1,wal:s=!1,format:i="text"}={}){var a;const o=[t?"analyze":null,e?"verbose":null,r?"settings":null,n?"buffers":null,s?"wal":null].filter(Boolean).join("|"),c=(a=this.headers.get("Accept"))!==null&&a!==void 0?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${c}"; options=${o};`),i==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};const Kc=new RegExp("[,()]");var $r=class extends zw{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}regexMatch(t,e){return this.url.searchParams.append(t,`match.${e}`),this}regexIMatch(t,e){return this.url.searchParams.append(t,`imatch.${e}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}isDistinct(t,e){return this.url.searchParams.append(t,`isdistinct.${e}`),this}in(t,e){const r=Array.from(new Set(e)).map(n=>typeof n=="string"&&Kc.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}notIn(t,e){const r=Array.from(new Set(e)).map(n=>typeof n=="string"&&Kc.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(t,`not.in.(${r})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:r,type:n}={}){let s="";n==="plain"?s="pl":n==="phrase"?s="ph":n==="websearch"&&(s="w");const i=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${s}fts${i}.${e}`),this}match(t){return Object.entries(t).forEach(([e,r])=>{this.url.searchParams.append(e,`eq.${r}`)}),this}not(t,e,r){return this.url.searchParams.append(t,`not.${e}.${r}`),this}or(t,{foreignTable:e,referencedTable:r=e}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${t})`),this}filter(t,e,r){return this.url.searchParams.append(t,`${e}.${r}`),this}},Ww=class{constructor(t,{headers:e={},schema:r,fetch:n,urlLengthLimit:s=8e3}){this.url=t,this.headers=new Headers(e),this.schema=r,this.fetch=n,this.urlLengthLimit=s}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(t,e){const{head:r=!1,count:n}=e??{},s=r?"HEAD":"GET";let i=!1;const a=(t??"*").split("").map(u=>/\s/.test(u)&&!i?"":(u==='"'&&(i=!i),u)).join(""),{url:o,headers:c}=this.cloneRequestState();return o.searchParams.set("select",a),n&&c.append("Prefer",`count=${n}`),new $r({method:s,url:o,headers:c,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(t,{count:e,defaultToNull:r=!0}={}){var n;const s="POST",{url:i,headers:a}=this.cloneRequestState();if(e&&a.append("Prefer",`count=${e}`),r||a.append("Prefer","missing=default"),Array.isArray(t)){const o=t.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(o.length>0){const c=[...new Set(o)].map(u=>`"${u}"`);i.searchParams.set("columns",c.join(","))}}return new $r({method:s,url:i,headers:a,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(t,{onConflict:e,ignoreDuplicates:r=!1,count:n,defaultToNull:s=!0}={}){var i;const a="POST",{url:o,headers:c}=this.cloneRequestState();if(c.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),e!==void 0&&o.searchParams.set("on_conflict",e),n&&c.append("Prefer",`count=${n}`),s||c.append("Prefer","missing=default"),Array.isArray(t)){const u=t.reduce((d,h)=>d.concat(Object.keys(h)),[]);if(u.length>0){const d=[...new Set(u)].map(h=>`"${h}"`);o.searchParams.set("columns",d.join(","))}}return new $r({method:a,url:o,headers:c,schema:this.schema,body:t,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch,urlLengthLimit:this.urlLengthLimit})}update(t,{count:e}={}){var r;const n="PATCH",{url:s,headers:i}=this.cloneRequestState();return e&&i.append("Prefer",`count=${e}`),new $r({method:n,url:s,headers:i,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:t}={}){var e;const r="DELETE",{url:n,headers:s}=this.cloneRequestState();return t&&s.append("Prefer",`count=${t}`),new $r({method:r,url:n,headers:s,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch,urlLengthLimit:this.urlLengthLimit})}};function Gn(t){"@babel/helpers - typeof";return Gn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gn(t)}function Hw(t,e){if(Gn(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Gn(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Gw(t){var e=Hw(t,"string");return Gn(e)=="symbol"?e:e+""}function qw(t,e,r){return(e=Gw(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Yc(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Is(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Yc(Object(r),!0).forEach(function(n){qw(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Yc(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var Kw=class rf{constructor(e,{headers:r={},schema:n,fetch:s,timeout:i,urlLengthLimit:a=8e3}={}){this.url=e,this.headers=new Headers(r),this.schemaName=n,this.urlLengthLimit=a;const o=s??globalThis.fetch;i!==void 0&&i>0?this.fetch=(c,u)=>{const d=new AbortController,h=setTimeout(()=>d.abort(),i),f=u==null?void 0:u.signal;if(f){if(f.aborted)return clearTimeout(h),o(c,u);const m=()=>{clearTimeout(h),d.abort()};return f.addEventListener("abort",m,{once:!0}),o(c,Is(Is({},u),{},{signal:d.signal})).finally(()=>{clearTimeout(h),f.removeEventListener("abort",m)})}return o(c,Is(Is({},u),{},{signal:d.signal})).finally(()=>clearTimeout(h))}:this.fetch=o}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new Ww(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(e){return new rf(this.url,{headers:this.headers,schema:e,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(e,r={},{head:n=!1,get:s=!1,count:i}={}){var a;let o;const c=new URL(`${this.url}/rpc/${e}`);let u;const d=m=>m!==null&&typeof m=="object"&&(!Array.isArray(m)||m.some(d)),h=n&&Object.values(r).some(d);h?(o="POST",u=r):n||s?(o=n?"HEAD":"GET",Object.entries(r).filter(([m,p])=>p!==void 0).map(([m,p])=>[m,Array.isArray(p)?`{${p.join(",")}}`:`${p}`]).forEach(([m,p])=>{c.searchParams.append(m,p)})):(o="POST",u=r);const f=new Headers(this.headers);return h?f.set("Prefer",i?`count=${i},return=minimal`:"return=minimal"):i&&f.set("Prefer",`count=${i}`),new $r({method:o,url:c,headers:f,schema:this.schemaName,body:u,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch,urlLengthLimit:this.urlLengthLimit})}};class Yw{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const r=globalThis.process;if(r){const n=r.versions;if(n&&n.node){const s=n.node,i=parseInt(s.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const Jw="2.95.3",Xw=`realtime-js/${Jw}`,Zw="1.0.0",nf="2.0.0",Jc=nf,La=1e4,Qw=1e3,e_=100;var Ht;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Ht||(Ht={}));var Me;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Me||(Me={}));var vt;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(vt||(vt={}));var Oa;(function(t){t.websocket="websocket"})(Oa||(Oa={}));var hr;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(hr||(hr={}));class t_{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,r){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(e));let n=[e.join_ref,e.ref,e.topic,e.event,e.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(e){var r;return this._isArrayBuffer((r=e.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var r,n;const s=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,s)}_encodeJsonUserBroadcastPush(e){var r,n;const s=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},a=new TextEncoder().encode(JSON.stringify(s)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,a)}_encodeUserBroadcastPush(e,r,n){var s,i;const a=e.topic,o=(s=e.ref)!==null&&s!==void 0?s:"",c=(i=e.join_ref)!==null&&i!==void 0?i:"",u=e.payload.event,d=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},h=Object.keys(d).length===0?"":JSON.stringify(d);if(c.length>255)throw new Error(`joinRef length ${c.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`ref length ${o.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`topic length ${a.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`metadata length ${h.length} exceeds maximum of 255`);const f=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+o.length+a.length+u.length+h.length,m=new ArrayBuffer(this.HEADER_LENGTH+f);let p=new DataView(m),y=0;p.setUint8(y++,this.KINDS.userBroadcastPush),p.setUint8(y++,c.length),p.setUint8(y++,o.length),p.setUint8(y++,a.length),p.setUint8(y++,u.length),p.setUint8(y++,h.length),p.setUint8(y++,r),Array.from(c,g=>p.setUint8(y++,g.charCodeAt(0))),Array.from(o,g=>p.setUint8(y++,g.charCodeAt(0))),Array.from(a,g=>p.setUint8(y++,g.charCodeAt(0))),Array.from(u,g=>p.setUint8(y++,g.charCodeAt(0))),Array.from(h,g=>p.setUint8(y++,g.charCodeAt(0)));var b=new Uint8Array(m.byteLength+n.byteLength);return b.set(new Uint8Array(m),0),b.set(new Uint8Array(n),m.byteLength),b.buffer}decode(e,r){if(this._isArrayBuffer(e)){let n=this._binaryDecode(e);return r(n)}if(typeof e=="string"){const n=JSON.parse(e),[s,i,a,o,c]=n;return r({join_ref:s,ref:i,topic:a,event:o,payload:c})}return r({})}_binaryDecode(e){const r=new DataView(e),n=r.getUint8(0),s=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,r,s)}}_decodeUserBroadcast(e,r,n){const s=r.getUint8(1),i=r.getUint8(2),a=r.getUint8(3),o=r.getUint8(4);let c=this.HEADER_LENGTH+4;const u=n.decode(e.slice(c,c+s));c=c+s;const d=n.decode(e.slice(c,c+i));c=c+i;const h=n.decode(e.slice(c,c+a));c=c+a;const f=e.slice(c,e.byteLength),m=o===this.JSON_ENCODING?JSON.parse(n.decode(f)):f,p={type:this.BROADCAST_EVENT,event:d,payload:m};return a>0&&(p.meta=JSON.parse(h)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:p}}_isArrayBuffer(e){var r;return e instanceof ArrayBuffer||((r=e==null?void 0:e.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(e,r){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([n])=>r.includes(n)))}}class sf{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var _e;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(_e||(_e={}));const Xc=(t,e,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return e?Object.keys(e).reduce((i,a)=>(i[a]=r_(a,t,e,s),i),{}):{}},r_=(t,e,r,n)=>{const s=e.find(o=>o.name===t),i=s==null?void 0:s.type,a=r[t];return i&&!n.includes(i)?af(i,a):Ma(a)},af=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return a_(e,r)}switch(t){case _e.bool:return n_(e);case _e.float4:case _e.float8:case _e.int2:case _e.int4:case _e.int8:case _e.numeric:case _e.oid:return s_(e);case _e.json:case _e.jsonb:return i_(e);case _e.timestamp:return o_(e);case _e.abstime:case _e.date:case _e.daterange:case _e.int4range:case _e.int8range:case _e.money:case _e.reltime:case _e.text:case _e.time:case _e.timestamptz:case _e.timetz:case _e.tsrange:case _e.tstzrange:return Ma(e);default:return Ma(e)}},Ma=t=>t,n_=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},s_=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},i_=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t},a_=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let i;const a=t.slice(1,r);try{i=JSON.parse("["+a+"]")}catch{i=a?a.split(","):[]}return i.map(o=>af(e,o))}return t},o_=t=>typeof t=="string"?t.replace(" ","T"):t,of=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Yi{constructor(e,r,n={},s=La){this.channel=e,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Zc;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Zc||(Zc={}));class Dn{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:a,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Dn.syncState(this.state,s,i,a),this.pendingDiffs.forEach(c=>{this.state=Dn.syncDiff(this.state,c,i,a)}),this.pendingDiffs=[],o()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:a,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Dn.syncDiff(this.state,s,i,a),o())}),this.onJoin((s,i,a)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:a})}),this.onLeave((s,i,a)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,s){const i=this.cloneDeep(e),a=this.transformState(r),o={},c={};return this.map(i,(u,d)=>{a[u]||(c[u]=d)}),this.map(a,(u,d)=>{const h=i[u];if(h){const f=d.map(b=>b.presence_ref),m=h.map(b=>b.presence_ref),p=d.filter(b=>m.indexOf(b.presence_ref)<0),y=h.filter(b=>f.indexOf(b.presence_ref)<0);p.length>0&&(o[u]=p),y.length>0&&(c[u]=y)}else o[u]=d}),this.syncDiff(i,{joins:o,leaves:c},n,s)}static syncDiff(e,r,n,s){const{joins:i,leaves:a}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(o,c)=>{var u;const d=(u=e[o])!==null&&u!==void 0?u:[];if(e[o]=this.cloneDeep(c),d.length>0){const h=e[o].map(m=>m.presence_ref),f=d.filter(m=>h.indexOf(m.presence_ref)<0);e[o].unshift(...f)}n(o,d,c)}),this.map(a,(o,c)=>{let u=e[o];if(!u)return;const d=c.map(h=>h.presence_ref);u=u.filter(h=>d.indexOf(h.presence_ref)<0),e[o]=u,s(o,u,c),u.length===0&&delete e[o]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const s=e[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Qc;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Qc||(Qc={}));var Ln;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Ln||(Ln={}));var Ot;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Ot||(Ot={}));class Yr{constructor(e,r={config:{}},n){var s,i;if(this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=Me.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Yi(this,vt.join,this.params,this.timeout),this.rejoinTimer=new sf(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Me.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Me.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Me.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Me.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Me.errored,this.rejoinTimer.scheduleTimeout())}),this._on(vt.reply,{},(a,o)=>{this._trigger(this._replyEventName(o),a)}),this.presence=new Dn(this),this.broadcastEndpointURL=of(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var n,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Me.closed){const{config:{broadcast:a,presence:o,private:c}}=this.params,u=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(m=>m.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[Ln.PRESENCE]&&this.bindings[Ln.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,h={},f={broadcast:a,presence:Object.assign(Object.assign({},o),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(m=>e==null?void 0:e(Ot.CHANNEL_ERROR,m)),this._onClose(()=>e==null?void 0:e(Ot.CLOSED)),this.updateJoinPayload(Object.assign({config:f},h)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:m})=>{var p;if(this.socket._isManualToken()||this.socket.setAuth(),m===void 0){e==null||e(Ot.SUBSCRIBED);return}else{const y=this.bindings.postgres_changes,b=(p=y==null?void 0:y.length)!==null&&p!==void 0?p:0,g=[];for(let v=0;v<b;v++){const x=y[v],{filter:{event:k,schema:S,table:T,filter:_}}=x,j=m&&m[v];if(j&&j.event===k&&Yr.isFilterValueEqual(j.schema,S)&&Yr.isFilterValueEqual(j.table,T)&&Yr.isFilterValueEqual(j.filter,_))g.push(Object.assign(Object.assign({},x),{id:j.id}));else{this.unsubscribe(),this.state=Me.errored,e==null||e(Ot.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,e&&e(Ot.SUBSCRIBED);return}}).receive("error",m=>{this.state=Me.errored,e==null||e(Ot.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Ot.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===Me.joined&&e===Ln.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,r,n)}async httpSend(e,r,n={}){var s;if(r==null)return Promise.reject("Payload is required for httpSend()");const i={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(i.Authorization=`Bearer ${this.socket.accessTokenValue}`);const a={method:"POST",headers:i,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},o=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);if(o.status===202)return{success:!0};let c=o.statusText;try{const u=await o.json();c=u.error||u.message||c}catch{}return Promise.reject(new Error(c))}async send(e,r={}){var n,s;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:a}=e,o={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(o.Authorization=`Bearer ${this.socket.accessTokenValue}`);const c={method:"POST",headers:o,body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:a,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var a,o,c;const u=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(o=(a=this.params)===null||a===void 0?void 0:a.config)===null||o===void 0?void 0:o.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Me.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(vt.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new Yi(this,vt.leave,{},e),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Me.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),a=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),a}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Yi(this,e,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>e_){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var s,i;const a=e.toLocaleLowerCase(),{close:o,error:c,leave:u,join:d}=vt;if(n&&[o,c,u,d].indexOf(a)>=0&&n!==this._joinRef())return;let f=this._onMessage(a,r,n);if(r&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(m=>{var p,y,b;return((p=m.filter)===null||p===void 0?void 0:p.event)==="*"||((b=(y=m.filter)===null||y===void 0?void 0:y.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===a}).map(m=>m.callback(f,n)):(i=this.bindings[a])===null||i===void 0||i.filter(m=>{var p,y,b,g,v,x;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in m){const k=m.id,S=(p=m.filter)===null||p===void 0?void 0:p.event;return k&&((y=r.ids)===null||y===void 0?void 0:y.includes(k))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((b=r.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const k=(v=(g=m==null?void 0:m.filter)===null||g===void 0?void 0:g.event)===null||v===void 0?void 0:v.toLocaleLowerCase();return k==="*"||k===((x=r==null?void 0:r.event)===null||x===void 0?void 0:x.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===a}).map(m=>{if(typeof f=="object"&&"ids"in f){const p=f.data,{schema:y,table:b,commit_timestamp:g,type:v,errors:x}=p;f=Object.assign(Object.assign({},{schema:y,table:b,commit_timestamp:g,eventType:v,new:{},old:{},errors:x}),this._getPayloadRecords(p))}m.callback(f,n)})}_isClosed(){return this.state===Me.closed}_isJoined(){return this.state===Me.joined}_isJoining(){return this.state===Me.joining}_isLeaving(){return this.state===Me.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const s=e.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&Yr.isEqual(s.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}static isFilterValueEqual(e,r){return(e??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(vt.close,{},e)}_onError(e){this._on(vt.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Me.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=Xc(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=Xc(e.columns,e.old_record)),r}}const Ji=()=>{},Ds={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},l_=[1e3,2e3,5e3,1e4],c_=1e4,u_=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class d_{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=La,this.transport=null,this.heartbeatIntervalMs=Ds.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Ji,this.ref=0,this.reconnectTimer=null,this.vsn=Jc,this.logger=Ji,this.conn=null,this.sendBuffer=[],this.serializer=new t_,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=s=>s?(...i)=>s(...i):(...i)=>fetch(...i),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${Oa.websocket}`,this.httpEndpoint=of(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Yw.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return r==="ok"&&this._remove(e),this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Ht.connecting:return hr.Connecting;case Ht.open:return hr.Open;case Ht.closing:return hr.Closing;default:return hr.Closed}}isConnected(){return this.connectionState()===hr.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new Yr(`realtime:${e}`,r,this);return this.channels.push(i),i}}push(e){const{topic:r,event:n,payload:s,ref:i}=e,a=()=>{this.encode(e,o=>{var c;(c=this.conn)===null||c===void 0||c.send(o)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(Qw,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Ds.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply"&&r.ref&&r.ref===this.pendingHeartbeatRef){const u=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error",u)}catch(d){this.log("error","error in heartbeat callback",d)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:n,event:s,payload:i,ref:a}=r,o=a?`(${a})`:"",c=i.status||"";this.log("receive",`${c} ${n} ${s} ${o}`.trim(),i),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(s,i,a)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===Ht.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Ht.open||this.conn.readyState===Ht.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e);try{this.heartbeatCallback("error")}catch(r){this.log("error","error in heartbeat callback",r)}}_triggerChanError(){this.channels.forEach(e=>e._trigger(vt.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${e}${n}${s}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([u_],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r,n=!1;if(e)r=e,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(s){this.log("error","Error fetching access token from callback",s),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(s=>{const i={access_token:r,version:Xw};r&&s.updateJoinPayload(i),s.joinedOnce&&s._isJoined()&&s._push(vt.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new sf(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Ds.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,s,i,a,o,c,u,d,h,f,m;switch(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:La,this.heartbeatIntervalMs=(s=e==null?void 0:e.heartbeatIntervalMs)!==null&&s!==void 0?s:Ds.HEARTBEAT_INTERVAL,this.worker=(i=e==null?void 0:e.worker)!==null&&i!==void 0?i:!1,this.accessToken=(a=e==null?void 0:e.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(o=e==null?void 0:e.heartbeatCallback)!==null&&o!==void 0?o:Ji,this.vsn=(c=e==null?void 0:e.vsn)!==null&&c!==void 0?c:Jc,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=e==null?void 0:e.reconnectAfterMs)!==null&&u!==void 0?u:(p=>l_[p-1]||c_),this.vsn){case Zw:this.encode=(d=e==null?void 0:e.encode)!==null&&d!==void 0?d:((p,y)=>y(JSON.stringify(p))),this.decode=(h=e==null?void 0:e.decode)!==null&&h!==void 0?h:((p,y)=>y(JSON.parse(p)));break;case nf:this.encode=(f=e==null?void 0:e.encode)!==null&&f!==void 0?f:this.serializer.encode.bind(this.serializer),this.decode=(m=e==null?void 0:e.decode)!==null&&m!==void 0?m:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}var qn=class extends Error{constructor(t,e){var r;super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&((r=e.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function h_(t,e,r){const n=new URL(e,t);if(r)for(const[s,i]of Object.entries(r))i!==void 0&&n.searchParams.set(s,i);return n.toString()}async function f_(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function m_(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:s,body:i,headers:a}){const o=h_(t.baseUrl,n,s),c=await f_(t.auth),u=await e(o,{method:r,headers:{...i?{"Content-Type":"application/json"}:{},...c,...a},body:i?JSON.stringify(i):void 0}),d=await u.text(),h=(u.headers.get("content-type")||"").includes("application/json"),f=h&&d?JSON.parse(d):d;if(!u.ok){const m=h?f:void 0,p=m==null?void 0:m.error;throw new qn((p==null?void 0:p.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:p==null?void 0:p.type,icebergCode:p==null?void 0:p.code,details:m})}return{status:u.status,headers:u.headers,data:f}}}}function Ls(t){return t.join("")}var p_=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:Ls(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(t,e){const r={namespace:t.namespace,properties:e==null?void 0:e.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Ls(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ls(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Ls(t.namespace)}`}),!0}catch(e){if(e instanceof qn&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(r){if(r instanceof qn&&r.status===409)return;throw r}}};function Ar(t){return t.join("")}var g_=class{constructor(t,e="",r){this.client=t,this.prefix=e,this.accessDelegation=r}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ar(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ar(t.namespace)}/tables`,body:e,headers:r})).data.metadata}async updateTable(t,e){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ar(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Ar(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String((e==null?void 0:e.purge)??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ar(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Ar(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(r){if(r instanceof qn&&r.status===404)return!1;throw r}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(r){if(r instanceof qn&&r.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw r}}},y_=class{constructor(t){var n;let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const r=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=m_({baseUrl:r,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=(n=t.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new p_(this.client,e),this.tableOps=new g_(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}},vi=class extends Error{constructor(t,e="storage",r,n){super(t),this.__isStorageError=!0,this.namespace=e,this.name=e==="vectors"?"StorageVectorsError":"StorageError",this.status=r,this.statusCode=n}};function xi(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var Os=class extends vi{constructor(t,e,r,n="storage"){super(t,n,e,r),this.name=n==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=e,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},lf=class extends vi{constructor(t,e,r="storage"){super(t,r),this.name=r==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=e}};const v_=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),x_=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Fa=t=>{if(Array.isArray(t))return t.map(r=>Fa(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=Fa(n)}),e},b_=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t);function Kn(t){"@babel/helpers - typeof";return Kn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kn(t)}function w_(t,e){if(Kn(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Kn(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function __(t){var e=w_(t,"string");return Kn(e)=="symbol"?e:e+""}function j_(t,e,r){return(e=__(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function eu(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function ne(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?eu(Object(r),!0).forEach(function(n){j_(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):eu(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}const tu=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},k_=async(t,e,r,n)=>{if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(r!=null&&r.noResolveJson)){const s=t,i=s.status||500;if(typeof s.json=="function")s.json().then(a=>{const o=(a==null?void 0:a.statusCode)||(a==null?void 0:a.code)||i+"";e(new Os(tu(a),i,o,n))}).catch(()=>{if(n==="vectors"){const a=i+"";e(new Os(s.statusText||`HTTP ${i} error`,i,a,n))}else{const a=i+"";e(new Os(s.statusText||`HTTP ${i} error`,i,a,n))}});else{const a=i+"";e(new Os(s.statusText||`HTTP ${i} error`,i,a,n))}}else e(new lf(tu(t),t,n))},S_=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||t==="HEAD"||!n?ne(ne({},s),r):(x_(n)?(s.headers=ne({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(n)):s.body=n,e!=null&&e.duplex&&(s.duplex=e.duplex),ne(ne({},s),r))};async function _n(t,e,r,n,s,i,a){return new Promise((o,c)=>{t(r,S_(e,n,s,i)).then(u=>{if(!u.ok)throw u;if(n!=null&&n.noResolveJson)return u;if(a==="vectors"){const d=u.headers.get("content-type");if(u.headers.get("content-length")==="0"||u.status===204)return{};if(!d||!d.includes("application/json"))return{}}return u.json()}).then(u=>o(u)).catch(u=>k_(u,c,n,a))})}function cf(t="storage"){return{get:async(e,r,n,s)=>_n(e,"GET",r,n,s,void 0,t),post:async(e,r,n,s,i)=>_n(e,"POST",r,s,i,n,t),put:async(e,r,n,s,i)=>_n(e,"PUT",r,s,i,n,t),head:async(e,r,n,s)=>_n(e,"HEAD",r,ne(ne({},n),{},{noResolveJson:!0}),s,void 0,t),remove:async(e,r,n,s,i)=>_n(e,"DELETE",r,s,i,n,t)}}const N_=cf("storage"),{get:Yn,post:yt,put:Ba,head:E_,remove:Uo}=N_,tt=cf("vectors");var sn=class{constructor(t,e={},r,n="storage"){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.fetch=v_(r),this.namespace=n}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(t){var e=this;try{return{data:await t(),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(xi(r))return{data:null,error:r};throw r}}},T_=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}then(t,e){return this.execute().then(t,e)}async execute(){var t=this;try{return{data:(await t.downloadFn()).body,error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(xi(e))return{data:null,error:e};throw e}}};let uf;uf=Symbol.toStringTag;var C_=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e,this[uf]="BlobDownloadBuilder",this.promise=null}asStream(){return new T_(this.downloadFn,this.shouldThrowOnError)}then(t,e){return this.getPromise().then(t,e)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var t=this;try{return{data:await(await t.downloadFn()).blob(),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(xi(e))return{data:null,error:e};throw e}}};const A_={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},ru={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var P_=class extends sn{constructor(t,e={},r,n){super(t,e,n,"storage"),this.bucketId=r}async uploadOrUpdate(t,e,r,n){var s=this;return s.handleOperation(async()=>{let i;const a=ne(ne({},ru),n);let o=ne(ne({},s.headers),t==="POST"&&{"x-upsert":String(a.upsert)});const c=a.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",a.cacheControl),c&&i.append("metadata",s.encodeMetadata(c)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.has("cacheControl")||i.append("cacheControl",a.cacheControl),c&&!i.has("metadata")&&i.append("metadata",s.encodeMetadata(c))):(i=r,o["cache-control"]=`max-age=${a.cacheControl}`,o["content-type"]=a.contentType,c&&(o["x-metadata"]=s.toBase64(s.encodeMetadata(c))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!a.duplex&&(a.duplex="half")),n!=null&&n.headers&&(o=ne(ne({},o),n.headers));const u=s._removeEmptyFolders(e),d=s._getFinalPath(u),h=await(t=="PUT"?Ba:yt)(s.fetch,`${s.url}/object/${d}`,i,ne({headers:o},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{path:u,id:h.Id,fullPath:h.Key}})}async upload(t,e,r){return this.uploadOrUpdate("POST",t,e,r)}async uploadToSignedUrl(t,e,r,n){var s=this;const i=s._removeEmptyFolders(t),a=s._getFinalPath(i),o=new URL(s.url+`/object/upload/sign/${a}`);return o.searchParams.set("token",e),s.handleOperation(async()=>{let c;const u=ne({upsert:ru.upsert},n),d=ne(ne({},s.headers),{"x-upsert":String(u.upsert)});return typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",u.cacheControl)):(c=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType),{path:i,fullPath:(await Ba(s.fetch,o.toString(),c,{headers:d})).Key}})}async createSignedUploadUrl(t,e){var r=this;return r.handleOperation(async()=>{let n=r._getFinalPath(t);const s=ne({},r.headers);e!=null&&e.upsert&&(s["x-upsert"]="true");const i=await yt(r.fetch,`${r.url}/object/upload/sign/${n}`,{},{headers:s}),a=new URL(r.url+i.url),o=a.searchParams.get("token");if(!o)throw new vi("No token returned by API");return{signedUrl:a.toString(),path:t,token:o}})}async update(t,e,r){return this.uploadOrUpdate("PUT",t,e,r)}async move(t,e,r){var n=this;return n.handleOperation(async()=>await yt(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers}))}async copy(t,e,r){var n=this;return n.handleOperation(async()=>({path:(await yt(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers})).Key}))}async createSignedUrl(t,e,r){var n=this;return n.handleOperation(async()=>{let s=n._getFinalPath(t),i=await yt(n.fetch,`${n.url}/object/sign/${s}`,ne({expiresIn:e},r!=null&&r.transform?{transform:r.transform}:{}),{headers:n.headers});const a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{signedUrl:encodeURI(`${n.url}${i.signedURL}${a}`)}})}async createSignedUrls(t,e,r){var n=this;return n.handleOperation(async()=>{const s=await yt(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:e,paths:t},{headers:n.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return s.map(a=>ne(ne({},a),{},{signedUrl:a.signedURL?encodeURI(`${n.url}${a.signedURL}${i}`):null}))})}download(t,e,r){const n=typeof(e==null?void 0:e.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((e==null?void 0:e.transform)||{}),i=s?`?${s}`:"",a=this._getFinalPath(t),o=()=>Yn(this.fetch,`${this.url}/${n}/${a}${i}`,{headers:this.headers,noResolveJson:!0},r);return new C_(o,this.shouldThrowOnError)}async info(t){var e=this;const r=e._getFinalPath(t);return e.handleOperation(async()=>Fa(await Yn(e.fetch,`${e.url}/object/info/${r}`,{headers:e.headers})))}async exists(t){var e=this;const r=e._getFinalPath(t);try{return await E_(e.fetch,`${e.url}/object/${r}`,{headers:e.headers}),{data:!0,error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(xi(n)&&n instanceof lf){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}}getPublicUrl(t,e){const r=this._getFinalPath(t),n=[],s=e!=null&&e.download?`download=${e.download===!0?"":e.download}`:"";s!==""&&n.push(s);const i=typeof(e==null?void 0:e.transform)<"u"?"render/image":"object",a=this.transformOptsToQueryString((e==null?void 0:e.transform)||{});a!==""&&n.push(a);let o=n.join("&");return o!==""&&(o=`?${o}`),{data:{publicUrl:encodeURI(`${this.url}/${i}/public/${r}${o}`)}}}async remove(t){var e=this;return e.handleOperation(async()=>await Uo(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:t},{headers:e.headers}))}async list(t,e,r){var n=this;return n.handleOperation(async()=>{const s=ne(ne(ne({},A_),e),{},{prefix:t||""});return await yt(n.fetch,`${n.url}/object/list/${n.bucketId}`,s,{headers:n.headers},r)})}async listV2(t,e){var r=this;return r.handleOperation(async()=>{const n=ne({},t);return await yt(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,n,{headers:r.headers},e)})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};const R_="2.95.3",fs={"X-Client-Info":`storage-js/${R_}`};var I_=class extends sn{constructor(t,e={},r,n){const s=new URL(t);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase."));const i=s.href.replace(/\/$/,""),a=ne(ne({},fs),e);super(i,a,r,"storage")}async listBuckets(t){var e=this;return e.handleOperation(async()=>{const r=e.listBucketOptionsToQueryString(t);return await Yn(e.fetch,`${e.url}/bucket${r}`,{headers:e.headers})})}async getBucket(t){var e=this;return e.handleOperation(async()=>await Yn(e.fetch,`${e.url}/bucket/${t}`,{headers:e.headers}))}async createBucket(t,e={public:!1}){var r=this;return r.handleOperation(async()=>await yt(r.fetch,`${r.url}/bucket`,{id:t,name:t,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:r.headers}))}async updateBucket(t,e){var r=this;return r.handleOperation(async()=>await Ba(r.fetch,`${r.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:r.headers}))}async emptyBucket(t){var e=this;return e.handleOperation(async()=>await yt(e.fetch,`${e.url}/bucket/${t}/empty`,{},{headers:e.headers}))}async deleteBucket(t){var e=this;return e.handleOperation(async()=>await Uo(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}))}listBucketOptionsToQueryString(t){const e={};return t&&("limit"in t&&(e.limit=String(t.limit)),"offset"in t&&(e.offset=String(t.offset)),t.search&&(e.search=t.search),t.sortColumn&&(e.sortColumn=t.sortColumn),t.sortOrder&&(e.sortOrder=t.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},D_=class extends sn{constructor(t,e={},r){const n=t.replace(/\/$/,""),s=ne(ne({},fs),e);super(n,s,r,"storage")}async createBucket(t){var e=this;return e.handleOperation(async()=>await yt(e.fetch,`${e.url}/bucket`,{name:t},{headers:e.headers}))}async listBuckets(t){var e=this;return e.handleOperation(async()=>{const r=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&r.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&r.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&r.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&r.set("sortOrder",t.sortOrder),t!=null&&t.search&&r.set("search",t.search);const n=r.toString(),s=n?`${e.url}/bucket?${n}`:`${e.url}/bucket`;return await Yn(e.fetch,s,{headers:e.headers})})}async deleteBucket(t){var e=this;return e.handleOperation(async()=>await Uo(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}))}from(t){var e=this;if(!b_(t))throw new vi("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new y_({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(s,i){const a=s[i];return typeof a!="function"?a:async(...o)=>{try{return{data:await a.apply(s,o),error:null}}catch(c){if(n)throw c;return{data:null,error:c}}}}})}},L_=class extends sn{constructor(t,e={},r){const n=t.replace(/\/$/,""),s=ne(ne({},fs),{},{"Content-Type":"application/json"},e);super(n,s,r,"vectors")}async createIndex(t){var e=this;return e.handleOperation(async()=>await tt.post(e.fetch,`${e.url}/CreateIndex`,t,{headers:e.headers})||{})}async getIndex(t,e){var r=this;return r.handleOperation(async()=>await tt.post(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:t,indexName:e},{headers:r.headers}))}async listIndexes(t){var e=this;return e.handleOperation(async()=>await tt.post(e.fetch,`${e.url}/ListIndexes`,t,{headers:e.headers}))}async deleteIndex(t,e){var r=this;return r.handleOperation(async()=>await tt.post(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:t,indexName:e},{headers:r.headers})||{})}},O_=class extends sn{constructor(t,e={},r){const n=t.replace(/\/$/,""),s=ne(ne({},fs),{},{"Content-Type":"application/json"},e);super(n,s,r,"vectors")}async putVectors(t){var e=this;if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return e.handleOperation(async()=>await tt.post(e.fetch,`${e.url}/PutVectors`,t,{headers:e.headers})||{})}async getVectors(t){var e=this;return e.handleOperation(async()=>await tt.post(e.fetch,`${e.url}/GetVectors`,t,{headers:e.headers}))}async listVectors(t){var e=this;if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return e.handleOperation(async()=>await tt.post(e.fetch,`${e.url}/ListVectors`,t,{headers:e.headers}))}async queryVectors(t){var e=this;return e.handleOperation(async()=>await tt.post(e.fetch,`${e.url}/QueryVectors`,t,{headers:e.headers}))}async deleteVectors(t){var e=this;if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return e.handleOperation(async()=>await tt.post(e.fetch,`${e.url}/DeleteVectors`,t,{headers:e.headers})||{})}},M_=class extends sn{constructor(t,e={},r){const n=t.replace(/\/$/,""),s=ne(ne({},fs),{},{"Content-Type":"application/json"},e);super(n,s,r,"vectors")}async createBucket(t){var e=this;return e.handleOperation(async()=>await tt.post(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{})}async getBucket(t){var e=this;return e.handleOperation(async()=>await tt.post(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:t},{headers:e.headers}))}async listBuckets(t={}){var e=this;return e.handleOperation(async()=>await tt.post(e.fetch,`${e.url}/ListVectorBuckets`,t,{headers:e.headers}))}async deleteBucket(t){var e=this;return e.handleOperation(async()=>await tt.post(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{})}},F_=class extends M_{constructor(t,e={}){super(t,e.headers||{},e.fetch)}from(t){return new B_(this.url,this.headers,t,this.fetch)}async createBucket(t){var e=()=>super.createBucket,r=this;return e().call(r,t)}async getBucket(t){var e=()=>super.getBucket,r=this;return e().call(r,t)}async listBuckets(t={}){var e=()=>super.listBuckets,r=this;return e().call(r,t)}async deleteBucket(t){var e=()=>super.deleteBucket,r=this;return e().call(r,t)}},B_=class extends L_{constructor(t,e,r,n){super(t,e,n),this.vectorBucketName=r}async createIndex(t){var e=()=>super.createIndex,r=this;return e().call(r,ne(ne({},t),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(t={}){var e=()=>super.listIndexes,r=this;return e().call(r,ne(ne({},t),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(t){var e=()=>super.getIndex,r=this;return e().call(r,r.vectorBucketName,t)}async deleteIndex(t){var e=()=>super.deleteIndex,r=this;return e().call(r,r.vectorBucketName,t)}index(t){return new $_(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},$_=class extends O_{constructor(t,e,r,n,s){super(t,e,s),this.vectorBucketName=r,this.indexName=n}async putVectors(t){var e=()=>super.putVectors,r=this;return e().call(r,ne(ne({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(t){var e=()=>super.getVectors,r=this;return e().call(r,ne(ne({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(t={}){var e=()=>super.listVectors,r=this;return e().call(r,ne(ne({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(t){var e=()=>super.queryVectors,r=this;return e().call(r,ne(ne({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(t){var e=()=>super.deleteVectors,r=this;return e().call(r,ne(ne({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},V_=class extends I_{constructor(t,e={},r,n){super(t,e,r,n)}from(t){return new P_(this.url,this.headers,t,this.fetch)}get vectors(){return new F_(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new D_(this.url+"/iceberg",this.headers,this.fetch)}};const df="2.95.3",Vr=30*1e3,$a=3,Xi=$a*Vr,U_="http://localhost:9999",z_="supabase.auth.token",W_={"X-Client-Info":`gotrue-js/${df}`},Va="X-Supabase-Api-Version",hf={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},H_=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,G_=600*1e3;class Jn extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function H(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class q_ extends Jn{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function K_(t){return H(t)&&t.name==="AuthApiError"}class fr extends Jn{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class Bt extends Jn{constructor(e,r,n,s){super(e,n,s),this.name=r,this.status=n}}class Qe extends Bt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Zi(t){return H(t)&&t.name==="AuthSessionMissingError"}class Pr extends Bt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ms extends Bt{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Fs extends Bt{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Y_(t){return H(t)&&t.name==="AuthImplicitGrantRedirectError"}class nu extends Bt{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class J_ extends Bt{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Ua extends Bt{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function Qi(t){return H(t)&&t.name==="AuthRetryableFetchError"}class su extends Bt{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class za extends Bt{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const li="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),iu=` 	
\r=`.split(""),X_=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<iu.length;e+=1)t[iu[e].charCodeAt(0)]=-2;for(let e=0;e<li.length;e+=1)t[li[e].charCodeAt(0)]=e;return t})();function au(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(li[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(li[n]),e.queuedBits-=6}}function ff(t,e,r){const n=X_[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function ou(t){const e=[],r=a=>{e.push(String.fromCodePoint(a))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=a=>{ej(a,n,r)};for(let a=0;a<t.length;a+=1)ff(t.charCodeAt(a),s,i);return e.join("")}function Z_(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function Q_(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}Z_(n,e)}}function ej(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if((t>>7-n&1)===0){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function Qr(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)ff(t.charCodeAt(s),r,n);return new Uint8Array(e)}function tj(t){const e=[];return Q_(t,r=>e.push(r)),new Uint8Array(e)}function yr(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};return t.forEach(s=>au(s,r,n)),au(null,r,n),e.join("")}function rj(t){return Math.round(Date.now()/1e3)+t}function nj(){return Symbol("auth-callback")}const We=()=>typeof window<"u"&&typeof document<"u",or={tested:!1,writable:!1},mf=()=>{if(!We())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(or.tested)return or.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),or.tested=!0,or.writable=!0}catch{or.tested=!0,or.writable=!1}return or.writable};function sj(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{e[s]=n}),e}const pf=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),ij=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Ur=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},lr=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},ze=async(t,e)=>{await t.removeItem(e)};class bi{constructor(){this.promise=new bi.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}bi.promiseConstructor=Promise;function Bs(t){const e=t.split(".");if(e.length!==3)throw new za("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!H_.test(e[n]))throw new za("JWT not in base64url format");return{header:JSON.parse(ou(e[0])),payload:JSON.parse(ou(e[1])),signature:Qr(e[2]),raw:{header:e[0],payload:e[1]}}}async function aj(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function oj(t,e){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const a=await t(i);if(!e(i,null,a)){n(a);return}}catch(a){if(!e(i,a)){s(a);return}}})()})}function lj(t){return("0"+t.toString(16)).substr(-2)}function cj(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(e),Array.from(e,lj).join("")}async function uj(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function dj(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await uj(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Rr(t,e,r=!1){const n=cj();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await Ur(t,`${e}-code-verifier`,s);const i=await dj(n);return[i,n===i?"plain":"s256"]}const hj=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function fj(t){const e=t.headers.get(Va);if(!e||!e.match(hj))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function mj(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function pj(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const gj=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ir(t){if(!gj.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function ea(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function yj(t,e){return new Proxy(t,{get:(r,n,s)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,s)}return!e.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(r,n,s)}})}function lu(t){return JSON.parse(JSON.stringify(t))}const dr=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),vj=[502,503,504];async function cu(t){var e;if(!ij(t))throw new Ua(dr(t),0);if(vj.includes(t.status))throw new Ua(dr(t),t.status);let r;try{r=await t.json()}catch(i){throw new fr(dr(i),i)}let n;const s=fj(t);if(s&&s.getTime()>=hf["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new su(dr(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new Qe}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,a)=>i&&typeof a=="string",!0))throw new su(dr(r),t.status,r.weak_password.reasons);throw new q_(dr(r),t.status||500,n)}const xj=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function te(t,e,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[Va]||(i[Va]=hf["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const a=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(a.redirect_to=n.redirectTo);const o=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",c=await bj(t,e,r+o,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function bj(t,e,r,n,s,i){const a=xj(e,n,s,i);let o;try{o=await t(r,Object.assign({},a))}catch(c){throw console.error(c),new Ua(dr(c),0)}if(o.ok||await cu(o),n!=null&&n.noResolveJson)return o;try{return await o.json()}catch(c){await cu(c)}}function pt(t){var e;let r=null;jj(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=rj(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function uu(t){const e=pt(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Kt(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function wj(t){return{data:t,error:null}}function _j(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=t,a=yi(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},c=Object.assign({},a);return{data:{properties:o,user:c},error:null}}function du(t){return t}function jj(t){return t.access_token&&t.refresh_token&&t.expires_in}const ta=["global","local","others"];class kj{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=pf(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=ta[0]){if(ta.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${ta.join(", ")}`);try{return await te(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(H(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await te(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Kt})}catch(n){if(H(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=yi(e,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await te(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:_j,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(H(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await te(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Kt})}catch(r){if(H(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,s,i,a,o,c;try{const u={nextPage:null,lastPage:0,total:0},d=await te(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:du});if(d.error)throw d.error;const h=await d.json(),f=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,m=(c=(o=d.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(p=>{const y=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(p.split(";")[1].split("=")[1]);u[`${b}Page`]=y}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(H(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){Ir(e);try{return await te(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Kt})}catch(r){if(H(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){Ir(e);try{return await te(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:Kt})}catch(n){if(H(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){Ir(e);try{return await te(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:Kt})}catch(n){if(H(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){Ir(e.userId);try{const{data:r,error:n}=await te(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(H(r))return{data:null,error:r};throw r}}async _deleteFactor(e){Ir(e.userId),Ir(e.id);try{return{data:await te(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(H(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,n,s,i,a,o,c;try{const u={nextPage:null,lastPage:0,total:0},d=await te(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:du});if(d.error)throw d.error;const h=await d.json(),f=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,m=(c=(o=d.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(p=>{const y=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(p.split(";")[1].split("=")[1]);u[`${b}Page`]=y}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(H(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(e){try{return await te(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(H(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await te(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(H(r))return{data:null,error:r};throw r}}async _updateOAuthClient(e,r){try{return await te(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(H(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await te(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(H(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await te(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(H(r))return{data:null,error:r};throw r}}}function hu(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const Dr={debug:!!(globalThis&&mf()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class gf extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Sj extends gf{}async function Nj(t,e,r){Dr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),Dr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){Dr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await r()}finally{Dr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw Dr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new Sj(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Dr.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function Ej(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function yf(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function Tj(t){return parseInt(t,16)}function Cj(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,n=>n.toString(16).padStart(2,"0")).join("")}function Aj(t){var e;const{chainId:r,domain:n,expirationTime:s,issuedAt:i=new Date,nonce:a,notBefore:o,requestId:c,resources:u,scheme:d,uri:h,version:f}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(a&&a.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(f!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${f}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const m=yf(t.address),p=d?`${d}://${n}`:n,y=t.statement?`${t.statement}
`:"",b=`${p} wants you to sign in with your Ethereum account:
${m}

${y}`;let g=`URI: ${h}
Version: ${f}
Chain ID: ${r}${a?`
Nonce: ${a}`:""}
Issued At: ${i.toISOString()}`;if(s&&(g+=`
Expiration Time: ${s.toISOString()}`),o&&(g+=`
Not Before: ${o.toISOString()}`),c&&(g+=`
Request ID: ${c}`),u){let v=`
Resources:`;for(const x of u){if(!x||typeof x!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${x}`);v+=`
- ${x}`}g+=v}return`${b}
${g}`}class Re extends Error{constructor({message:e,code:r,cause:n,name:s}){var i;super(e,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=s??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class ci extends Re{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function Pj({error:t,options:e}){var r,n,s;const{publicKey:i}=e;if(!i)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Re({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Re({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Re({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new Re({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new Re({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new Re({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return i.pubKeyCredParams.filter(o=>o.type==="public-key").length===0?new Re({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new Re({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const a=window.location.hostname;if(vf(a)){if(i.rp.id!==a)return new Re({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Re({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new Re({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new Re({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Re({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function Rj({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Re({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new Re({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const n=window.location.hostname;if(vf(n)){if(r.rpId!==n)return new Re({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Re({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new Re({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Re({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class Ij{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const Dj=new Ij;function Lj(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:n}=t,s=yi(t,["challenge","user","excludeCredentials"]),i=Qr(e).buffer,a=Object.assign(Object.assign({},r),{id:Qr(r.id).buffer}),o=Object.assign(Object.assign({},s),{challenge:i,user:a});if(n&&n.length>0){o.excludeCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const u=n[c];o.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:Qr(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return o}function Oj(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,n=yi(t,["challenge","allowCredentials"]),s=Qr(e).buffer,i=Object.assign(Object.assign({},n),{challenge:s});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let a=0;a<r.length;a++){const o=r[a];i.allowCredentials[a]=Object.assign(Object.assign({},o),{id:Qr(o.id).buffer,type:o.type||"public-key",transports:o.transports})}}return i}function Mj(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:yr(new Uint8Array(t.response.attestationObject)),clientDataJSON:yr(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Fj(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,n=t.getClientExtensionResults(),s=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:yr(new Uint8Array(s.authenticatorData)),clientDataJSON:yr(new Uint8Array(s.clientDataJSON)),signature:yr(new Uint8Array(s.signature)),userHandle:s.userHandle?yr(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function vf(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function fu(){var t,e;return!!(We()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function Bj(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new ci("Browser returned unexpected credential type",e)}:{data:null,error:new ci("Empty credential response",e)}}catch(e){return{data:null,error:Pj({error:e,options:t})}}}async function $j(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new ci("Browser returned unexpected credential type",e)}:{data:null,error:new ci("Empty credential response",e)}}catch(e){return{data:null,error:Rj({error:e,options:t})}}}const Vj={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},Uj={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function ui(...t){const e=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),r=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),n={};for(const s of t)if(s)for(const i in s){const a=s[i];if(a!==void 0)if(Array.isArray(a))n[i]=a;else if(r(a))n[i]=a;else if(e(a)){const o=n[i];e(o)?n[i]=ui(o,a):n[i]=ui(a)}else n[i]=a}return n}function zj(t,e){return ui(Vj,t,e||{})}function Wj(t,e){return ui(Uj,t,e||{})}class Hj{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:n,signal:s},i){var a;try{const{data:o,error:c}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!o)return{data:null,error:c};const u=s??Dj.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:d}=o.webauthn.credential_options.publicKey;if(!d.name){const h=n;if(h)d.name=`${d.id}:${h}`;else{const m=(await this.client.getUser()).data.user,p=((a=m==null?void 0:m.user_metadata)===null||a===void 0?void 0:a.name)||(m==null?void 0:m.email)||(m==null?void 0:m.id)||"User";d.name=`${d.id}:${p}`}}d.displayName||(d.displayName=d.name)}switch(o.webauthn.type){case"create":{const d=zj(o.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:h,error:f}=await Bj({publicKey:d,signal:u});return h?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:h}},error:null}:{data:null,error:f}}case"request":{const d=Wj(o.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:h,error:f}=await $j(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:d,signal:u}));return h?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:h}},error:null}:{data:null,error:f}}}}catch(o){return H(o)?{data:null,error:o}:{data:null,error:new fr("Unexpected error in challenge",o)}}}async _verify({challengeId:e,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:n})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!r)return{data:null,error:new Jn("rpId is required for WebAuthn authentication")};try{if(!fu())return{data:null,error:new fr("Browser does not support WebAuthn",null)};const{data:a,error:o}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:n},signal:s},{request:i});if(!a)return{data:null,error:o};const{webauthn:c}=a;return this._verify({factorId:e,challengeId:a.challengeId,webauthn:{type:c.type,rpId:r,rpOrigins:n,credential_response:c.credential_response}})}catch(a){return H(a)?{data:null,error:a}:{data:null,error:new fr("Unexpected error in authenticate",a)}}}async _register({friendlyName:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!r)return{data:null,error:new Jn("rpId is required for WebAuthn registration")};try{if(!fu())return{data:null,error:new fr("Browser does not support WebAuthn",null)};const{data:a,error:o}=await this._enroll({friendlyName:e});if(!a)return await this.client.mfa.listFactors().then(d=>{var h;return(h=d.data)===null||h===void 0?void 0:h.all.find(f=>f.factor_type==="webauthn"&&f.friendly_name===e&&f.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:o};const{data:c,error:u}=await this._challenge({factorId:a.id,friendlyName:a.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:s},{create:i});return c?this._verify({factorId:a.id,challengeId:c.challengeId,webauthn:{rpId:r,rpOrigins:n,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(a){return H(a)?{data:null,error:a}:{data:null,error:new fr("Unexpected error in register",a)}}}}Ej();const Gj={url:U_,storageKey:z_,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:W_,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function mu(t,e,r){return await r()}const Lr={};class Xn{get jwks(){var e,r;return(r=(e=Lr[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){Lr[this.storageKey]=Object.assign(Object.assign({},Lr[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=Lr[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Lr[this.storageKey]=Object.assign(Object.assign({},Lr[this.storageKey]),{cachedAt:e})}constructor(e){var r,n,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},Gj),e);if(this.storageKey=i.storageKey,this.instanceID=(r=Xn.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,Xn.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&We()){const a=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(a),this.logDebugMessages&&console.trace(a)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new kj({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=pf(i.fetch),this.lock=i.lock||mu,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,this.lockAcquireTimeout=i.lockAcquireTimeout,i.lock?this.lock=i.lock:this.persistSession&&We()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=Nj:this.lock=mu,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Hj(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:mf()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=hu(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=hu(this.memoryStorage)),We()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a);try{await this._notifyAllSubscribers(a.data.event,a.data.session,!1)}catch(o){this._debug("#broadcastChannel","error",o)}})}this.initialize().catch(a=>{this._debug("#initialize()","error",a)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${df}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let r={},n="none";if(We()&&(r=sj(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),We()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Y_(i)){const c=(e=i.details)===null||e===void 0?void 0:e.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return{error:i}}const{session:a,redirectType:o}=s;return this._debug("#_initialize()","detected session in URL",a,"redirect type",o),await this._saveSession(a),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return H(r)?this._returnResult({error:r}):this._returnResult({error:new fr("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,s;try{const i=await te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:pt}),{data:a,error:o}=i;if(o||!a)return this._returnResult({data:{user:null,session:null},error:o});const c=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(i){if(H(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(e){var r,n,s;try{let i;if("email"in e){const{email:d,password:h,options:f}=e;let m=null,p=null;this.flowType==="pkce"&&([m,p]=await Rr(this.storage,this.storageKey)),i=await te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:d,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:m,code_challenge_method:p},xform:pt})}else if("phone"in e){const{phone:d,password:h,options:f}=e;i=await te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:pt})}else throw new Ms("You must provide either an email or phone number and a password");const{data:a,error:o}=i;if(o||!a)return await ze(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:o});const c=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(i){if(await ze(this.storage,`${this.storageKey}-code-verifier`),H(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(e){try{let r;if("email"in e){const{email:i,password:a,options:o}=e;r=await te(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:uu})}else if("phone"in e){const{phone:i,password:a,options:o}=e;r=await te(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:uu})}else throw new Ms("You must provide either an email or phone number and a password");const{data:n,error:s}=r;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!n||!n.session||!n.user){const i=new Pr;return this._returnResult({data:{user:null,session:null},error:i})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(H(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(e){var r,n,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,n,s,i,a,o,c,u,d,h,f;let m,p;if("message"in e)m=e.message,p=e.signature;else{const{chain:y,wallet:b,statement:g,options:v}=e;let x;if(We())if(typeof b=="object")x=b;else{const E=window;if("ethereum"in E&&typeof E.ethereum=="object"&&"request"in E.ethereum&&typeof E.ethereum.request=="function")x=E.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(v!=null&&v.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");x=b}const k=new URL((r=v==null?void 0:v.url)!==null&&r!==void 0?r:window.location.href),S=await x.request({method:"eth_requestAccounts"}).then(E=>E).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!S||S.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const T=yf(S[0]);let _=(n=v==null?void 0:v.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!_){const E=await x.request({method:"eth_chainId"});_=Tj(E)}const j={domain:k.host,address:T,statement:g,uri:k.href,version:"1",chainId:_,nonce:(s=v==null?void 0:v.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(a=(i=v==null?void 0:v.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(o=v==null?void 0:v.signInWithEthereum)===null||o===void 0?void 0:o.expirationTime,notBefore:(c=v==null?void 0:v.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=v==null?void 0:v.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=v==null?void 0:v.signInWithEthereum)===null||d===void 0?void 0:d.resources};m=Aj(j),p=await x.request({method:"personal_sign",params:[Cj(m),T]})}try{const{data:y,error:b}=await te(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:m,signature:p},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(f=e.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:pt});if(b)throw b;if(!y||!y.session||!y.user){const g=new Pr;return this._returnResult({data:{user:null,session:null},error:g})}return y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),this._returnResult({data:Object.assign({},y),error:b})}catch(y){if(H(y))return this._returnResult({data:{user:null,session:null},error:y});throw y}}async signInWithSolana(e){var r,n,s,i,a,o,c,u,d,h,f,m;let p,y;if("message"in e)p=e.message,y=e.signature;else{const{chain:b,wallet:g,statement:v,options:x}=e;let k;if(We())if(typeof g=="object")k=g;else{const T=window;if("solana"in T&&typeof T.solana=="object"&&("signIn"in T.solana&&typeof T.solana.signIn=="function"||"signMessage"in T.solana&&typeof T.solana.signMessage=="function"))k=T.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(x!=null&&x.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");k=g}const S=new URL((r=x==null?void 0:x.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in k&&k.signIn){const T=await k.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},x==null?void 0:x.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),v?{statement:v}:null));let _;if(Array.isArray(T)&&T[0]&&typeof T[0]=="object")_=T[0];else if(T&&typeof T=="object"&&"signedMessage"in T&&"signature"in T)_=T;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in _&&"signature"in _&&(typeof _.signedMessage=="string"||_.signedMessage instanceof Uint8Array)&&_.signature instanceof Uint8Array)p=typeof _.signedMessage=="string"?_.signedMessage:new TextDecoder().decode(_.signedMessage),y=_.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in k)||typeof k.signMessage!="function"||!("publicKey"in k)||typeof k!="object"||!k.publicKey||!("toBase58"in k.publicKey)||typeof k.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");p=[`${S.host} wants you to sign in with your Solana account:`,k.publicKey.toBase58(),...v?["",v,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(s=(n=x==null?void 0:x.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=x==null?void 0:x.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${x.signInWithSolana.notBefore}`]:[],...!((a=x==null?void 0:x.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${x.signInWithSolana.expirationTime}`]:[],...!((o=x==null?void 0:x.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${x.signInWithSolana.chainId}`]:[],...!((c=x==null?void 0:x.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${x.signInWithSolana.nonce}`]:[],...!((u=x==null?void 0:x.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${x.signInWithSolana.requestId}`]:[],...!((h=(d=x==null?void 0:x.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...x.signInWithSolana.resources.map(_=>`- ${_}`)]:[]].join(`
`);const T=await k.signMessage(new TextEncoder().encode(p),"utf8");if(!T||!(T instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");y=T}}try{const{data:b,error:g}=await te(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:p,signature:yr(y)},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(m=e.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:pt});if(g)throw g;if(!b||!b.session||!b.user){const v=new Pr;return this._returnResult({data:{user:null,session:null},error:v})}return b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),this._returnResult({data:Object.assign({},b),error:g})}catch(b){if(H(b))return this._returnResult({data:{user:null,session:null},error:b});throw b}}async _exchangeCodeForSession(e){const r=await lr(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{if(!n&&this.flowType==="pkce")throw new J_;const{data:i,error:a}=await te(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:pt});if(await ze(this.storage,`${this.storageKey}-code-verifier`),a)throw a;if(!i||!i.session||!i.user){const o=new Pr;return this._returnResult({data:{user:null,session:null,redirectType:null},error:o})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:a})}catch(i){if(await ze(this.storage,`${this.storageKey}-code-verifier`),H(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(e){try{const{options:r,provider:n,token:s,access_token:i,nonce:a}=e,o=await te(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:a,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:pt}),{data:c,error:u}=o;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!c||!c.session||!c.user){const d=new Pr;return this._returnResult({data:{user:null,session:null},error:d})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:u})}catch(r){if(H(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(e){var r,n,s,i,a;try{if("email"in e){const{email:o,options:c}=e;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Rr(this.storage,this.storageKey));const{error:h}=await te(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}if("phone"in e){const{phone:o,options:c}=e,{data:u,error:d}=await te(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(a=c==null?void 0:c.channel)!==null&&a!==void 0?a:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d})}throw new Ms("You must provide either an email or phone number.")}catch(o){if(await ze(this.storage,`${this.storageKey}-code-verifier`),H(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async verifyOtp(e){var r,n;try{let s,i;"options"in e&&(s=(r=e.options)===null||r===void 0?void 0:r.redirectTo,i=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:a,error:o}=await te(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:pt});if(o)throw o;if(!a)throw new Error("An error occurred on token verification.");const c=a.session,u=a.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(s){if(H(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(e){var r,n,s,i,a;try{let o=null,c=null;this.flowType==="pkce"&&([o,c]=await Rr(this.storage,this.storageKey));const u=await te(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:c}),headers:this.headers,xform:wj});return!((i=u.data)===null||i===void 0)&&i.url&&We()&&!(!((a=e.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(o){if(await ze(this.storage,`${this.storageKey}-code-verifier`),H(o))return this._returnResult({data:null,error:o});throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new Qe;const{error:s}=await te(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(e){if(H(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:s,options:i}=e,{error:a}=await te(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}else if("phone"in e){const{phone:n,type:s,options:i}=e,{data:a,error:o}=await te(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:o})}throw new Ms("You must provide either an email or phone number and a type")}catch(r){if(H(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await lr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<Xi:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const a=await lr(this.userStorage,this.storageKey+"-user");a!=null&&a.user?e.user=a.user:e.user=ea()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const a={value:this.suppressGetSessionWarning};e.user=yj(e.user,a),a.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(e){try{return e?await te(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Kt}):await this._useSession(async r=>{var n,s,i;const{data:a,error:o}=r;if(o)throw o;return!(!((n=a.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Qe}:await te(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Kt})})}catch(r){if(H(r))return Zi(r)&&(await this._removeSession(),await ze(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new Qe;const a=s.session;let o=null,c=null;this.flowType==="pkce"&&e.email!=null&&([o,c]=await Rr(this.storage,this.storageKey));const{data:u,error:d}=await te(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:o,code_challenge_method:c}),jwt:a.access_token,xform:Kt});if(d)throw d;return a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),this._returnResult({data:{user:a.user},error:null})})}catch(n){if(await ze(this.storage,`${this.storageKey}-code-verifier`),H(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Qe;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:a}=Bs(e.access_token);if(a.exp&&(n=a.exp,s=n<=r),s){const{data:o,error:c}=await this._callRefreshToken(e.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!o)return{data:{user:null,session:null},error:null};i=o}else{const{data:o,error:c}=await this._getUser(e.access_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});i={access_token:e.access_token,refresh_token:e.refresh_token,user:o.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(r){if(H(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:a,error:o}=r;if(o)throw o;e=(n=a.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new Qe;const{data:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(H(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(e,r){try{if(!We())throw new Fs("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Fs(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new nu("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Fs("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new nu("No code detected.");const{data:v,error:x}=await this._exchangeCodeForSession(e.code);if(x)throw x;const k=new URL(window.location.href);return k.searchParams.delete("code"),window.history.replaceState(window.history.state,"",k.toString()),{data:{session:v.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:a,expires_in:o,expires_at:c,token_type:u}=e;if(!i||!o||!a||!u)throw new Fs("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(o);let f=d+h;c&&(f=parseInt(c));const m=f-d;m*1e3<=Vr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${h}s`);const p=f-h;d-p>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",p,f,d):d-p<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",p,f,d);const{data:y,error:b}=await this._getUser(i);if(b)throw b;const g={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:f,refresh_token:a,token_type:u,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:g,redirectType:e.type},error:null})}catch(n){if(H(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await lr(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i&&!Zi(i))return this._returnResult({error:i});const a=(n=s.session)===null||n===void 0?void 0:n.access_token;if(a){const{error:o}=await this.admin.signOut(a,e);if(o&&!(K_(o)&&(o.status===404||o.status===401||o.status===403)||Zi(o)))return this._returnResult({error:o})}return e!=="others"&&(await this._removeSession(),await ze(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const r=nj(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:a}=r;if(a)throw a;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await Rr(this.storage,this.storageKey,!0));try{return await te(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(await ze(this.storage,`${this.storageKey}-code-verifier`),H(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(r){if(H(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var a,o,c,u,d;const{data:h,error:f}=i;if(f)throw f;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(o=e.options)===null||o===void 0?void 0:o.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await te(this.fetch,"GET",m,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return We()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:e.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(H(n))return this._returnResult({data:{provider:e.provider,url:null},error:n});throw n}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var n;try{const{error:s,data:{session:i}}=r;if(s)throw s;const{options:a,provider:o,token:c,access_token:u,nonce:d}=e,h=await te(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i==null?void 0:i.access_token)!==null&&n!==void 0?n:void 0,body:{provider:o,id_token:c,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:pt}),{data:f,error:m}=h;return m?this._returnResult({data:{user:null,session:null},error:m}):!f||!f.session||!f.user?this._returnResult({data:{user:null,session:null},error:new Pr}):(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("USER_UPDATED",f.session)),this._returnResult({data:f,error:m}))}catch(s){if(await ze(this.storage,`${this.storageKey}-code-verifier`),H(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:a}=r;if(a)throw a;return await te(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(H(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await oj(async s=>(s>0&&await aj(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await te(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:pt})),(s,i)=>{const a=200*Math.pow(2,s);return i&&Qi(i)&&Date.now()+a-n<Vr})}catch(n){if(this._debug(r,"error",n),H(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),We()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await lr(this.storage,this.storageKey);if(s&&this.userStorage){let a=await lr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:s.user},await Ur(this.userStorage,this.storageKey+"-user",a)),s.user=(e=a==null?void 0:a.user)!==null&&e!==void 0?e:ea()}else if(s&&!s.user&&!s.user){const a=await lr(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(s.user=a.user,await ze(this.storage,this.storageKey+"-user"),await Ur(this.storage,this.storageKey,s)):s.user=ea()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const i=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Xi;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${Xi}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:a}=await this._callRefreshToken(s.refresh_token);a&&(console.error(a),Qi(a)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:o}=await this._getUser(s.access_token);!o&&(a!=null&&a.user)?(s.user=a.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(n,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new Qe;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new bi;const{data:i,error:a}=await this._refreshAccessToken(e);if(a)throw a;if(!i.session)throw new Qe;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const o={data:i.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(i){if(this._debug(s,"error",i),H(i)){const a={data:null,error:i};return Qi(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,r,n=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const i=[],a=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(e,r)}catch(c){i.push(c)}});if(await Promise.all(a),i.length>0){for(let o=0;o<i.length;o+=1)console.error(i[o]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await ze(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Ur(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const i=lu(s);await Ur(this.storage,this.storageKey,i)}else{const s=lu(r);await Ur(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await ze(this.storage,this.storageKey),await ze(this.storage,this.storageKey+"-code-verifier"),await ze(this.storage,this.storageKey+"-user"),this.userStorage&&await ze(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&We()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Vr);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e);const r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e);const r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-e)/Vr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Vr}ms, refresh threshold is ${$a} ticks`),s<=$a&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof gf)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!We()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(e){this._debug("#visibilityChangedCallback","error",e)}},window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,a]=await Rr(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(a)}`});s.push(o.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?this._returnResult({data:null,error:i}):await te(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(H(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:a}=r;if(a)return this._returnResult({data:null,error:a});const o=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:c,error:u}=await te(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?this._returnResult({data:null,error:u}):(e.factorType==="totp"&&c.type==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))})}catch(r){if(H(r))return this._returnResult({data:null,error:r});throw r}}async _verify(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const a=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?Mj(e.webauthn.credential_response):Fj(e.webauthn.credential_response)})}:{code:e.code}),{data:o,error:c}=await te(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:a,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return c?this._returnResult({data:null,error:c}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),this._returnResult({data:o,error:c}))})}catch(r){if(H(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const a=await te(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});if(a.error)return a;const{data:o}=a;if(o.type!=="webauthn")return{data:o,error:null};switch(o.webauthn.type){case"create":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:Lj(o.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:Oj(o.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(H(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(e=r==null?void 0:r.factors)!==null&&e!==void 0?e:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(e){var r,n,s,i;if(e)try{const{payload:m}=Bs(e);let p=null;m.aal&&(p=m.aal);let y=p;const{data:{user:b},error:g}=await this.getUser(e);if(g)return this._returnResult({data:null,error:g});((n=(r=b==null?void 0:b.factors)===null||r===void 0?void 0:r.filter(k=>k.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(y="aal2");const x=m.amr||[];return{data:{currentLevel:p,nextLevel:y,currentAuthenticationMethods:x},error:null}}catch(m){if(H(m))return this._returnResult({data:null,error:m});throw m}const{data:{session:a},error:o}=await this.getSession();if(o)return this._returnResult({data:null,error:o});if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:c}=Bs(a.access_token);let u=null;c.aal&&(u=c.aal);let d=u;((i=(s=a.user.factors)===null||s===void 0?void 0:s.filter(m=>m.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(d="aal2");const f=c.amr||[];return{data:{currentLevel:u,nextLevel:d,currentAuthenticationMethods:f},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?await te(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Qe})})}catch(r){if(H(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new Qe});const a=await te(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:o=>({data:o,error:null})});return a.data&&a.data.redirect_url&&We()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(n){if(H(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new Qe});const a=await te(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:o=>({data:o,error:null})});return a.data&&a.data.redirect_url&&We()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(n){if(H(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;return n?this._returnResult({data:null,error:n}):r?await te(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new Qe})})}catch(e){if(H(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?(await te(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Qe})})}catch(r){if(H(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(o=>o.kid===e);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(o=>o.kid===e),n&&this.jwks_cached_at+G_>s)return n;const{data:i,error:a}=await te(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,n=i.keys.find(o=>o.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:m,error:p}=await this.getSession();if(p||!m.session)return this._returnResult({data:null,error:p});n=m.session.access_token}const{header:s,payload:i,signature:a,raw:{header:o,payload:c}}=Bs(n);r!=null&&r.allowExpired||mj(i.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:m}=await this.getUser(n);if(m)throw m;return{data:{claims:i,header:s,signature:a},error:null}}const d=pj(s.alg),h=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,a,tj(`${o}.${c}`)))throw new za("Invalid JWT signature");return{data:{claims:i,header:s,signature:a},error:null}}catch(n){if(H(n))return this._returnResult({data:null,error:n});throw n}}}Xn.nextInstanceID={};const qj=Xn,Kj="2.95.3";let En="";typeof Deno<"u"?En="deno":typeof document<"u"?En="web":typeof navigator<"u"&&navigator.product==="ReactNative"?En="react-native":En="node";const Yj={"X-Client-Info":`supabase-js-${En}/${Kj}`},Jj={headers:Yj},Xj={schema:"public"},Zj={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Qj={};function Zn(t){"@babel/helpers - typeof";return Zn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zn(t)}function ek(t,e){if(Zn(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Zn(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tk(t){var e=ek(t,"string");return Zn(e)=="symbol"?e:e+""}function rk(t,e,r){return(e=tk(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function pu(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Ce(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?pu(Object(r),!0).forEach(function(n){rk(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):pu(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}const nk=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),sk=()=>Headers,ik=(t,e,r)=>{const n=nk(r),s=sk();return async(i,a)=>{var o;const c=(o=await e())!==null&&o!==void 0?o:t;let u=new s(a==null?void 0:a.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(i,Ce(Ce({},a),{},{headers:u}))}};function ak(t){return t.endsWith("/")?t:t+"/"}function ok(t,e){var r,n;const{db:s,auth:i,realtime:a,global:o}=t,{db:c,auth:u,realtime:d,global:h}=e,f={db:Ce(Ce({},c),s),auth:Ce(Ce({},u),i),realtime:Ce(Ce({},d),a),storage:{},global:Ce(Ce(Ce({},h),o),{},{headers:Ce(Ce({},(r=h==null?void 0:h.headers)!==null&&r!==void 0?r:{}),(n=o==null?void 0:o.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return t.accessToken?f.accessToken=t.accessToken:delete f.accessToken,f}function lk(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(ak(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var ck=class extends qj{constructor(t){super(t)}},uk=class{constructor(t,e,r){var n,s;this.supabaseUrl=t,this.supabaseKey=e;const i=lk(t);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",i),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",i),this.storageUrl=new URL("storage/v1",i),this.functionsUrl=new URL("functions/v1",i);const a=`sb-${i.hostname.split(".")[0]}-auth-token`,o={db:Xj,realtime:Qj,auth:Ce(Ce({},Zj),{},{storageKey:a}),global:Jj},c=ok(r??{},o);if(this.storageKey=(n=c.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(s=c.global.headers)!==null&&s!==void 0?s:{},c.accessToken)this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(d,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}});else{var u;this.auth=this._initSupabaseAuthClient((u=c.auth)!==null&&u!==void 0?u:{},this.headers,c.global.fetch)}this.fetch=ik(e,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(Ce({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(d=>this.realtime.setAuth(d)).catch(d=>console.warn("Failed to set initial Realtime auth token:",d)),this.rest=new Kw(new URL("rest/v1",i).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch,timeout:c.db.timeout,urlLengthLimit:c.db.urlLengthLimit}),this.storage=new V_(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new $w(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,e,r)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t=this,e,r;if(t.accessToken)return await t.accessToken();const{data:n}=await t.auth.getSession();return(e=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&e!==void 0?e:t.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:n,userStorage:s,storageKey:i,flowType:a,lock:o,debug:c,throwOnError:u},d,h){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new ck({url:this.authUrl.href,headers:Ce(Ce({},f),d),storageKey:i,autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:n,userStorage:s,flowType:a,lock:o,debug:c,throwOnError:u,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(m=>m.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new d_(this.realtimeUrl.href,Ce(Ce({},t),{},{params:Ce(Ce({},{apikey:this.supabaseKey}),t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,e)=>{this._handleTokenChanged(t,"CLIENT",e==null?void 0:e.access_token)})}_handleTokenChanged(t,e,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const dk=(t,e,r)=>new uk(t,e,r);function hk(){if(typeof window<"u")return!1;const t=globalThis.process;if(!t)return!1;const e=t.version;if(e==null)return!1;const r=e.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}hk()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const fk="https://cadrfolvgzwutfwgefug.supabase.co",mk="sb_publishable_HWRwplY9aoz2A-zRh35J5w_o-4Z8fSr",rt=dk(fk,mk);async function pk(t){try{console.log(" Creating shipment with ID:",t.id),console.log("Admin ID:",t.admin_id);const{data:e,error:r}=await rt.from("shipments").insert([t]).select().single();if(r)throw console.error(" Supabase insert error:",r),r;return console.log(" Shipment created successfully:",e==null?void 0:e.id),{data:e,error:null}}catch(e){const r=e instanceof Error?e.message:"Failed to create shipment";return console.error(" Error creating shipment:",r,e),{data:null,error:r}}}async function Mt(t,e){try{const{data:r,error:n}=await rt.from("shipments").update(e).eq("id",t).select().single();if(n)throw n;return{data:r,error:null}}catch(r){return{data:null,error:r instanceof Error?r.message:"Failed to update shipment"}}}async function gk(t){try{const{error:e}=await rt.from("shipments").delete().eq("id",t);if(e)throw e;return{error:null}}catch(e){return{error:e instanceof Error?e.message:"Failed to delete shipment"}}}async function Or(t){try{const{data:e,error:r}=await rt.from("shipments").select(`
        *,
        checkpoints (*)
      `).eq("admin_id",t).order("created_at",{ascending:!1});if(r)throw r;return{data:e||[],error:null}}catch(e){return{data:[],error:e instanceof Error?e.message:"Failed to fetch shipments"}}}async function yk(t,e){try{console.log(` Creating ${e.length} checkpoints for shipment ${t}`);const r=e.map((i,a)=>({...i,shipment_id:t,checkpoint_order:a+1}));console.log("Checkpoint data to insert:",r);const{data:n,error:s}=await rt.from("checkpoints").insert(r).select();if(s)throw console.error("Supabase insert error:",s),s;return console.log(" Checkpoints created successfully:",(n==null?void 0:n.length)||0),{data:n,error:null}}catch(r){const n=r instanceof Error?r.message:"Failed to create checkpoints";return console.error(" Error creating checkpoints:",n),{data:null,error:n}}}async function vk(t,e,r){try{const n=`${r}-${Date.now()}-${e.name}`,{error:s}=await rt.storage.from(t).upload(n,e);if(s)throw s;const{data:i}=rt.storage.from(t).getPublicUrl(n);return{url:i.publicUrl,error:null}}catch(n){return{url:null,error:n instanceof Error?n.message:"Failed to upload image"}}}const an=w.createContext({shipments:[],addShipment:async()=>{},updateShipment:async()=>{},stopShipment:async()=>{},togglePause:async()=>{},deleteShipment:async()=>{},isAdmin:!1,unlockAdmin:()=>{},loading:!1,error:null,clearError:()=>{}}),xk=({children:t})=>{const[e,r]=w.useState([]),[n,s]=w.useState(!1),[i,a]=w.useState(!1),[o,c]=w.useState(null),[u,d]=w.useState(""),h=(x,k="shipment-images")=>{if(!x)return"";if(typeof x=="string"&&x.startsWith("http"))return x;try{const{data:S}=rt.storage.from(k).getPublicUrl(x);return(S==null?void 0:S.publicUrl)||x}catch{return x}};w.useEffect(()=>{(async()=>{try{const{data:{user:k},error:S}=await rt.auth.getUser();if(S||!k){console.warn(" No authenticated user found. Using demo mode with default admin (00000000-0000-0000-0000-000000000000)."),d("00000000-0000-0000-0000-000000000000"),s(!1);return}console.log(" Authenticated user found:",k.id),d(k.id),s(!0)}catch(k){console.error(" Error initializing admin:",k),d("00000000-0000-0000-0000-000000000000")}})()},[]),w.useEffect(()=>{if(!u){console.log(" Waiting for adminId to be set...");return}const x=async()=>{try{a(!0),console.log(" Fetching shipments for admin ID:",u);const{data:S,error:T}=await Or(u);if(T){console.error(" Error fetching shipments:",T),c(T),r([]);return}if(!S||S.length===0){console.log(" No shipments found for this admin"),r([]),c(null);return}console.log(" Fetched",S.length,"shipments");const _=S.map(j=>{var E;return console.log(` Transforming shipment ${j.id} with ${((E=j.checkpoints)==null?void 0:E.length)||0} checkpoints`),{id:j.id,senderName:j.sender_name,senderPhone:j.sender_phone,receiverName:j.receiver_name,receiverPhone:j.receiver_phone,receiverEmail:j.receiver_email,pickupLocation:j.pickup_location,deliveryAddress:j.delivery_address,warehouse:j.warehouse,transportation:j.transportation,packageName:j.package_name,images:(j.images||[]).map(D=>h(D,"shipment-images")),cost:j.cost,paid:j.paid,vehiclesCount:j.vehicles_count,vehicleType:j.vehicle_type,driverName:j.driver_name,driverExperience:j.driver_experience,stopped:j.stopped,stopReason:j.stop_reason,paused:j.paused,countdownDuration:j.countdown_duration?j.countdown_duration/3600:0,countdownStartTime:j.countdown_start_time,pauseTimestamp:j.pause_timestamp,admin_id:j.admin_id,status:j.status,checkpoints:j.checkpoints||[],currentCheckpointIndex:j.current_checkpoint_index||0}});r(_),c(null),console.log(" Shipments loaded successfully:",_.length)}catch(S){const T=S instanceof Error?S.message:"Failed to fetch shipments";console.error(" Exception in fetchShipments:",T),c(T),r([])}finally{a(!1)}};x();const k=rt.channel("admin-shipments").on("postgres_changes",{event:"*",schema:"public",table:"shipments",filter:`admin_id=eq.${u}`},()=>{x()}).subscribe();return()=>{k.unsubscribe()}},[u]);const f=w.useCallback(async x=>{try{a(!0),c(null);const k=x.id??crypto.randomUUID();console.log(" addShipment: Starting shipment creation with ID:",k),console.log(" Admin ID:",u);const S=Array.isArray(x.images)?x.images.filter($=>$&&$.trim()!==""):[];let T;if(x.routeScreenshot){const $=x.routeScreenshot,F=$ instanceof File?$:$ instanceof FileList?$[0]:null;if(F){const{url:X,error:le}=await vk("route-screenshots",F,k);!le&&X&&(T=X)}}const _={id:k,admin_id:u,sender_name:x.senderName||"",sender_phone:x.senderPhone||"",sender_email:x.senderEmail||"",receiver_name:x.receiverName||"",receiver_phone:x.receiverPhone||"",receiver_email:x.receiverEmail||"",pickup_location:x.pickupLocation||"",delivery_address:x.deliveryAddress||"",warehouse:x.warehouse||"",transportation:x.transportation||"",package_name:x.packageName||"",images:S,cost:x.cost||0,paid:x.paid||!1,vehicles_count:x.vehiclesCount||0,vehicle_type:x.vehicleType||"",driver_name:x.driverName||"",driver_experience:x.driverExperience||"",route_screenshot_url:T,countdown_duration:(x.countdownDuration||24)*3600,countdown_start_time:x.countdownStartTime||new Date().toISOString(),status:"in_transit",current_checkpoint_index:0,paused:!1,stopped:!1};console.log(" Shipment Data to save:",_);const{data:j,error:E}=await pk(_);if(E||!j){const $=E||"Failed to create shipment";throw console.error(" Shipment creation failed:",$),new Error($)}if(console.log(" Shipment created successfully:",j.id),x.checkpoints&&x.checkpoints.length>0){console.log(" Creating",x.checkpoints.length,"checkpoints...");const $=x.checkpoints.map(le=>({location:le.location,status:"pending"})),{data:F,error:X}=await yk(k,$);if(X)throw console.error(" Checkpoint creation failed:",X),new Error("Failed to create checkpoints: "+X);console.log(" Checkpoints created:",(F==null?void 0:F.length)||0)}console.log(" Refreshing shipments list...");const{data:D,error:M}=await Or(u);if(M)throw console.error(" Failed to fetch refreshed shipments:",M),new Error("Failed to refresh shipments: "+M);if(D&&D.length>0){const $=D.map(F=>({id:F.id,senderName:F.sender_name,senderPhone:F.sender_phone,receiverName:F.receiver_name,receiverPhone:F.receiver_phone,receiverEmail:F.receiver_email,pickupLocation:F.pickup_location,deliveryAddress:F.delivery_address,warehouse:F.warehouse,transportation:F.transportation,packageName:F.package_name,images:(F.images||[]).map(X=>h(X,"shipment-images")),cost:F.cost,paid:F.paid,vehiclesCount:F.vehicles_count,vehicleType:F.vehicle_type,driverName:F.driver_name,driverExperience:F.driver_experience,stopped:F.stopped,stopReason:F.stop_reason,paused:F.paused,countdownDuration:F.countdown_duration?F.countdown_duration/3600:0,countdownStartTime:F.countdown_start_time,pauseTimestamp:F.pause_timestamp,admin_id:F.admin_id,status:F.status,checkpoints:F.checkpoints||[],currentCheckpointIndex:F.current_checkpoint_index||0}));r($),console.log(" Shipments list updated:",$.length,"total shipments")}else console.warn(" No shipments returned after creation")}catch(k){const S=k instanceof Error?k.message:String(k);throw console.error(" Error in addShipment:",S),c(S),k}finally{a(!1)}},[u]),m=w.useCallback(async(x,k)=>{try{a(!0);const S={};k.senderName&&(S.sender_name=k.senderName),k.senderPhone&&(S.sender_phone=k.senderPhone),k.receiverName&&(S.receiver_name=k.receiverName),k.receiverPhone&&(S.receiver_phone=k.receiverPhone),k.receiverEmail&&(S.receiver_email=k.receiverEmail),k.pickupLocation&&(S.pickup_location=k.pickupLocation),k.deliveryAddress&&(S.delivery_address=k.deliveryAddress),k.warehouse&&(S.warehouse=k.warehouse),k.transportation&&(S.transportation=k.transportation),k.packageName&&(S.package_name=k.packageName),k.cost!==void 0&&(S.cost=k.cost),k.paid!==void 0&&(S.paid=k.paid),k.countdownStartTime&&(S.countdown_start_time=k.countdownStartTime),k.paused!==void 0&&(S.paused=k.paused),k.currentCheckpointIndex!==void 0&&(S.current_checkpoint_index=k.currentCheckpointIndex);const{error:T}=await Mt(x,S);if(T)throw new Error(T);const{data:_}=await Or(u);if(_){const j=_.map(E=>({id:E.id,senderName:E.sender_name,senderPhone:E.sender_phone,receiverName:E.receiver_name,receiverPhone:E.receiver_phone,receiverEmail:E.receiver_email,pickupLocation:E.pickup_location,deliveryAddress:E.delivery_address,warehouse:E.warehouse,transportation:E.transportation,packageName:E.package_name,images:(E.images||[]).map(D=>h(D,"shipment-images")),routeScreenshot:h(E.route_screenshot_url,"route-screenshots"),cost:E.cost,paid:E.paid,vehiclesCount:E.vehicles_count,vehicleType:E.vehicle_type,driverName:E.driver_name,driverExperience:E.driver_experience,stopped:E.stopped,stopReason:E.stop_reason,paused:E.paused,countdownDuration:E.countdown_duration?E.countdown_duration/3600:0,countdownStartTime:E.countdown_start_time,pauseTimestamp:E.pause_timestamp,admin_id:E.admin_id,status:E.status,checkpoints:E.checkpoints||[],currentCheckpointIndex:E.current_checkpoint_index||0}));r(j)}}catch(S){const T=S instanceof Error?S.message:String(S);console.error("Error updating shipment:",S),c(T)}finally{a(!1)}},[u]),p=w.useCallback(async(x,k)=>{try{const{error:S}=await Mt(x,{stopped:!0,stop_reason:k,status:"stopped"});if(S)throw new Error(S);const{data:T}=await Or(u);if(T){const _=T.map(j=>({id:j.id,senderName:j.sender_name,senderPhone:j.sender_phone,receiverName:j.receiver_name,receiverPhone:j.receiver_phone,receiverEmail:j.receiver_email,pickupLocation:j.pickup_location,deliveryAddress:j.delivery_address,warehouse:j.warehouse,transportation:j.transportation,packageName:j.package_name,images:(j.images||[]).map(E=>h(E,"shipment-images")),routeScreenshot:h(j.route_screenshot_url,"route-screenshots"),cost:j.cost,paid:j.paid,vehiclesCount:j.vehicles_count,vehicleType:j.vehicle_type,driverName:j.driver_name,driverExperience:j.driver_experience,stopped:j.stopped,stopReason:j.stop_reason,paused:j.paused,countdownDuration:j.countdown_duration?j.countdown_duration/3600:0,countdownStartTime:j.countdown_start_time,pauseTimestamp:j.pause_timestamp,admin_id:j.admin_id,status:j.status,checkpoints:j.checkpoints||[],currentCheckpointIndex:j.current_checkpoint_index||0}));r(_)}}catch(S){const T=S instanceof Error?S.message:String(S);console.error("Error stopping shipment:",S),c(T)}},[u]),y=w.useCallback(async x=>{try{const k=e.find(j=>j.id===x);if(!k)return;let S={};if(!k.paused)S={paused:!0,pause_timestamp:new Date().toISOString()};else if(k.pauseTimestamp&&k.countdownStartTime){const j=new Date(k.pauseTimestamp).getTime(),E=new Date(k.countdownStartTime).getTime(),M=Date.now()-j;S={paused:!1,countdown_start_time:new Date(E+M).toISOString(),pause_timestamp:null}}else S={paused:!1,pause_timestamp:null};const{error:T}=await Mt(x,S);if(T)throw new Error(T);const{data:_}=await Or(u);if(_){const j=_.map(E=>({id:E.id,senderName:E.sender_name,senderPhone:E.sender_phone,receiverName:E.receiver_name,receiverPhone:E.receiver_phone,receiverEmail:E.receiver_email,pickupLocation:E.pickup_location,deliveryAddress:E.delivery_address,warehouse:E.warehouse,transportation:E.transportation,packageName:E.package_name,images:(E.images||[]).map(D=>h(D,"shipment-images")),routeScreenshot:h(E.route_screenshot_url,"route-screenshots"),cost:E.cost,paid:E.paid,vehiclesCount:E.vehicles_count,vehicleType:E.vehicle_type,driverName:E.driver_name,driverExperience:E.driver_experience,stopped:E.stopped,stopReason:E.stop_reason,paused:E.paused,countdownDuration:E.countdown_duration?E.countdown_duration/3600:0,countdownStartTime:E.countdown_start_time,pauseTimestamp:E.pause_timestamp,admin_id:E.admin_id,status:E.status,checkpoints:E.checkpoints||[],currentCheckpointIndex:E.current_checkpoint_index||0}));r(j)}}catch(k){const S=k instanceof Error?k.message:String(k);console.error("Error toggling pause:",k),c(S)}},[e,u]),b=w.useCallback(async x=>{try{const{error:k}=await gk(x);if(k)throw new Error(k);const{data:S}=await Or(u);if(S){const T=S.map(_=>({id:_.id,senderName:_.sender_name,senderPhone:_.sender_phone,receiverName:_.receiver_name,receiverPhone:_.receiver_phone,receiverEmail:_.receiver_email,deliveryAddress:_.delivery_address,warehouse:_.warehouse,transportation:_.transportation,packageName:_.package_name,images:_.images||[],routeScreenshot:_.route_screenshot_url,cost:_.cost,paid:_.paid,vehiclesCount:_.vehicles_count,vehicleType:_.vehicle_type,driverName:_.driver_name,driverImage:_.driver_image_url,driverExperience:_.driver_experience,stopped:_.stopped,stopReason:_.stop_reason,paused:_.paused,countdownDuration:_.countdown_duration?_.countdown_duration/3600:0,countdownStartTime:_.countdown_start_time,pauseTimestamp:_.pause_timestamp,admin_id:_.admin_id,status:_.status,checkpoints:_.checkpoints||[],currentCheckpointIndex:_.current_checkpoint_index||0}));r(T)}}catch(k){const S=k instanceof Error?k.message:String(k);console.error("Error deleting shipment:",k),c(S)}},[u]),g=w.useCallback(()=>{s(!0)},[]),v=w.useCallback(()=>{c(null)},[]);return l.jsx(an.Provider,{value:{shipments:e,addShipment:f,updateShipment:m,deleteShipment:b,stopShipment:p,togglePause:y,isAdmin:n,unlockAdmin:g,loading:i,error:o,clearError:v},children:t})};function bk(){const t=Ct(),e=At(),{unlockAdmin:r}=w.useContext(an),[n,s]=w.useState(!1),[i,a]=w.useState(0),[o,c]=w.useState(null),[u,d]=w.useState(!1),h=[{name:"Home",path:"/"},{name:"Track Shipment",path:"/track"},{name:"Solutions",path:"/solutions"},{name:"Locations",path:"/locations"},{name:"About",path:"/about"}],f=p=>p==="/"?t.pathname==="/":t.pathname.startsWith(p);w.useEffect(()=>{const p=y=>{y.preventDefault(),c(y),d(!0)};return window.addEventListener("beforeinstallprompt",p),()=>window.removeEventListener("beforeinstallprompt",p)},[]),w.useEffect(()=>{i===5&&(r(),e("/admin"),a(0))},[i,r,e]);const m=()=>{a(p=>p+1)};return l.jsxs(I.nav,{initial:{y:-100},animate:{y:0},className:"fixed top-0 left-0 right-0 z-50 bg-white/80 backdrop-blur-xl border-b border-gray-200/50",children:[l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"flex items-center justify-between h-20",children:[l.jsxs("div",{onClick:m,className:"cursor-pointer flex items-center gap-3 group",children:[l.jsx("img",{src:"https://s.yimg.com/os/en/business-wire.com/fcbdfe0b84b9e2dd88d0c343ca781ba4",alt:"Buske Logistics logo",className:"w-12 h-12 rounded-full object-cover shadow-lg group-hover:shadow-xl transition-all duration-300 group-hover:scale-105"}),l.jsxs("div",{className:"hidden sm:block",children:[l.jsx("div",{className:"font-bold text-xl text-[#0F1F3D] tracking-tight",children:"Buske Logistics"}),l.jsx("div",{className:"text-xs text-gray-500 -mt-1",children:"Your Trusted Global Logistics Partner"})]})]}),l.jsx("div",{className:"hidden md:flex items-center gap-8",children:h.map(p=>l.jsxs(De,{to:p.path,className:`relative font-medium transition-colors duration-200 ${f(p.path)?"text-[#2563EB]":"text-gray-600 hover:text-[#0F1F3D]"}`,"aria-current":f(p.path)?"page":void 0,children:[p.name,f(p.path)&&l.jsx(I.div,{layoutId:"navbar-indicator",className:"absolute -bottom-8 left-0 right-0 h-0.5 bg-gradient-to-r from-[#2563EB] to-[#38BDF8]"})]},p.path))}),l.jsxs("div",{className:"hidden md:flex items-center gap-3",children:[u&&l.jsx("button",{onClick:async()=>{o&&(o.prompt(),await o.userChoice,d(!1))},className:"px-4 py-2 bg-gray-100 text-gray-800 rounded-lg hover:bg-gray-200",children:"Install App"}),l.jsx(De,{to:"/signin",className:"px-5 py-2.5 font-medium text-[#0F1F3D] hover:text-[#2563EB] transition-colors duration-200",children:"Sign In"}),l.jsx(De,{to:"/signup",className:"px-5 py-2.5 font-medium bg-gradient-to-r from-[#2563EB] to-[#38BDF8] text-white rounded-xl hover:shadow-lg hover:shadow-blue-500/30 transition-all duration-300 hover:scale-105",children:"Sign Up"})]}),l.jsx("button",{onClick:()=>s(!n),className:"md:hidden p-2 rounded-lg hover:bg-gray-100 transition-colors",children:n?l.jsx(Wy,{className:"w-6 h-6 text-gray-700"}):l.jsx(ly,{className:"w-6 h-6 text-gray-700"})})]})}),n&&l.jsx(I.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"md:hidden border-t border-gray-200 bg-white",children:l.jsxs("div",{className:"px-4 py-6 space-y-4",children:[h.map(p=>l.jsx(De,{to:p.path,onClick:()=>s(!1),className:`block py-2 font-medium ${f(p.path)?"text-[#2563EB]":"text-gray-600"}`,"aria-current":f(p.path)?"page":void 0,children:p.name},p.path)),l.jsxs("div",{className:"pt-4 space-y-3 border-t border-gray-200",children:[l.jsx(De,{to:"/signin",onClick:()=>s(!1),className:"block w-full px-5 py-2.5 text-center font-medium text-[#0F1F3D] border-2 border-[#0F1F3D] rounded-xl hover:bg-gray-50 transition-colors",children:"Sign In"}),l.jsx(De,{to:"/signup",onClick:()=>s(!1),className:"block w-full px-5 py-2.5 text-center font-medium bg-gradient-to-r from-[#2563EB] to-[#38BDF8] text-white rounded-xl",children:"Sign Up"})]})]})})]})}function wk(){At();const{unlockAdmin:t}=w.useContext(an),[e,r]=w.useState(0),[n,s]=w.useState(null),[i,a]=w.useState(!1);return w.useEffect(()=>{const o=u=>{u.preventDefault(),window.deferredPWAInstallPrompt=u,s(u),a(!0)};window.addEventListener("beforeinstallprompt",o);const c=window.deferredPWAInstallPrompt;return c&&(s(c),a(!0)),()=>window.removeEventListener("beforeinstallprompt",o)},[]),l.jsx("footer",{className:"bg-gradient-to-b from-[#0B1220] to-[#0F1F3D] text-white",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:[l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-8",children:[l.jsxs("div",{className:"lg:col-span-2",children:[l.jsxs(De,{to:"/",className:"flex items-center gap-3 mb-6",children:[l.jsx("img",{src:"https://s.yimg.com/os/en/business-wire.com/fcbdfe0b84b9e2dd88d0c343ca781ba4",alt:"Buske Logistics logo",className:"w-12 h-12 rounded-full object-cover shadow-lg"}),l.jsxs("div",{children:[l.jsx("div",{className:"font-bold text-xl",children:"Buske Logistics"}),l.jsx("div",{className:"text-xs text-gray-400",children:"Your Trusted Global Partner"})]})]}),l.jsx("p",{className:"text-gray-400 text-sm leading-relaxed mb-6",children:"Connecting the world through reliable, fast, and secure logistics solutions since 1998."}),l.jsx("div",{className:"flex gap-3",children:[Gg,My,ny,ty].map((o,c)=>l.jsx("a",{href:"#","aria-label":["Facebook","Twitter","LinkedIn","Instagram"][c],className:"w-10 h-10 rounded-lg bg-white/10 hover:bg-white/20 flex items-center justify-center transition-all duration-300 hover:scale-110",children:l.jsx(o,{className:"w-5 h-5"})},c))})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-lg mb-6",children:"Solutions"}),l.jsx("ul",{className:"space-y-3",children:["Warehousing","Sequencing","E-Commerce","Value-Added Services","B2B Fulfillment","B2C Fulfillment","3PL Solutions"].map(o=>l.jsx("li",{children:l.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors duration-200 text-sm",children:o})},o))})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-lg mb-6",children:"Industries"}),l.jsx("ul",{className:"space-y-3",children:["Food & Beverage","Aerospace & Defense","Automotive","Healthcare","Industrials","Retailers and Distributors","Industries Served"].map(o=>l.jsx("li",{children:l.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors duration-200 text-sm",children:o})},o))})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-lg mb-6",children:"Resources"}),l.jsx("ul",{className:"space-y-3",children:["Complete 3PL Guide","Top 3PL Companies","3PL Glossary","3PL Pricing Guide","3PL RFP Template","3PL For Served Markets","Partners Served"].map(o=>l.jsx("li",{children:l.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors duration-200 text-sm",children:o})},o))})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-lg mb-6",children:"About"}),l.jsx("ul",{className:"space-y-3",children:["About Buske","Our Team","In the News","Careers","Privacy Policy","Warehouse Locations Served","3PL Fulfillment Centers"].map(o=>l.jsx("li",{children:l.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors duration-200 text-sm",children:o})},o))})]}),l.jsxs("div",{className:"col-span-2 md:col-span-3 lg:col-span-1",children:[l.jsx("h3",{className:"font-semibold text-lg mb-6",children:"Contact Us"}),l.jsxs("ul",{className:"space-y-4",children:[l.jsxs("li",{className:"flex items-start gap-3",children:[l.jsx(ls,{className:"w-5 h-5 text-[#38BDF8] mt-0.5 flex-shrink-0"}),l.jsx("span",{className:"text-gray-400 text-sm",children:"buskelogistics141@gmail.com"})]}),l.jsxs("li",{className:"flex items-start gap-3",children:[l.jsx(lo,{className:"w-5 h-5 text-[#38BDF8] mt-0.5 flex-shrink-0"}),l.jsx("span",{className:"text-gray-400 text-sm",children:"+1(336)4596552"})]}),l.jsxs("li",{className:"flex items-start gap-3",children:[l.jsx(br,{className:"w-5 h-5 text-[#38BDF8] mt-0.5 flex-shrink-0"}),l.jsx("span",{className:"text-gray-400 text-sm",children:"#7 Gateway Commerce Center Dr. W, Suite 7, Edwardsville, IL 62025"})]})]})]})]}),l.jsx("div",{className:"mt-16 pt-8 border-t border-white/10",children:l.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4",children:[l.jsxs("p",{className:"text-gray-400 text-sm",children:[" ",new Date().getFullYear()," Buske Logistics. All rights reserved."]}),l.jsxs("div",{className:"flex gap-6",children:[l.jsx("a",{href:"#",className:"text-gray-400 hover:text-white text-sm transition-colors",children:"Privacy Policy"}),l.jsx("a",{href:"#",className:"text-gray-400 hover:text-white text-sm transition-colors",children:"Terms of Service"}),l.jsx("a",{href:"#",className:"text-gray-400 hover:text-white text-sm transition-colors",children:"Cookie Policy"}),i&&l.jsx("button",{onClick:async()=>{const o=n||window.deferredPWAInstallPrompt;if(o){o.prompt(),await o.userChoice,a(!1);try{delete window.deferredPWAInstallPrompt}catch{}}},className:"text-gray-200 bg-white/6 hover:bg-white/10 px-3 py-2 rounded text-sm",children:"Install App"})]})]})})]})})}function _k(){return Ct().pathname.startsWith("/admin")?null:l.jsxs(I.a,{href:"https://wa.me/13364596552?text=Hello%20I%20need%20assistance%20with%20my%20shipment",target:"_blank",rel:"noopener noreferrer",initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.5,type:"spring"},whileHover:{scale:1.1},whileTap:{scale:.95},className:"fixed bottom-6 right-6 z-50 w-14 h-14 bg-gradient-to-br from-green-400 to-green-600 rounded-full flex items-center justify-center shadow-2xl hover:shadow-green-500/50 transition-all duration-300","aria-label":"Contact customer service on WhatsApp",children:[l.jsx("div",{className:"absolute inset-0 rounded-full bg-green-500 opacity-0 animate-pulse"}),l.jsx(uy,{className:"w-7 h-7 text-white relative z-10"})]})}function jk(){return l.jsx(xk,{children:l.jsxs("div",{className:"min-h-screen flex flex-col",children:[l.jsx(bk,{}),l.jsx("main",{className:"flex-1 pt-20",children:l.jsx(ad,{})}),l.jsx(wk,{}),l.jsx(_k,{})]})})}function xf({icon:t,value:e,label:r,index:n=0}){const[s,i]=w.useState("0"),[a,o]=w.useState(!1);return w.useEffect(()=>{if(a)return;const c=parseInt(e.replace(/[^0-9]/g,""));if(isNaN(c)){i(e);return}const u=2e3,d=60,h=c/d;let f=0;const m=setInterval(()=>{if(f++,f>=d)i(e),clearInterval(m),o(!0);else{const p=Math.floor(h*f);i(e.replace(/[0-9.]+/,p.toString()))}},u/d);return()=>clearInterval(m)},[e,a]),l.jsxs(I.div,{initial:{opacity:0,scale:.8},whileInView:{opacity:1,scale:1},transition:{duration:.5,delay:n*.1},viewport:{once:!0},onViewportEnter:()=>!a&&o(!1),className:"bg-white/10 backdrop-blur-sm rounded-2xl p-8 text-center border border-white/20 hover:bg-white/15 transition-all duration-300 group",children:[l.jsx("div",{className:"flex justify-center mb-4",children:l.jsx("div",{className:"w-14 h-14 rounded-xl bg-gradient-to-br from-[#38BDF8] to-[#2563EB] flex items-center justify-center shadow-lg group-hover:scale-110 transition-transform duration-300",children:l.jsx(t,{className:"w-7 h-7 text-white"})})}),l.jsx("div",{className:"text-4xl font-bold text-white mb-2 tabular-nums",children:s}),l.jsx("div",{className:"text-gray-300 font-medium",children:r})]})}function kk({name:t,location:e,rating:r,comment:n,index:s=0}){return l.jsxs(I.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:s*.1},viewport:{once:!0},className:"bg-white rounded-2xl p-8 shadow-lg hover:shadow-xl transition-all duration-300 border border-gray-100 relative group",children:[l.jsx("div",{className:"absolute top-6 right-6 opacity-10 group-hover:opacity-20 transition-opacity",children:l.jsx(_y,{className:"w-16 h-16 text-[#2563EB]"})}),l.jsx("div",{className:"flex gap-1 mb-4",children:Array.from({length:5}).map((i,a)=>l.jsx(gd,{className:`w-5 h-5 ${a<r?"text-[#F59E0B] fill-[#F59E0B]":"text-gray-300"}`},a))}),l.jsxs("p",{className:"text-gray-700 leading-relaxed mb-6 relative z-10",children:['"',n,'"']}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-[#2563EB] to-[#38BDF8] flex items-center justify-center text-white font-semibold shadow-md",children:t.charAt(0)}),l.jsxs("div",{children:[l.jsx("div",{className:"font-semibold text-[#0F1F3D]",children:t}),l.jsx("div",{className:"text-sm text-gray-500",children:e})]})]})]})}const Sk="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODgiIGhlaWdodD0iODgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBvcGFjaXR5PSIuMyIgZmlsbD0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIzLjciPjxyZWN0IHg9IjE2IiB5PSIxNiIgd2lkdGg9IjU2IiBoZWlnaHQ9IjU2IiByeD0iNiIvPjxwYXRoIGQ9Im0xNiA1OCAxNi0xOCAzMiAzMiIvPjxjaXJjbGUgY3g9IjUzIiBjeT0iMzUiIHI9IjciLz48L3N2Zz4KCg==";function bf(t){const[e,r]=w.useState(!1),n=()=>{r(!0)},{src:s,alt:i,style:a,className:o,loading:c="lazy",...u}=t;return e?l.jsx("div",{className:`inline-block bg-gray-100 text-center align-middle ${o??""}`,style:a,children:l.jsx("div",{className:"flex items-center justify-center w-full h-full",children:l.jsx("img",{src:Sk,alt:"Error loading image",...u,"data-original-url":s})})}):l.jsx("img",{src:s,alt:i,className:o,style:a,loading:c,...u,onError:n})}function gu(){const[t,e]=w.useState(""),r=At(),[n,s]=w.useState("none"),i=d=>{d.preventDefault(),t.trim()&&r(`/track?id=${encodeURIComponent(t)}`)},a=[{icon:co,title:"Contract Warehousing",description:"Dedicated facilities and shared public warehousing solutions tailored to your specific needs.",imageUrl:"https://cdn.prod.website-files.com/65eb5e8c0ab92f839985c896/69600440a78e98c7a17e8266_Inside%20Buske%20Logistics%203PL%20warehouse%20and%20fulfillment%20center%20in%20Sugar%20Land%2C%20TX.jpg"},{icon:nt,title:"Value-Added Services",description:"Kitting, labeling, retail display builds, and light assembly with precision and care.",imageUrl:"https://cdn.prod.website-files.com/65eb5e8c0ab92f839985c896/66bcf79690e6bee62c66e0f4_Customized%20Reporting%20and%20Dashboards.jpg"},{icon:$n,title:"Automotive Sequencing",description:"Just-in-time JIT delivery for manufacturing lines with synchronized precision timing.",imageUrl:"https://cdn.prod.website-files.com/65eb5e8c0ab92f839985c896/66eb1015e86531816090026e_Louisville%20Group%20Photo-p-800.jpg"},{icon:Xr,title:"International Logistics",description:"Customs brokerage, ocean/air freight, and cross-border solutions for US, Canada, and Mexico.",imageUrl:"https://cdn.prod.website-files.com/65eb5e8c0ab92f839985c896/66bf7aaab425a97c0258c9bc_Cross%20Border%20Logistics.jpg"}],o=[{icon:Xr,value:"105+",label:"Countries Served"},{icon:nt,value:"100M+",label:"Packages Delivered"},{icon:$n,value:"6.5k+",label:"Fleet Vehicles"}],c=[{icon:Zs,title:"24/7 Live Tracking",description:"Monitor your shipment in real-time from pickup to delivery with our advanced tracking system."},{icon:pd,title:"Global Security",description:"Industry-leading security protocols and comprehensive insurance for complete peace of mind."},{icon:Xg,title:"Localized Support",description:"Expert customer support in your language, available around the clock in every region we serve."}],u=[{name:"Sarah Johnson",location:"New York, USA",rating:5,comment:"Buske Logistics has transformed our international shipping. The tracking system is incredibly accurate and customer service is outstanding."},{name:"Michael Chen",location:"Shanghai, China",rating:5,comment:"Reliable, fast, and professional. We've been using Buske Logistics for 3 years and they never disappoint. Highly recommended!"},{name:"Emma Williams",location:"London, UK",rating:5,comment:"The most trustworthy logistics partner we've ever worked with. Their global network is truly impressive."}];return l.jsxs("div",{className:"w-full",children:[l.jsxs("section",{className:"relative min-h-screen flex items-center justify-center overflow-hidden bg-gradient-to-br from-[#0B1220] via-[#0F1F3D] to-[#1A365D]",children:[l.jsx("img",{src:"https://st4.depositphotos.com/2228340/28649/i/450/depositphotos_286497518-stock-photo-international-trade.jpg",alt:"international trade background","aria-hidden":"true",className:"absolute inset-0 w-full h-full object-cover opacity-40"}),l.jsx("div",{className:"absolute top-1/4 left-1/4 w-96 h-96 bg-[#2563EB] rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob"}),l.jsx("div",{className:"absolute top-1/3 right-1/4 w-96 h-96 bg-[#38BDF8] rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-2000"}),l.jsxs("div",{className:"relative z-10 max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[l.jsx(I.div,{initial:{scale:0},animate:{scale:1},transition:{duration:.5,type:"spring"},className:"flex justify-center mb-8",children:l.jsx("img",{src:"https://s.yimg.com/os/en/business-wire.com/fcbdfe0b84b9e2dd88d0c343ca781ba4",alt:"Buske Logistics logo",className:"w-20 h-20 rounded-full object-cover shadow-2xl shadow-blue-500/30"})}),l.jsx(I.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},className:"text-5xl md:text-7xl font-bold text-white mb-6 leading-tight",children:"Buske Logistics"}),l.jsx(I.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.3},className:"text-xl md:text-2xl text-gray-300 mb-12 font-light",children:"Your Trusted Global Partner"}),l.jsxs(I.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},className:"max-w-2xl mx-auto",children:[l.jsx("form",{onSubmit:i,className:"relative",children:l.jsx("div",{className:"bg-white/10 backdrop-blur-xl rounded-2xl p-2 border border-white/20 shadow-2xl",children:l.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[l.jsx("input",{type:"text",value:t,onChange:d=>e(d.target.value),placeholder:"Enter Tracking ID (e.g. GG-2026-001)",className:"flex-1 px-6 py-4 bg-white/90 rounded-xl focus:outline-none focus:ring-2 focus:ring-[#38BDF8] text-gray-900 placeholder-gray-500"}),l.jsxs("button",{type:"submit",className:"px-8 py-4 bg-gradient-to-r from-[#2563EB] to-[#38BDF8] text-white font-semibold rounded-xl hover:shadow-lg hover:shadow-blue-500/50 transition-all duration-300 hover:scale-105 flex items-center justify-center gap-2",children:["Track Shipment",l.jsx(os,{className:"w-5 h-5"})]})]})})}),l.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-4 mt-8",children:[l.jsx("button",{onClick:()=>r("/signin"),className:"px-6 py-3 bg-white/10 backdrop-blur-sm text-white font-medium rounded-xl border border-white/20 hover:bg-white/20 transition-all duration-300",children:"Sign In"}),l.jsx("button",{onClick:()=>r("/signup"),className:"px-6 py-3 bg-white/10 backdrop-blur-sm text-white font-medium rounded-xl border border-white/20 hover:bg-white/20 transition-all duration-300",children:"Sign Up"}),l.jsx("button",{onClick:()=>s("prompt"),className:"px-6 py-3 bg-gradient-to-r from-[#10B981] to-[#059669] text-white font-medium rounded-xl hover:shadow-lg hover:shadow-green-500/30 transition-all duration-300 hover:scale-105",children:"Send Item"})]}),n==="prompt"&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:l.jsxs("div",{className:"bg-white rounded-lg shadow-lg max-w-md w-full p-6",children:[l.jsx("p",{className:"text-gray-800",children:"You must log in or sign up to send packages."}),l.jsxs("div",{className:"mt-6 flex justify-end gap-4",children:[l.jsx("button",{onClick:()=>r("/signup"),className:"px-4 py-2 bg-green-500 text-white rounded-md",children:"Sign Up"}),l.jsx("button",{onClick:()=>r("/signin"),className:"px-4 py-2 bg-blue-500 text-white rounded-md",children:"Log In"})]})]})})]})]}),l.jsx(I.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1,duration:1},className:"absolute bottom-8 left-1/2 -translate-x-1/2",children:l.jsx("div",{className:"w-6 h-10 rounded-full border-2 border-white/30 flex items-start justify-center p-2",children:l.jsx(I.div,{animate:{y:[0,12,0]},transition:{duration:1.5,repeat:1/0},className:"w-1.5 h-1.5 bg-white rounded-full"})})})]}),l.jsx("section",{className:"py-20 bg-white border-b border-gray-200",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[l.jsxs(I.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-center mb-16",children:[l.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-[#0F1F3D] mb-4",children:"Sample Partners"}),l.jsx("p",{className:"text-lg text-gray-600",children:"Our partners range from Fortune 100 brands to small-cap companies"})]}),l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-8 items-center justify-items-center",children:[{name:"Pepsi",logo:"https://cdn.prod.website-files.com/65eb5e8c0ab92f839985c896/6773f84cf8ae43c6a2f66013_PepsiCo_logo.svg%20(1)-p-500.png"},{name:"Pernod Ricard",logo:"https://cdn.prod.website-files.com/65eb5e8c0ab92f839985c896/6773f8b094adbefdf917d9dd_Pernod_Ricard_Logo.svg"},{name:"Diageo",logo:"https://cdn.prod.website-files.com/65eb5e8c0ab92f839985c896/6773fb50fa8af96d0a9cd54a_Diageo-Logo-p-500.png"},{name:"Ford",logo:"https://cdn.prod.website-files.com/65eb5e8c0ab92f839985c896/6773f84c5d333d82886d6aea_Ford_logo_flat.svg-p-500.png"},{name:"Molson Coors",logo:"https://cdn.prod.website-files.com/65eb5e8c0ab92f839985c896/6773f84cca973bc67963b2f7_Molson_Coors_Beverage_Company_logo.svg-p-500.png"},{name:"ZF Group",logo:"https://cdn.prod.website-files.com/65eb5e8c0ab92f839985c896/6773fa079cbb296465b3f55e_ZF-Group_Logo_Blue_RGB-p-500.png"},{name:"Crown Holdings",logo:"https://cdn.prod.website-files.com/65eb5e8c0ab92f839985c896/6773faab5a841e3420e8dde3_Crown_Holdings_logo.svg-p-500.png"},{name:"Lexus",logo:"https://cdn.prod.website-files.com/65eb5e8c0ab92f839985c896/6773fd860197311e4a9d4ac1_free-vector-lexus-logo_090974_Lexus_logo.png"},{name:"Anheuser Busch",logo:"https://cdn.prod.website-files.com/65eb5e8c0ab92f839985c896/6773fced3a56199feae45834_Anheuser-Busch-Logo%20(1)-p-500.png"},{name:"NTN",logo:"https://cdn.prod.website-files.com/65eb5e8c0ab92f839985c896/6773fd23ca973bc67967b1bc_NTN_Corporation_Logo.svg-p-500.png"},{name:"Lydall",logo:"https://cdn.prod.website-files.com/65eb5e8c0ab92f839985c896/6773fb29dc3bc19922582265_lydall-logo-300x85.webp"},{name:"AG",logo:"https://cdn.prod.website-files.com/65eb5e8c0ab92f839985c896/6773fde0c85471612c9fcaa5_ag-logo-p-500.png"}].map((d,h)=>l.jsx(I.div,{initial:{opacity:0,scale:.9},whileInView:{opacity:1,scale:1},viewport:{once:!0},transition:{delay:h*.05},className:"h-20 flex items-center justify-center p-4 hover:opacity-80 transition-opacity duration-300",children:l.jsx("img",{src:d.logo,alt:d.name,className:"max-h-16 max-w-full object-contain",onError:f=>{var y;const m=f.target;m.style.display="none";const p=document.createElement("span");p.innerText=d.name,p.className="text-sm text-gray-500 text-center",(y=m.parentElement)==null||y.appendChild(p)}})},h))})]})}),l.jsx("section",{id:"services",className:"py-24 bg-gradient-to-b from-white to-gray-50",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[l.jsxs(I.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-center mb-16",children:[l.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-[#0F1F3D] mb-4",children:"Our Global Logistics Solutions"}),l.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Comprehensive shipping services tailored to your business needs"})]}),l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8",children:a.map((d,h)=>l.jsx("article",{className:"bg-white rounded-2xl shadow-lg overflow-hidden border border-gray-100 flex flex-col",children:l.jsxs("div",{className:"flex-1 flex flex-col",children:[l.jsx("div",{className:"aspect-[4/3] bg-gray-100 overflow-hidden",children:l.jsx("img",{src:d.imageUrl??`/assets/images/service-${h+1}.jpg`,alt:d.title,className:"w-full h-full object-cover"})}),l.jsxs("div",{className:"p-5",children:[l.jsx("h3",{className:"text-lg font-semibold text-[#0F1F3D]",children:d.title}),l.jsx("p",{className:"text-sm text-gray-600 mt-2",children:d.description})]})]})},h))})]})}),l.jsxs("section",{className:"py-24 bg-gradient-to-br from-[#0F1F3D] via-[#1A365D] to-[#0F1F3D] relative overflow-hidden",children:[l.jsx("div",{className:"absolute inset-0 opacity-10",children:l.jsx("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA2MCA2MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxwYXRoIGQ9Ik0zNiAxOGMzLjMxNCAwIDYgMi42ODYgNiA2cy0yLjY4NiA2LTYgNi02LTIuNjg2LTYtNiAyLjY4Ni02IDYtNnptLTEyIDEyYzMuMzE0IDAgNiAyLjY4NiA2IDZzLTIuNjg2IDYtNiA2LTYtMi42ODYtNi02IDIuNjg2LTYgNi02eiIgc3Ryb2tlPSIjZmZmIiBzdHJva2Utd2lkdGg9IjIiLz48L2c+PC9zdmc+')] "})}),l.jsx("div",{className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:o.map((d,h)=>l.jsx(xf,{...d,index:h},h))})})]}),l.jsx("section",{className:"py-24 bg-white",children:l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-16 items-center",children:[l.jsxs(I.div,{initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},viewport:{once:!0},className:"relative",children:[l.jsx("div",{className:"aspect-[4/3] rounded-2xl overflow-hidden shadow-2xl",children:l.jsx(bf,{src:"https://media.licdn.com/dms/image/v2/D561BAQH34oP-o3-szg/company-background_10000/company-background_10000/0/1658437859620/buske_logistics_cover?e=2147483647&v=beta&t=CRv8POk7a0VLwM7wVjksBInZWCbLx-cXns17jtV6NlI",alt:"Buske Logistics operations",className:"w-full h-full object-cover"})}),l.jsx("div",{className:"absolute -bottom-6 -right-6 w-32 h-32 bg-gradient-to-br from-[#2563EB] to-[#38BDF8] rounded-2xl shadow-xl flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-3xl font-bold text-white",children:"100+"}),l.jsx("div",{className:"text-xs text-white/90",children:"Years"})]})})]}),l.jsxs(I.div,{initial:{opacity:0,x:20},whileInView:{opacity:1,x:0},viewport:{once:!0},children:[l.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-[#0F1F3D] mb-6",children:"Why Choose Buske Logistics?"}),l.jsx("p",{className:"text-xl text-gray-600 mb-10",children:"The world's most trusted logistics partner, delivering excellence across every mile."}),l.jsx("div",{className:"space-y-8",children:c.map((d,h)=>l.jsxs(I.div,{initial:{opacity:0,x:20},whileInView:{opacity:1,x:0},transition:{delay:h*.1},viewport:{once:!0},className:"flex gap-4 group",children:[l.jsx("div",{className:"flex-shrink-0",children:l.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-[#2563EB] to-[#38BDF8] flex items-center justify-center shadow-md group-hover:shadow-lg group-hover:shadow-blue-500/30 transition-all duration-300",children:l.jsx(d.icon,{className:"w-6 h-6 text-white"})})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl font-semibold text-[#0F1F3D] mb-2",children:d.title}),l.jsx("p",{className:"text-gray-600 leading-relaxed",children:d.description})]})]},h))})]})]})})}),l.jsx("section",{className:"py-24 bg-gradient-to-b from-gray-50 to-white",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[l.jsxs(I.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-center mb-16",children:[l.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-[#0F1F3D] mb-4",children:"What Our Global Clients Say"}),l.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Trusted by thousands of businesses worldwide"})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:u.map((d,h)=>l.jsx(kk,{...d,index:h},h))})]})}),l.jsxs("section",{className:"py-24 bg-gradient-to-br from-[#2563EB] to-[#38BDF8] relative overflow-hidden",children:[l.jsxs("div",{className:"absolute inset-0 opacity-10",children:[l.jsx("div",{className:"absolute top-1/4 left-1/4 w-96 h-96 bg-white rounded-full mix-blend-multiply filter blur-3xl animate-blob"}),l.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-96 h-96 bg-white rounded-full mix-blend-multiply filter blur-3xl animate-blob animation-delay-2000"})]}),l.jsx("div",{className:"relative z-10 max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:l.jsxs(I.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},children:[l.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-white mb-6",children:"Ready to Ship Globally?"}),l.jsx("p",{className:"text-xl text-white/90 mb-10 max-w-2xl mx-auto",children:"Join thousands of satisfied customers shipping to over 105 countries worldwide"}),l.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-4",children:[l.jsx("button",{onClick:()=>r("/signup"),className:"px-8 py-4 bg-white text-[#2563EB] font-semibold rounded-xl hover:shadow-2xl transition-all duration-300 hover:scale-105",children:"Get Started Now"}),l.jsx("button",{onClick:()=>r("/track"),className:"px-8 py-4 bg-white/10 backdrop-blur-sm text-white font-semibold rounded-xl border-2 border-white/30 hover:bg-white/20 transition-all duration-300",children:"Track a Shipment"})]})]})})]})]})}function Nk(t){const e=(t||"").toLowerCase();return e.includes("air")||e.includes("flight")?"air":e.includes("sea")||e.includes("ship")||e.includes("ocean")||e.includes("maritime")?"sea":"land"}function Ek({progress:t,checkpoints:e,status:r,vehiclesCount:n=1}){const s=Array.from({length:n},(i,a)=>n===1?"50%":`${20+60/(n-1)*a}%`);return l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center justify-between text-sm mb-3",children:[l.jsx("span",{className:r==="Stopped"?"text-red-600 font-medium":"text-gray-600",children:"Shipment Progress"}),l.jsxs("span",{className:"text-xs font-bold text-[#2563EB]",children:[t,"%"]})]}),l.jsxs("div",{className:"relative w-full h-16 bg-gradient-to-r from-gray-100 to-gray-200 rounded-full shadow-md overflow-hidden border-2 border-gray-300",children:[l.jsx("div",{className:"absolute inset-0 flex items-center",children:l.jsx("div",{className:"w-full h-1 bg-gradient-to-r from-yellow-300 via-yellow-400 to-yellow-300 absolute left-0",style:{backgroundImage:"repeating-linear-gradient(90deg, #FBBF24 0px, #FBBF24 30px, transparent 30px, transparent 60px)",opacity:.7}})}),l.jsx(I.div,{initial:{width:0},animate:{width:`${t}%`},transition:{duration:.5,ease:"easeInOut"},className:"h-full bg-gradient-to-r from-green-400 to-green-300 rounded-full shadow-lg"}),s.map((i,a)=>l.jsx(I.div,{animate:{left:`${t}%`},transition:{duration:.5,ease:"easeInOut"},className:"absolute -translate-x-1/2",style:{top:i},children:l.jsxs("div",{className:"relative",children:[l.jsx(I.div,{animate:{y:[0,-4,0]},transition:{duration:1,repeat:1/0,repeatType:"reverse",delay:a*.1},className:"text-3xl drop-shadow-lg",children:""}),t>0&&t<100&&l.jsxs(l.Fragment,{children:[l.jsx(I.div,{animate:{opacity:[.3,.7,.3],x:[-8,0]},transition:{duration:.6,repeat:1/0},className:"absolute -left-8 top-1/2 text-gray-400 text-lg",children:""}),l.jsx(I.div,{animate:{opacity:[.2,.6,.2],x:[-16,0]},transition:{duration:.8,repeat:1/0},className:"absolute -left-16 top-1/2 text-gray-300 text-lg",children:""})]})]})},a)),(e||[]).map((i,a)=>l.jsx("div",{className:"absolute top-1/2 -translate-y-1/2 w-3 h-3 rounded-full transform -translate-x-1/2 pointer-events-none",style:{left:`${i.positionPercent}%`},children:l.jsx("div",{className:`w-3 h-3 rounded-full shadow-md border border-white ${i.status==="completed"?"bg-green-500":i.status==="current"?"bg-blue-500":i.status==="stopped"?"bg-red-500":"bg-gray-400"}`})},a))]}),l.jsx("div",{className:"text-xs text-gray-500 text-center",children:t===100?" Delivery Complete":`${t}% of the way there`})]})}function Tk({progress:t,checkpoints:e,status:r}){return l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center justify-between text-sm mb-3",children:[l.jsx("span",{className:r==="Stopped"?"text-red-600 font-medium":"text-gray-600",children:"Flight Progress"}),l.jsxs("span",{className:"text-xs font-bold text-[#2563EB]",children:[t,"%"]})]}),l.jsxs("div",{className:"relative w-full h-16 bg-gradient-to-r from-blue-100 via-blue-50 to-blue-100 rounded-full shadow-md overflow-hidden border-2 border-blue-200",children:[l.jsx("div",{className:"absolute left-2 top-2 text-xl opacity-40",children:""}),l.jsx("div",{className:"absolute right-4 bottom-2 text-xl opacity-30",children:""}),l.jsx(I.div,{initial:{width:0},animate:{width:`${t}%`},transition:{duration:.5,ease:"easeInOut"},className:"h-full bg-gradient-to-r from-sky-300 to-sky-200 rounded-full shadow-lg"}),l.jsx(I.div,{animate:{left:`${t}%`},transition:{duration:.5,ease:"easeInOut"},className:"absolute top-1/2 -translate-y-1/2 -translate-x-1/2",children:l.jsxs("div",{className:"relative",children:[l.jsx(I.div,{animate:{y:[0,-3,0],rotate:[0,2,0]},transition:{duration:2,repeat:1/0,repeatType:"reverse"},className:"text-3xl drop-shadow-lg",children:""}),t>0&&t<100&&l.jsxs(l.Fragment,{children:[l.jsx(I.div,{animate:{opacity:[.4,.2],x:[-4,-12]},transition:{duration:1,repeat:1/0},className:"absolute -left-6 top-1/4 text-blue-300 text-sm",children:"~~"}),l.jsx(I.div,{animate:{opacity:[.3,.1],x:[-8,-20]},transition:{duration:1.2,repeat:1/0,delay:.1},className:"absolute -left-10 top-2/3 text-blue-200 text-sm",children:"~~"})]})]})}),(e||[]).map((n,s)=>l.jsx("div",{className:"absolute top-1/2 -translate-y-1/2 w-3 h-3 rounded-full transform -translate-x-1/2 pointer-events-none",style:{left:`${n.positionPercent}%`},children:l.jsx("div",{className:`w-3 h-3 rounded-full shadow-md border border-white ${n.status==="completed"?"bg-green-500":n.status==="current"?"bg-blue-600":n.status==="stopped"?"bg-red-500":"bg-gray-300"}`})},s))]}),l.jsx("div",{className:"text-xs text-gray-500 text-center",children:t===100?" Landing Complete":`Cruising at altitude - ${t}% enroute`})]})}function Ck({progress:t,checkpoints:e,status:r}){return l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center justify-between text-sm mb-3",children:[l.jsx("span",{className:r==="Stopped"?"text-red-600 font-medium":"text-gray-600",children:"Voyage Progress"}),l.jsxs("span",{className:"text-xs font-bold text-[#2563EB]",children:[t,"%"]})]}),l.jsxs("div",{className:"relative w-full h-20 bg-gradient-to-r from-blue-200 via-cyan-100 to-blue-200 rounded-full shadow-md overflow-hidden border-2 border-blue-300",children:[l.jsxs("svg",{className:"absolute inset-0 w-full h-full opacity-40",viewBox:"0 0 1000 100",preserveAspectRatio:"none",children:[l.jsx("defs",{children:l.jsx("pattern",{id:"waves",x:"0",y:"0",width:"200",height:"100",patternUnits:"userSpaceOnUse",children:l.jsx("path",{d:"M0,50 Q50,30 100,50 T200,50",stroke:"#0369a1",strokeWidth:"2",fill:"none"})})}),l.jsx("rect",{width:"1000",height:"100",fill:"url(#waves)"})]}),l.jsx(I.div,{initial:{width:0},animate:{width:`${t}%`},transition:{duration:.5,ease:"easeInOut"},className:"h-full bg-gradient-to-r from-cyan-400 to-blue-300 rounded-full shadow-lg relative",children:l.jsxs("svg",{className:"absolute inset-0 w-full h-full opacity-30",viewBox:"0 0 1000 100",preserveAspectRatio:"none",children:[l.jsx("defs",{children:l.jsx("pattern",{id:"completedWaves",x:"0",y:"0",width:"200",height:"100",patternUnits:"userSpaceOnUse",children:l.jsx("path",{d:"M0,50 Q50,35 100,50 T200,50",stroke:"#ffffff",strokeWidth:"1.5",fill:"none"})})}),l.jsx("rect",{width:"1000",height:"100",fill:"url(#completedWaves)"})]})}),l.jsx(I.div,{animate:{left:`${t}%`},transition:{duration:.5,ease:"easeInOut"},className:"absolute top-1/2 -translate-y-1/2 -translate-x-1/2 z-10",children:l.jsxs("div",{className:"relative",children:[l.jsx(I.div,{animate:{y:[0,-2,0]},transition:{duration:1.5,repeat:1/0,repeatType:"reverse"},className:"text-3xl drop-shadow-lg",children:""}),t>0&&t<100&&l.jsxs(l.Fragment,{children:[l.jsx(I.div,{animate:{opacity:[.4,.1],y:[0,10]},transition:{duration:.8,repeat:1/0,repeatDelay:.2},className:"absolute left-2 top-1/2 text-blue-400 text-xl",children:""}),l.jsx(I.div,{animate:{opacity:[.3,.1],y:[0,10]},transition:{duration:1,repeat:1/0,repeatDelay:.4},className:"absolute -right-2 top-1/2 text-blue-300 text-xl",children:""})]})]})}),(e||[]).map((n,s)=>l.jsx("div",{className:"absolute top-1/2 -translate-y-1/2 w-3 h-3 rounded-full transform -translate-x-1/2 pointer-events-none z-5",style:{left:`${n.positionPercent}%`},children:l.jsx("div",{className:`w-3 h-3 rounded-full shadow-md border border-white ${n.status==="completed"?"bg-green-500":n.status==="current"?"bg-blue-600":n.status==="stopped"?"bg-red-500":"bg-gray-300"}`})},s))]}),l.jsx("div",{className:"text-xs text-gray-500 text-center",children:t===100?" Port of Arrival Reached":`Smooth sailing - ${t}% of voyage complete`})]})}function Ak({progress:t,transportMode:e,checkpoints:r,status:n,vehiclesCount:s}){const i=Nk(e),a={progress:t,checkpoints:r,status:n};switch(i){case"air":return l.jsx(Tk,{...a});case"sea":return l.jsx(Ck,{...a});case"land":default:return l.jsx(Ek,{...a,vehiclesCount:s||1})}}function yu(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Pk(...t){return e=>{let r=!1;const n=t.map(s=>{const i=yu(s,e);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let s=0;s<n.length;s++){const i=n[s];typeof i=="function"?i():yu(t[s],null)}}}}var zo=w.forwardRef((t,e)=>{const{children:r,...n}=t,s=w.Children.toArray(r),i=s.find(Ik);if(i){const a=i.props.children,o=s.map(c=>c===i?w.Children.count(a)>1?w.Children.only(null):w.isValidElement(a)?a.props.children:null:c);return l.jsx(Wa,{...n,ref:e,children:w.isValidElement(a)?w.cloneElement(a,void 0,o):null})}return l.jsx(Wa,{...n,ref:e,children:r})});zo.displayName="Slot";var Wa=w.forwardRef((t,e)=>{const{children:r,...n}=t;if(w.isValidElement(r)){const s=Lk(r),i=Dk(n,r.props);return r.type!==w.Fragment&&(i.ref=e?Pk(e,s):s),w.cloneElement(r,i)}return w.Children.count(r)>1?w.Children.only(null):null});Wa.displayName="SlotClone";var Rk=({children:t})=>l.jsx(l.Fragment,{children:t});function Ik(t){return w.isValidElement(t)&&t.type===Rk}function Dk(t,e){const r={...e};for(const n in e){const s=t[n],i=e[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...o)=>{i(...o),s(...o)}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...t,...r}}function Lk(t){var n,s;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function wf(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(r=wf(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function _f(){for(var t,e,r=0,n="",s=arguments.length;r<s;r++)(t=arguments[r])&&(e=wf(t))&&(n&&(n+=" "),n+=e);return n}const vu=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,xu=_f,jf=(t,e)=>r=>{var n;if((e==null?void 0:e.variants)==null)return xu(t,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:s,defaultVariants:i}=e,a=Object.keys(s).map(u=>{const d=r==null?void 0:r[u],h=i==null?void 0:i[u];if(d===null)return null;const f=vu(d)||vu(h);return s[u][f]}),o=r&&Object.entries(r).reduce((u,d)=>{let[h,f]=d;return f===void 0||(u[h]=f),u},{}),c=e==null||(n=e.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:h,className:f,...m}=d;return Object.entries(m).every(p=>{let[y,b]=p;return Array.isArray(b)?b.includes({...i,...o}[y]):{...i,...o}[y]===b})?[...u,h,f]:u},[]);return xu(t,a,c,r==null?void 0:r.class,r==null?void 0:r.className)},Wo="-",Ok=t=>{const e=Fk(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:a=>{const o=a.split(Wo);return o[0]===""&&o.length!==1&&o.shift(),kf(o,e)||Mk(a)},getConflictingClassGroupIds:(a,o)=>{const c=r[a]||[];return o&&n[a]?[...c,...n[a]]:c}}},kf=(t,e)=>{var a;if(t.length===0)return e.classGroupId;const r=t[0],n=e.nextPart.get(r),s=n?kf(t.slice(1),n):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(Wo);return(a=e.validators.find(({validator:o})=>o(i)))==null?void 0:a.classGroupId},bu=/^\[(.+)\]$/,Mk=t=>{if(bu.test(t)){const e=bu.exec(t)[1],r=e==null?void 0:e.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},Fk=t=>{const{theme:e,classGroups:r}=t,n={nextPart:new Map,validators:[]};for(const s in r)Ha(r[s],n,s,e);return n},Ha=(t,e,r,n)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:wu(e,s);i.classGroupId=r;return}if(typeof s=="function"){if(Bk(s)){Ha(s(n),e,r,n);return}e.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([i,a])=>{Ha(a,wu(e,i),r,n)})})},wu=(t,e)=>{let r=t;return e.split(Wo).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},Bk=t=>t.isThemeGetter,$k=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,n=new Map;const s=(i,a)=>{r.set(i,a),e++,e>t&&(e=0,n=r,r=new Map)};return{get(i){let a=r.get(i);if(a!==void 0)return a;if((a=n.get(i))!==void 0)return s(i,a),a},set(i,a){r.has(i)?r.set(i,a):s(i,a)}}},Ga="!",qa=":",Vk=qa.length,Uk=t=>{const{prefix:e,experimentalParseClassName:r}=t;let n=s=>{const i=[];let a=0,o=0,c=0,u;for(let p=0;p<s.length;p++){let y=s[p];if(a===0&&o===0){if(y===qa){i.push(s.slice(c,p)),c=p+Vk;continue}if(y==="/"){u=p;continue}}y==="["?a++:y==="]"?a--:y==="("?o++:y===")"&&o--}const d=i.length===0?s:s.substring(c),h=zk(d),f=h!==d,m=u&&u>c?u-c:void 0;return{modifiers:i,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:m}};if(e){const s=e+qa,i=n;n=a=>a.startsWith(s)?i(a.substring(s.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:a,maybePostfixModifierPosition:void 0}}if(r){const s=n;n=i=>r({className:i,parseClassName:s})}return n},zk=t=>t.endsWith(Ga)?t.substring(0,t.length-1):t.startsWith(Ga)?t.substring(1):t,Wk=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map(n=>[n,!0]));return n=>{if(n.length<=1)return n;const s=[];let i=[];return n.forEach(a=>{a[0]==="["||e[a]?(s.push(...i.sort(),a),i=[]):i.push(a)}),s.push(...i.sort()),s}},Hk=t=>({cache:$k(t.cacheSize),parseClassName:Uk(t),sortModifiers:Wk(t),...Ok(t)}),Gk=/\s+/,qk=(t,e)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s,sortModifiers:i}=e,a=[],o=t.trim().split(Gk);let c="";for(let u=o.length-1;u>=0;u-=1){const d=o[u],{isExternal:h,modifiers:f,hasImportantModifier:m,baseClassName:p,maybePostfixModifierPosition:y}=r(d);if(h){c=d+(c.length>0?" "+c:c);continue}let b=!!y,g=n(b?p.substring(0,y):p);if(!g){if(!b){c=d+(c.length>0?" "+c:c);continue}if(g=n(p),!g){c=d+(c.length>0?" "+c:c);continue}b=!1}const v=i(f).join(":"),x=m?v+Ga:v,k=x+g;if(a.includes(k))continue;a.push(k);const S=s(g,b);for(let T=0;T<S.length;++T){const _=S[T];a.push(x+_)}c=d+(c.length>0?" "+c:c)}return c};function Kk(){let t=0,e,r,n="";for(;t<arguments.length;)(e=arguments[t++])&&(r=Sf(e))&&(n&&(n+=" "),n+=r);return n}const Sf=t=>{if(typeof t=="string")return t;let e,r="";for(let n=0;n<t.length;n++)t[n]&&(e=Sf(t[n]))&&(r&&(r+=" "),r+=e);return r};function Yk(t,...e){let r,n,s,i=a;function a(c){const u=e.reduce((d,h)=>h(d),t());return r=Hk(u),n=r.cache.get,s=r.cache.set,i=o,o(c)}function o(c){const u=n(c);if(u)return u;const d=qk(c,r);return s(c,d),d}return function(){return i(Kk.apply(null,arguments))}}const Oe=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},Nf=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,Ef=/^\((?:(\w[\w-]*):)?(.+)\)$/i,Jk=/^\d+\/\d+$/,Xk=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Zk=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Qk=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,e1=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,t1=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Mr=t=>Jk.test(t),he=t=>!!t&&!Number.isNaN(Number(t)),Ut=t=>!!t&&Number.isInteger(Number(t)),ra=t=>t.endsWith("%")&&he(t.slice(0,-1)),Dt=t=>Xk.test(t),r1=()=>!0,n1=t=>Zk.test(t)&&!Qk.test(t),Tf=()=>!1,s1=t=>e1.test(t),i1=t=>t1.test(t),a1=t=>!V(t)&&!U(t),o1=t=>on(t,Pf,Tf),V=t=>Nf.test(t),cr=t=>on(t,Rf,n1),na=t=>on(t,h1,he),_u=t=>on(t,Cf,Tf),l1=t=>on(t,Af,i1),$s=t=>on(t,If,s1),U=t=>Ef.test(t),jn=t=>ln(t,Rf),c1=t=>ln(t,f1),ju=t=>ln(t,Cf),u1=t=>ln(t,Pf),d1=t=>ln(t,Af),Vs=t=>ln(t,If,!0),on=(t,e,r)=>{const n=Nf.exec(t);return n?n[1]?e(n[1]):r(n[2]):!1},ln=(t,e,r=!1)=>{const n=Ef.exec(t);return n?n[1]?e(n[1]):r:!1},Cf=t=>t==="position"||t==="percentage",Af=t=>t==="image"||t==="url",Pf=t=>t==="length"||t==="size"||t==="bg-size",Rf=t=>t==="length",h1=t=>t==="number",f1=t=>t==="family-name",If=t=>t==="shadow",m1=()=>{const t=Oe("color"),e=Oe("font"),r=Oe("text"),n=Oe("font-weight"),s=Oe("tracking"),i=Oe("leading"),a=Oe("breakpoint"),o=Oe("container"),c=Oe("spacing"),u=Oe("radius"),d=Oe("shadow"),h=Oe("inset-shadow"),f=Oe("text-shadow"),m=Oe("drop-shadow"),p=Oe("blur"),y=Oe("perspective"),b=Oe("aspect"),g=Oe("ease"),v=Oe("animate"),x=()=>["auto","avoid","all","avoid-page","page","left","right","column"],k=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],S=()=>[...k(),U,V],T=()=>["auto","hidden","clip","visible","scroll"],_=()=>["auto","contain","none"],j=()=>[U,V,c],E=()=>[Mr,"full","auto",...j()],D=()=>[Ut,"none","subgrid",U,V],M=()=>["auto",{span:["full",Ut,U,V]},Ut,U,V],$=()=>[Ut,"auto",U,V],F=()=>["auto","min","max","fr",U,V],X=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],le=()=>["start","end","center","stretch","center-safe","end-safe"],re=()=>["auto",...j()],G=()=>[Mr,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...j()],P=()=>[t,U,V],ue=()=>[...k(),ju,_u,{position:[U,V]}],fe=()=>["no-repeat",{repeat:["","x","y","space","round"]}],q=()=>["auto","cover","contain",u1,o1,{size:[U,V]}],de=()=>[ra,jn,cr],ie=()=>["","none","full",u,U,V],se=()=>["",he,jn,cr],ge=()=>["solid","dashed","dotted","double"],ke=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Q=()=>[he,ra,ju,_u],be=()=>["","none",p,U,V],Le=()=>["none",he,U,V],ee=()=>["none",he,U,V],pe=()=>[he,U,V],O=()=>[Mr,"full",...j()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Dt],breakpoint:[Dt],color:[r1],container:[Dt],"drop-shadow":[Dt],ease:["in","out","in-out"],font:[a1],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Dt],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Dt],shadow:[Dt],spacing:["px",he],text:[Dt],"text-shadow":[Dt],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Mr,V,U,b]}],container:["container"],columns:[{columns:[he,V,U,o]}],"break-after":[{"break-after":x()}],"break-before":[{"break-before":x()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:S()}],overflow:[{overflow:T()}],"overflow-x":[{"overflow-x":T()}],"overflow-y":[{"overflow-y":T()}],overscroll:[{overscroll:_()}],"overscroll-x":[{"overscroll-x":_()}],"overscroll-y":[{"overscroll-y":_()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:E()}],"inset-x":[{"inset-x":E()}],"inset-y":[{"inset-y":E()}],start:[{start:E()}],end:[{end:E()}],top:[{top:E()}],right:[{right:E()}],bottom:[{bottom:E()}],left:[{left:E()}],visibility:["visible","invisible","collapse"],z:[{z:[Ut,"auto",U,V]}],basis:[{basis:[Mr,"full","auto",o,...j()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[he,Mr,"auto","initial","none",V]}],grow:[{grow:["",he,U,V]}],shrink:[{shrink:["",he,U,V]}],order:[{order:[Ut,"first","last","none",U,V]}],"grid-cols":[{"grid-cols":D()}],"col-start-end":[{col:M()}],"col-start":[{"col-start":$()}],"col-end":[{"col-end":$()}],"grid-rows":[{"grid-rows":D()}],"row-start-end":[{row:M()}],"row-start":[{"row-start":$()}],"row-end":[{"row-end":$()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":F()}],"auto-rows":[{"auto-rows":F()}],gap:[{gap:j()}],"gap-x":[{"gap-x":j()}],"gap-y":[{"gap-y":j()}],"justify-content":[{justify:[...X(),"normal"]}],"justify-items":[{"justify-items":[...le(),"normal"]}],"justify-self":[{"justify-self":["auto",...le()]}],"align-content":[{content:["normal",...X()]}],"align-items":[{items:[...le(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...le(),{baseline:["","last"]}]}],"place-content":[{"place-content":X()}],"place-items":[{"place-items":[...le(),"baseline"]}],"place-self":[{"place-self":["auto",...le()]}],p:[{p:j()}],px:[{px:j()}],py:[{py:j()}],ps:[{ps:j()}],pe:[{pe:j()}],pt:[{pt:j()}],pr:[{pr:j()}],pb:[{pb:j()}],pl:[{pl:j()}],m:[{m:re()}],mx:[{mx:re()}],my:[{my:re()}],ms:[{ms:re()}],me:[{me:re()}],mt:[{mt:re()}],mr:[{mr:re()}],mb:[{mb:re()}],ml:[{ml:re()}],"space-x":[{"space-x":j()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":j()}],"space-y-reverse":["space-y-reverse"],size:[{size:G()}],w:[{w:[o,"screen",...G()]}],"min-w":[{"min-w":[o,"screen","none",...G()]}],"max-w":[{"max-w":[o,"screen","none","prose",{screen:[a]},...G()]}],h:[{h:["screen",...G()]}],"min-h":[{"min-h":["screen","none",...G()]}],"max-h":[{"max-h":["screen",...G()]}],"font-size":[{text:["base",r,jn,cr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,U,na]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",ra,V]}],"font-family":[{font:[c1,V,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,U,V]}],"line-clamp":[{"line-clamp":[he,"none",U,na]}],leading:[{leading:[i,...j()]}],"list-image":[{"list-image":["none",U,V]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",U,V]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:P()}],"text-color":[{text:P()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ge(),"wavy"]}],"text-decoration-thickness":[{decoration:[he,"from-font","auto",U,cr]}],"text-decoration-color":[{decoration:P()}],"underline-offset":[{"underline-offset":[he,"auto",U,V]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:j()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",U,V]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",U,V]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:ue()}],"bg-repeat":[{bg:fe()}],"bg-size":[{bg:q()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Ut,U,V],radial:["",U,V],conic:[Ut,U,V]},d1,l1]}],"bg-color":[{bg:P()}],"gradient-from-pos":[{from:de()}],"gradient-via-pos":[{via:de()}],"gradient-to-pos":[{to:de()}],"gradient-from":[{from:P()}],"gradient-via":[{via:P()}],"gradient-to":[{to:P()}],rounded:[{rounded:ie()}],"rounded-s":[{"rounded-s":ie()}],"rounded-e":[{"rounded-e":ie()}],"rounded-t":[{"rounded-t":ie()}],"rounded-r":[{"rounded-r":ie()}],"rounded-b":[{"rounded-b":ie()}],"rounded-l":[{"rounded-l":ie()}],"rounded-ss":[{"rounded-ss":ie()}],"rounded-se":[{"rounded-se":ie()}],"rounded-ee":[{"rounded-ee":ie()}],"rounded-es":[{"rounded-es":ie()}],"rounded-tl":[{"rounded-tl":ie()}],"rounded-tr":[{"rounded-tr":ie()}],"rounded-br":[{"rounded-br":ie()}],"rounded-bl":[{"rounded-bl":ie()}],"border-w":[{border:se()}],"border-w-x":[{"border-x":se()}],"border-w-y":[{"border-y":se()}],"border-w-s":[{"border-s":se()}],"border-w-e":[{"border-e":se()}],"border-w-t":[{"border-t":se()}],"border-w-r":[{"border-r":se()}],"border-w-b":[{"border-b":se()}],"border-w-l":[{"border-l":se()}],"divide-x":[{"divide-x":se()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":se()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...ge(),"hidden","none"]}],"divide-style":[{divide:[...ge(),"hidden","none"]}],"border-color":[{border:P()}],"border-color-x":[{"border-x":P()}],"border-color-y":[{"border-y":P()}],"border-color-s":[{"border-s":P()}],"border-color-e":[{"border-e":P()}],"border-color-t":[{"border-t":P()}],"border-color-r":[{"border-r":P()}],"border-color-b":[{"border-b":P()}],"border-color-l":[{"border-l":P()}],"divide-color":[{divide:P()}],"outline-style":[{outline:[...ge(),"none","hidden"]}],"outline-offset":[{"outline-offset":[he,U,V]}],"outline-w":[{outline:["",he,jn,cr]}],"outline-color":[{outline:P()}],shadow:[{shadow:["","none",d,Vs,$s]}],"shadow-color":[{shadow:P()}],"inset-shadow":[{"inset-shadow":["none",h,Vs,$s]}],"inset-shadow-color":[{"inset-shadow":P()}],"ring-w":[{ring:se()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:P()}],"ring-offset-w":[{"ring-offset":[he,cr]}],"ring-offset-color":[{"ring-offset":P()}],"inset-ring-w":[{"inset-ring":se()}],"inset-ring-color":[{"inset-ring":P()}],"text-shadow":[{"text-shadow":["none",f,Vs,$s]}],"text-shadow-color":[{"text-shadow":P()}],opacity:[{opacity:[he,U,V]}],"mix-blend":[{"mix-blend":[...ke(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ke()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[he]}],"mask-image-linear-from-pos":[{"mask-linear-from":Q()}],"mask-image-linear-to-pos":[{"mask-linear-to":Q()}],"mask-image-linear-from-color":[{"mask-linear-from":P()}],"mask-image-linear-to-color":[{"mask-linear-to":P()}],"mask-image-t-from-pos":[{"mask-t-from":Q()}],"mask-image-t-to-pos":[{"mask-t-to":Q()}],"mask-image-t-from-color":[{"mask-t-from":P()}],"mask-image-t-to-color":[{"mask-t-to":P()}],"mask-image-r-from-pos":[{"mask-r-from":Q()}],"mask-image-r-to-pos":[{"mask-r-to":Q()}],"mask-image-r-from-color":[{"mask-r-from":P()}],"mask-image-r-to-color":[{"mask-r-to":P()}],"mask-image-b-from-pos":[{"mask-b-from":Q()}],"mask-image-b-to-pos":[{"mask-b-to":Q()}],"mask-image-b-from-color":[{"mask-b-from":P()}],"mask-image-b-to-color":[{"mask-b-to":P()}],"mask-image-l-from-pos":[{"mask-l-from":Q()}],"mask-image-l-to-pos":[{"mask-l-to":Q()}],"mask-image-l-from-color":[{"mask-l-from":P()}],"mask-image-l-to-color":[{"mask-l-to":P()}],"mask-image-x-from-pos":[{"mask-x-from":Q()}],"mask-image-x-to-pos":[{"mask-x-to":Q()}],"mask-image-x-from-color":[{"mask-x-from":P()}],"mask-image-x-to-color":[{"mask-x-to":P()}],"mask-image-y-from-pos":[{"mask-y-from":Q()}],"mask-image-y-to-pos":[{"mask-y-to":Q()}],"mask-image-y-from-color":[{"mask-y-from":P()}],"mask-image-y-to-color":[{"mask-y-to":P()}],"mask-image-radial":[{"mask-radial":[U,V]}],"mask-image-radial-from-pos":[{"mask-radial-from":Q()}],"mask-image-radial-to-pos":[{"mask-radial-to":Q()}],"mask-image-radial-from-color":[{"mask-radial-from":P()}],"mask-image-radial-to-color":[{"mask-radial-to":P()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":k()}],"mask-image-conic-pos":[{"mask-conic":[he]}],"mask-image-conic-from-pos":[{"mask-conic-from":Q()}],"mask-image-conic-to-pos":[{"mask-conic-to":Q()}],"mask-image-conic-from-color":[{"mask-conic-from":P()}],"mask-image-conic-to-color":[{"mask-conic-to":P()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:ue()}],"mask-repeat":[{mask:fe()}],"mask-size":[{mask:q()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",U,V]}],filter:[{filter:["","none",U,V]}],blur:[{blur:be()}],brightness:[{brightness:[he,U,V]}],contrast:[{contrast:[he,U,V]}],"drop-shadow":[{"drop-shadow":["","none",m,Vs,$s]}],"drop-shadow-color":[{"drop-shadow":P()}],grayscale:[{grayscale:["",he,U,V]}],"hue-rotate":[{"hue-rotate":[he,U,V]}],invert:[{invert:["",he,U,V]}],saturate:[{saturate:[he,U,V]}],sepia:[{sepia:["",he,U,V]}],"backdrop-filter":[{"backdrop-filter":["","none",U,V]}],"backdrop-blur":[{"backdrop-blur":be()}],"backdrop-brightness":[{"backdrop-brightness":[he,U,V]}],"backdrop-contrast":[{"backdrop-contrast":[he,U,V]}],"backdrop-grayscale":[{"backdrop-grayscale":["",he,U,V]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[he,U,V]}],"backdrop-invert":[{"backdrop-invert":["",he,U,V]}],"backdrop-opacity":[{"backdrop-opacity":[he,U,V]}],"backdrop-saturate":[{"backdrop-saturate":[he,U,V]}],"backdrop-sepia":[{"backdrop-sepia":["",he,U,V]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":j()}],"border-spacing-x":[{"border-spacing-x":j()}],"border-spacing-y":[{"border-spacing-y":j()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",U,V]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[he,"initial",U,V]}],ease:[{ease:["linear","initial",g,U,V]}],delay:[{delay:[he,U,V]}],animate:[{animate:["none",v,U,V]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[y,U,V]}],"perspective-origin":[{"perspective-origin":S()}],rotate:[{rotate:Le()}],"rotate-x":[{"rotate-x":Le()}],"rotate-y":[{"rotate-y":Le()}],"rotate-z":[{"rotate-z":Le()}],scale:[{scale:ee()}],"scale-x":[{"scale-x":ee()}],"scale-y":[{"scale-y":ee()}],"scale-z":[{"scale-z":ee()}],"scale-3d":["scale-3d"],skew:[{skew:pe()}],"skew-x":[{"skew-x":pe()}],"skew-y":[{"skew-y":pe()}],transform:[{transform:[U,V,"","none","gpu","cpu"]}],"transform-origin":[{origin:S()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:O()}],"translate-x":[{"translate-x":O()}],"translate-y":[{"translate-y":O()}],"translate-z":[{"translate-z":O()}],"translate-none":["translate-none"],accent:[{accent:P()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:P()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",U,V]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":j()}],"scroll-mx":[{"scroll-mx":j()}],"scroll-my":[{"scroll-my":j()}],"scroll-ms":[{"scroll-ms":j()}],"scroll-me":[{"scroll-me":j()}],"scroll-mt":[{"scroll-mt":j()}],"scroll-mr":[{"scroll-mr":j()}],"scroll-mb":[{"scroll-mb":j()}],"scroll-ml":[{"scroll-ml":j()}],"scroll-p":[{"scroll-p":j()}],"scroll-px":[{"scroll-px":j()}],"scroll-py":[{"scroll-py":j()}],"scroll-ps":[{"scroll-ps":j()}],"scroll-pe":[{"scroll-pe":j()}],"scroll-pt":[{"scroll-pt":j()}],"scroll-pr":[{"scroll-pr":j()}],"scroll-pb":[{"scroll-pb":j()}],"scroll-pl":[{"scroll-pl":j()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",U,V]}],fill:[{fill:["none",...P()]}],"stroke-w":[{stroke:[he,jn,cr,na]}],stroke:[{stroke:["none",...P()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},p1=Yk(m1);function jr(...t){return p1(_f(t))}const g1=jf("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function ku({className:t,variant:e,asChild:r=!1,...n}){const s=r?zo:"span";return l.jsx(s,{"data-slot":"badge",className:jr(g1({variant:e}),t),...n})}function y1(t){return Object.prototype.toString.call(t)==="[object Object]"}function Su(t){return y1(t)||Array.isArray(t)}function v1(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function Ho(t,e){const r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;const s=JSON.stringify(Object.keys(t.breakpoints||{})),i=JSON.stringify(Object.keys(e.breakpoints||{}));return s!==i?!1:r.every(a=>{const o=t[a],c=e[a];return typeof o=="function"?`${o}`==`${c}`:!Su(o)||!Su(c)?o===c:Ho(o,c)})}function Nu(t){return t.concat().sort((e,r)=>e.name>r.name?1:-1).map(e=>e.options)}function x1(t,e){if(t.length!==e.length)return!1;const r=Nu(t),n=Nu(e);return r.every((s,i)=>{const a=n[i];return Ho(s,a)})}function Go(t){return typeof t=="number"}function Ka(t){return typeof t=="string"}function wi(t){return typeof t=="boolean"}function Eu(t){return Object.prototype.toString.call(t)==="[object Object]"}function Ee(t){return Math.abs(t)}function qo(t){return Math.sign(t)}function On(t,e){return Ee(t-e)}function b1(t,e){if(t===0||e===0||Ee(t)<=Ee(e))return 0;const r=On(Ee(t),Ee(e));return Ee(r/t)}function w1(t){return Math.round(t*100)/100}function Qn(t){return es(t).map(Number)}function bt(t){return t[ms(t)]}function ms(t){return Math.max(0,t.length-1)}function Ko(t,e){return e===ms(t)}function Tu(t,e=0){return Array.from(Array(t),(r,n)=>e+n)}function es(t){return Object.keys(t)}function Df(t,e){return[t,e].reduce((r,n)=>(es(n).forEach(s=>{const i=r[s],a=n[s],o=Eu(i)&&Eu(a);r[s]=o?Df(i,a):a}),r),{})}function Ya(t,e){return typeof e.MouseEvent<"u"&&t instanceof e.MouseEvent}function _1(t,e){const r={start:n,center:s,end:i};function n(){return 0}function s(c){return i(c)/2}function i(c){return e-c}function a(c,u){return Ka(t)?r[t](c):t(e,c,u)}return{measure:a}}function ts(){let t=[];function e(s,i,a,o={passive:!0}){let c;if("addEventListener"in s)s.addEventListener(i,a,o),c=()=>s.removeEventListener(i,a,o);else{const u=s;u.addListener(a),c=()=>u.removeListener(a)}return t.push(c),n}function r(){t=t.filter(s=>s())}const n={add:e,clear:r};return n}function j1(t,e,r,n){const s=ts(),i=1e3/60;let a=null,o=0,c=0;function u(){s.add(t,"visibilitychange",()=>{t.hidden&&p()})}function d(){m(),s.clear()}function h(b){if(!c)return;a||(a=b,r(),r());const g=b-a;for(a=b,o+=g;o>=i;)r(),o-=i;const v=o/i;n(v),c&&(c=e.requestAnimationFrame(h))}function f(){c||(c=e.requestAnimationFrame(h))}function m(){e.cancelAnimationFrame(c),a=null,o=0,c=0}function p(){a=null,o=0}return{init:u,destroy:d,start:f,stop:m,update:r,render:n}}function k1(t,e){const r=e==="rtl",n=t==="y",s=n?"y":"x",i=n?"x":"y",a=!n&&r?-1:1,o=d(),c=h();function u(p){const{height:y,width:b}=p;return n?y:b}function d(){return n?"top":r?"right":"left"}function h(){return n?"bottom":r?"left":"right"}function f(p){return p*a}return{scroll:s,cross:i,startEdge:o,endEdge:c,measureSize:u,direction:f}}function wr(t=0,e=0){const r=Ee(t-e);function n(u){return u<t}function s(u){return u>e}function i(u){return n(u)||s(u)}function a(u){return i(u)?n(u)?t:e:u}function o(u){return r?u-r*Math.ceil((u-e)/r):u}return{length:r,max:e,min:t,constrain:a,reachedAny:i,reachedMax:s,reachedMin:n,removeOffset:o}}function Lf(t,e,r){const{constrain:n}=wr(0,t),s=t+1;let i=a(e);function a(f){return r?Ee((s+f)%s):n(f)}function o(){return i}function c(f){return i=a(f),h}function u(f){return d().set(o()+f)}function d(){return Lf(t,o(),r)}const h={get:o,set:c,add:u,clone:d};return h}function S1(t,e,r,n,s,i,a,o,c,u,d,h,f,m,p,y,b,g,v){const{cross:x,direction:k}=t,S=["INPUT","SELECT","TEXTAREA"],T={passive:!1},_=ts(),j=ts(),E=wr(50,225).constrain(m.measure(20)),D={mouse:300,touch:400},M={mouse:500,touch:600},$=p?43:25;let F=!1,X=0,le=0,re=!1,G=!1,P=!1,ue=!1;function fe(O){if(!v)return;function ve(Ve){(wi(v)||v(O,Ve))&&ke(Ve)}const Se=e;_.add(Se,"dragstart",Ve=>Ve.preventDefault(),T).add(Se,"touchmove",()=>{},T).add(Se,"touchend",()=>{}).add(Se,"touchstart",ve).add(Se,"mousedown",ve).add(Se,"touchcancel",be).add(Se,"contextmenu",be).add(Se,"click",Le,!0)}function q(){_.clear(),j.clear()}function de(){const O=ue?r:e;j.add(O,"touchmove",Q,T).add(O,"touchend",be).add(O,"mousemove",Q,T).add(O,"mouseup",be)}function ie(O){const ve=O.nodeName||"";return S.includes(ve)}function se(){return(p?M:D)[ue?"mouse":"touch"]}function ge(O,ve){const Se=h.add(qo(O)*-1),Ve=d.byDistance(O,!p).distance;return p||Ee(O)<E?Ve:b&&ve?Ve*.5:d.byIndex(Se.get(),0).distance}function ke(O){const ve=Ya(O,n);ue=ve,P=p&&ve&&!O.buttons&&F,F=On(s.get(),a.get())>=2,!(ve&&O.button!==0)&&(ie(O.target)||(re=!0,i.pointerDown(O),u.useFriction(0).useDuration(0),s.set(a),de(),X=i.readPoint(O),le=i.readPoint(O,x),f.emit("pointerDown")))}function Q(O){if(!Ya(O,n)&&O.touches.length>=2)return be(O);const Se=i.readPoint(O),Ve=i.readPoint(O,x),Be=On(Se,X),ut=On(Ve,le);if(!G&&!ue&&(!O.cancelable||(G=Be>ut,!G)))return be(O);const Pt=i.pointerMove(O);Be>y&&(P=!0),u.useFriction(.3).useDuration(.75),o.start(),s.add(k(Pt)),O.preventDefault()}function be(O){const Se=d.byDistance(0,!1).index!==h.get(),Ve=i.pointerUp(O)*se(),Be=ge(k(Ve),Se),ut=b1(Ve,Be),Pt=$-10*ut,dt=g+ut/50;G=!1,re=!1,j.clear(),u.useDuration(Pt).useFriction(dt),c.distance(Be,!p),ue=!1,f.emit("pointerUp")}function Le(O){P&&(O.stopPropagation(),O.preventDefault(),P=!1)}function ee(){return re}return{init:fe,destroy:q,pointerDown:ee}}function N1(t,e){let n,s;function i(h){return h.timeStamp}function a(h,f){const p=`client${(f||t.scroll)==="x"?"X":"Y"}`;return(Ya(h,e)?h:h.touches[0])[p]}function o(h){return n=h,s=h,a(h)}function c(h){const f=a(h)-a(s),m=i(h)-i(n)>170;return s=h,m&&(n=h),f}function u(h){if(!n||!s)return 0;const f=a(s)-a(n),m=i(h)-i(n),p=i(h)-i(s)>170,y=f/m;return m&&!p&&Ee(y)>.1?y:0}return{pointerDown:o,pointerMove:c,pointerUp:u,readPoint:a}}function E1(){function t(r){const{offsetTop:n,offsetLeft:s,offsetWidth:i,offsetHeight:a}=r;return{top:n,right:s+i,bottom:n+a,left:s,width:i,height:a}}return{measure:t}}function T1(t){function e(n){return t*(n/100)}return{measure:e}}function C1(t,e,r,n,s,i,a){const o=[t].concat(n);let c,u,d=[],h=!1;function f(b){return s.measureSize(a.measure(b))}function m(b){if(!i)return;u=f(t),d=n.map(f);function g(v){for(const x of v){if(h)return;const k=x.target===t,S=n.indexOf(x.target),T=k?u:d[S],_=f(k?t:n[S]);if(Ee(_-T)>=.5){b.reInit(),e.emit("resize");break}}}c=new ResizeObserver(v=>{(wi(i)||i(b,v))&&g(v)}),r.requestAnimationFrame(()=>{o.forEach(v=>c.observe(v))})}function p(){h=!0,c&&c.disconnect()}return{init:m,destroy:p}}function A1(t,e,r,n,s,i){let a=0,o=0,c=s,u=i,d=t.get(),h=0;function f(){const T=n.get()-t.get(),_=!c;let j=0;return _?(a=0,r.set(n),t.set(n),j=T):(r.set(t),a+=T/c,a*=u,d+=a,t.add(a),j=d-h),o=qo(j),h=d,S}function m(){const T=n.get()-e.get();return Ee(T)<.001}function p(){return c}function y(){return o}function b(){return a}function g(){return x(s)}function v(){return k(i)}function x(T){return c=T,S}function k(T){return u=T,S}const S={direction:y,duration:p,velocity:b,seek:f,settled:m,useBaseFriction:v,useBaseDuration:g,useFriction:k,useDuration:x};return S}function P1(t,e,r,n,s){const i=s.measure(10),a=s.measure(50),o=wr(.1,.99);let c=!1;function u(){return!(c||!t.reachedAny(r.get())||!t.reachedAny(e.get()))}function d(m){if(!u())return;const p=t.reachedMin(e.get())?"min":"max",y=Ee(t[p]-e.get()),b=r.get()-e.get(),g=o.constrain(y/a);r.subtract(b*g),!m&&Ee(b)<i&&(r.set(t.constrain(r.get())),n.useDuration(25).useBaseFriction())}function h(m){c=!m}return{shouldConstrain:u,constrain:d,toggleActive:h}}function R1(t,e,r,n,s){const i=wr(-e+t,0),a=h(),o=d(),c=f();function u(p,y){return On(p,y)<=1}function d(){const p=a[0],y=bt(a),b=a.lastIndexOf(p),g=a.indexOf(y)+1;return wr(b,g)}function h(){return r.map((p,y)=>{const{min:b,max:g}=i,v=i.constrain(p),x=!y,k=Ko(r,y);return x?g:k||u(b,v)?b:u(g,v)?g:v}).map(p=>parseFloat(p.toFixed(3)))}function f(){if(e<=t+s)return[i.max];if(n==="keepSnaps")return a;const{min:p,max:y}=o;return a.slice(p,y)}return{snapsContained:c,scrollContainLimit:o}}function I1(t,e,r){const n=e[0],s=r?n-t:bt(e);return{limit:wr(s,n)}}function D1(t,e,r,n){const i=e.min+.1,a=e.max+.1,{reachedMin:o,reachedMax:c}=wr(i,a);function u(f){return f===1?c(r.get()):f===-1?o(r.get()):!1}function d(f){if(!u(f))return;const m=t*(f*-1);n.forEach(p=>p.add(m))}return{loop:d}}function L1(t){const{max:e,length:r}=t;function n(i){const a=i-e;return r?a/-r:0}return{get:n}}function O1(t,e,r,n,s){const{startEdge:i,endEdge:a}=t,{groupSlides:o}=s,c=h().map(e.measure),u=f(),d=m();function h(){return o(n).map(y=>bt(y)[a]-y[0][i]).map(Ee)}function f(){return n.map(y=>r[i]-y[i]).map(y=>-Ee(y))}function m(){return o(u).map(y=>y[0]).map((y,b)=>y+c[b])}return{snaps:u,snapsAligned:d}}function M1(t,e,r,n,s,i){const{groupSlides:a}=s,{min:o,max:c}=n,u=d();function d(){const f=a(i),m=!t||e==="keepSnaps";return r.length===1?[i]:m?f:f.slice(o,c).map((p,y,b)=>{const g=!y,v=Ko(b,y);if(g){const x=bt(b[0])+1;return Tu(x)}if(v){const x=ms(i)-bt(b)[0]+1;return Tu(x,bt(b)[0])}return p})}return{slideRegistry:u}}function F1(t,e,r,n,s){const{reachedAny:i,removeOffset:a,constrain:o}=n;function c(p){return p.concat().sort((y,b)=>Ee(y)-Ee(b))[0]}function u(p){const y=t?a(p):o(p),b=e.map((v,x)=>({diff:d(v-y,0),index:x})).sort((v,x)=>Ee(v.diff)-Ee(x.diff)),{index:g}=b[0];return{index:g,distance:y}}function d(p,y){const b=[p,p+r,p-r];if(!t)return p;if(!y)return c(b);const g=b.filter(v=>qo(v)===y);return g.length?c(g):bt(b)-r}function h(p,y){const b=e[p]-s.get(),g=d(b,y);return{index:p,distance:g}}function f(p,y){const b=s.get()+p,{index:g,distance:v}=u(b),x=!t&&i(b);if(!y||x)return{index:g,distance:p};const k=e[g]-v,S=p+d(k,0);return{index:g,distance:S}}return{byDistance:f,byIndex:h,shortcut:d}}function B1(t,e,r,n,s,i,a){function o(h){const f=h.distance,m=h.index!==e.get();i.add(f),f&&(n.duration()?t.start():(t.update(),t.render(1),t.update())),m&&(r.set(e.get()),e.set(h.index),a.emit("select"))}function c(h,f){const m=s.byDistance(h,f);o(m)}function u(h,f){const m=e.clone().set(h),p=s.byIndex(m.get(),f);o(p)}return{distance:c,index:u}}function $1(t,e,r,n,s,i,a,o){const c={passive:!0,capture:!0};let u=0;function d(m){if(!o)return;function p(y){if(new Date().getTime()-u>10)return;a.emit("slideFocusStart"),t.scrollLeft=0;const v=r.findIndex(x=>x.includes(y));Go(v)&&(s.useDuration(0),n.index(v,0),a.emit("slideFocus"))}i.add(document,"keydown",h,!1),e.forEach((y,b)=>{i.add(y,"focus",g=>{(wi(o)||o(m,g))&&p(b)},c)})}function h(m){m.code==="Tab"&&(u=new Date().getTime())}return{init:d}}function Tn(t){let e=t;function r(){return e}function n(c){e=a(c)}function s(c){e+=a(c)}function i(c){e-=a(c)}function a(c){return Go(c)?c:c.get()}return{get:r,set:n,add:s,subtract:i}}function Of(t,e){const r=t.scroll==="x"?a:o,n=e.style;let s=null,i=!1;function a(f){return`translate3d(${f}px,0px,0px)`}function o(f){return`translate3d(0px,${f}px,0px)`}function c(f){if(i)return;const m=w1(t.direction(f));m!==s&&(n.transform=r(m),s=m)}function u(f){i=!f}function d(){i||(n.transform="",e.getAttribute("style")||e.removeAttribute("style"))}return{clear:d,to:c,toggleActive:u}}function V1(t,e,r,n,s,i,a,o,c){const d=Qn(s),h=Qn(s).reverse(),f=g().concat(v());function m(_,j){return _.reduce((E,D)=>E-s[D],j)}function p(_,j){return _.reduce((E,D)=>m(E,j)>0?E.concat([D]):E,[])}function y(_){return i.map((j,E)=>({start:j-n[E]+.5+_,end:j+e-.5+_}))}function b(_,j,E){const D=y(j);return _.map(M=>{const $=E?0:-r,F=E?r:0,X=E?"end":"start",le=D[M][X];return{index:M,loopPoint:le,slideLocation:Tn(-1),translate:Of(t,c[M]),target:()=>o.get()>le?$:F}})}function g(){const _=a[0],j=p(h,_);return b(j,r,!1)}function v(){const _=e-a[0]-1,j=p(d,_);return b(j,-r,!0)}function x(){return f.every(({index:_})=>{const j=d.filter(E=>E!==_);return m(j,e)<=.1})}function k(){f.forEach(_=>{const{target:j,translate:E,slideLocation:D}=_,M=j();M!==D.get()&&(E.to(M),D.set(M))})}function S(){f.forEach(_=>_.translate.clear())}return{canLoop:x,clear:S,loop:k,loopPoints:f}}function U1(t,e,r){let n,s=!1;function i(c){if(!r)return;function u(d){for(const h of d)if(h.type==="childList"){c.reInit(),e.emit("slidesChanged");break}}n=new MutationObserver(d=>{s||(wi(r)||r(c,d))&&u(d)}),n.observe(t,{childList:!0})}function a(){n&&n.disconnect(),s=!0}return{init:i,destroy:a}}function z1(t,e,r,n){const s={};let i=null,a=null,o,c=!1;function u(){o=new IntersectionObserver(p=>{c||(p.forEach(y=>{const b=e.indexOf(y.target);s[b]=y}),i=null,a=null,r.emit("slidesInView"))},{root:t.parentElement,threshold:n}),e.forEach(p=>o.observe(p))}function d(){o&&o.disconnect(),c=!0}function h(p){return es(s).reduce((y,b)=>{const g=parseInt(b),{isIntersecting:v}=s[g];return(p&&v||!p&&!v)&&y.push(g),y},[])}function f(p=!0){if(p&&i)return i;if(!p&&a)return a;const y=h(p);return p&&(i=y),p||(a=y),y}return{init:u,destroy:d,get:f}}function W1(t,e,r,n,s,i){const{measureSize:a,startEdge:o,endEdge:c}=t,u=r[0]&&s,d=p(),h=y(),f=r.map(a),m=b();function p(){if(!u)return 0;const v=r[0];return Ee(e[o]-v[o])}function y(){if(!u)return 0;const v=i.getComputedStyle(bt(n));return parseFloat(v.getPropertyValue(`margin-${c}`))}function b(){return r.map((v,x,k)=>{const S=!x,T=Ko(k,x);return S?f[x]+d:T?f[x]+h:k[x+1][o]-v[o]}).map(Ee)}return{slideSizes:f,slideSizesWithGaps:m,startGap:d,endGap:h}}function H1(t,e,r,n,s,i,a,o,c){const{startEdge:u,endEdge:d,direction:h}=t,f=Go(r);function m(g,v){return Qn(g).filter(x=>x%v===0).map(x=>g.slice(x,x+v))}function p(g){return g.length?Qn(g).reduce((v,x,k)=>{const S=bt(v)||0,T=S===0,_=x===ms(g),j=s[u]-i[S][u],E=s[u]-i[x][d],D=!n&&T?h(a):0,M=!n&&_?h(o):0,$=Ee(E-M-(j+D));return k&&$>e+c&&v.push(x),_&&v.push(g.length),v},[]).map((v,x,k)=>{const S=Math.max(k[x-1]||0);return g.slice(S,v)}):[]}function y(g){return f?m(g,r):p(g)}return{groupSlides:y}}function G1(t,e,r,n,s,i,a){const{align:o,axis:c,direction:u,startIndex:d,loop:h,duration:f,dragFree:m,dragThreshold:p,inViewThreshold:y,slidesToScroll:b,skipSnaps:g,containScroll:v,watchResize:x,watchSlides:k,watchDrag:S,watchFocus:T}=i,_=2,j=E1(),E=j.measure(e),D=r.map(j.measure),M=k1(c,u),$=M.measureSize(E),F=T1($),X=_1(o,$),le=!h&&!!v,re=h||!!v,{slideSizes:G,slideSizesWithGaps:P,startGap:ue,endGap:fe}=W1(M,E,D,r,re,s),q=H1(M,$,b,h,E,D,ue,fe,_),{snaps:de,snapsAligned:ie}=O1(M,X,E,D,q),se=-bt(de)+bt(P),{snapsContained:ge,scrollContainLimit:ke}=R1($,se,ie,v,_),Q=le?ge:ie,{limit:be}=I1(se,Q,h),Le=Lf(ms(Q),d,h),ee=Le.clone(),pe=Qn(r),O=({dragHandler:It,scrollBody:dn,scrollBounds:rr,options:{loop:Sr}})=>{Sr||rr.constrain(It.pointerDown()),dn.seek()},ve=({scrollBody:It,translate:dn,location:rr,offsetLocation:Sr,previousLocation:ft,scrollLooper:gs,slideLooper:ys,dragHandler:vs,animation:ji,eventHandler:hn,scrollBounds:Nr,options:{loop:fn}},Er)=>{const xs=It.settled(),bs=!Nr.shouldConstrain(),ws=fn?xs:xs&&bs,mn=ws&&!vs.pointerDown();mn&&ji.stop();const Tr=rr.get()*Er+ft.get()*(1-Er);Sr.set(Tr),fn&&(gs.loop(It.direction()),ys.loop()),dn.to(Sr.get()),mn&&hn.emit("settle"),ws||hn.emit("scroll")},Se=j1(n,s,()=>O(Ze),It=>ve(Ze,It)),Ve=.68,Be=Q[Le.get()],ut=Tn(Be),Pt=Tn(Be),dt=Tn(Be),Rt=Tn(Be),tr=A1(ut,dt,Pt,Rt,f,Ve),cn=F1(h,Q,se,be,Rt),un=B1(Se,Le,ee,tr,cn,Rt,a),_t=L1(be),$t=ts(),ps=z1(e,r,a,y),{slideRegistry:kr}=M1(le,v,Q,ke,q,pe),ht=$1(t,r,kr,un,tr,$t,a,T),Ze={ownerDocument:n,ownerWindow:s,eventHandler:a,containerRect:E,slideRects:D,animation:Se,axis:M,dragHandler:S1(M,t,n,s,Rt,N1(M,s),ut,Se,un,tr,cn,Le,a,F,m,p,g,Ve,S),eventStore:$t,percentOfView:F,index:Le,indexPrevious:ee,limit:be,location:ut,offsetLocation:dt,previousLocation:Pt,options:i,resizeHandler:C1(e,a,s,r,M,x,j),scrollBody:tr,scrollBounds:P1(be,dt,Rt,tr,F),scrollLooper:D1(se,be,dt,[ut,dt,Pt,Rt]),scrollProgress:_t,scrollSnapList:Q.map(_t.get),scrollSnaps:Q,scrollTarget:cn,scrollTo:un,slideLooper:V1(M,$,se,G,P,de,Q,dt,r),slideFocus:ht,slidesHandler:U1(e,a,k),slidesInView:ps,slideIndexes:pe,slideRegistry:kr,slidesToScroll:q,target:Rt,translate:Of(M,e)};return Ze}function q1(){let t={},e;function r(u){e=u}function n(u){return t[u]||[]}function s(u){return n(u).forEach(d=>d(e,u)),c}function i(u,d){return t[u]=n(u).concat([d]),c}function a(u,d){return t[u]=n(u).filter(h=>h!==d),c}function o(){t={}}const c={init:r,emit:s,off:a,on:i,clear:o};return c}const K1={align:"center",axis:"x",container:null,slides:null,containScroll:"trimSnaps",direction:"ltr",slidesToScroll:1,inViewThreshold:0,breakpoints:{},dragFree:!1,dragThreshold:10,loop:!1,skipSnaps:!1,duration:25,startIndex:0,active:!0,watchDrag:!0,watchResize:!0,watchSlides:!0,watchFocus:!0};function Y1(t){function e(i,a){return Df(i,a||{})}function r(i){const a=i.breakpoints||{},o=es(a).filter(c=>t.matchMedia(c).matches).map(c=>a[c]).reduce((c,u)=>e(c,u),{});return e(i,o)}function n(i){return i.map(a=>es(a.breakpoints||{})).reduce((a,o)=>a.concat(o),[]).map(t.matchMedia)}return{mergeOptions:e,optionsAtMedia:r,optionsMediaQueries:n}}function J1(t){let e=[];function r(i,a){return e=a.filter(({options:o})=>t.optionsAtMedia(o).active!==!1),e.forEach(o=>o.init(i,t)),a.reduce((o,c)=>Object.assign(o,{[c.name]:c}),{})}function n(){e=e.filter(i=>i.destroy())}return{init:r,destroy:n}}function di(t,e,r){const n=t.ownerDocument,s=n.defaultView,i=Y1(s),a=J1(i),o=ts(),c=q1(),{mergeOptions:u,optionsAtMedia:d,optionsMediaQueries:h}=i,{on:f,off:m,emit:p}=c,y=M;let b=!1,g,v=u(K1,di.globalOptions),x=u(v),k=[],S,T,_;function j(){const{container:pe,slides:O}=x;T=(Ka(pe)?t.querySelector(pe):pe)||t.children[0];const Se=Ka(O)?T.querySelectorAll(O):O;_=[].slice.call(Se||T.children)}function E(pe){const O=G1(t,T,_,n,s,pe,c);if(pe.loop&&!O.slideLooper.canLoop()){const ve=Object.assign({},pe,{loop:!1});return E(ve)}return O}function D(pe,O){b||(v=u(v,pe),x=d(v),k=O||k,j(),g=E(x),h([v,...k.map(({options:ve})=>ve)]).forEach(ve=>o.add(ve,"change",M)),x.active&&(g.translate.to(g.location.get()),g.animation.init(),g.slidesInView.init(),g.slideFocus.init(ee),g.eventHandler.init(ee),g.resizeHandler.init(ee),g.slidesHandler.init(ee),g.options.loop&&g.slideLooper.loop(),T.offsetParent&&_.length&&g.dragHandler.init(ee),S=a.init(ee,k)))}function M(pe,O){const ve=q();$(),D(u({startIndex:ve},pe),O),c.emit("reInit")}function $(){g.dragHandler.destroy(),g.eventStore.clear(),g.translate.clear(),g.slideLooper.clear(),g.resizeHandler.destroy(),g.slidesHandler.destroy(),g.slidesInView.destroy(),g.animation.destroy(),a.destroy(),o.clear()}function F(){b||(b=!0,o.clear(),$(),c.emit("destroy"),c.clear())}function X(pe,O,ve){!x.active||b||(g.scrollBody.useBaseFriction().useDuration(O===!0?0:x.duration),g.scrollTo.index(pe,ve||0))}function le(pe){const O=g.index.add(1).get();X(O,pe,-1)}function re(pe){const O=g.index.add(-1).get();X(O,pe,1)}function G(){return g.index.add(1).get()!==q()}function P(){return g.index.add(-1).get()!==q()}function ue(){return g.scrollSnapList}function fe(){return g.scrollProgress.get(g.offsetLocation.get())}function q(){return g.index.get()}function de(){return g.indexPrevious.get()}function ie(){return g.slidesInView.get()}function se(){return g.slidesInView.get(!1)}function ge(){return S}function ke(){return g}function Q(){return t}function be(){return T}function Le(){return _}const ee={canScrollNext:G,canScrollPrev:P,containerNode:be,internalEngine:ke,destroy:F,off:m,on:f,emit:p,plugins:ge,previousScrollSnap:de,reInit:y,rootNode:Q,scrollNext:le,scrollPrev:re,scrollProgress:fe,scrollSnapList:ue,scrollTo:X,selectedScrollSnap:q,slideNodes:Le,slidesInView:ie,slidesNotInView:se};return D(e,r),setTimeout(()=>c.emit("init"),0),ee}di.globalOptions=void 0;function Yo(t={},e=[]){const r=w.useRef(t),n=w.useRef(e),[s,i]=w.useState(),[a,o]=w.useState(),c=w.useCallback(()=>{s&&s.reInit(r.current,n.current)},[s]);return w.useEffect(()=>{Ho(r.current,t)||(r.current=t,c())},[t,c]),w.useEffect(()=>{x1(n.current,e)||(n.current=e,c())},[e,c]),w.useEffect(()=>{if(v1()&&a){di.globalOptions=Yo.globalOptions;const u=di(a,r.current,n.current);return i(u),()=>u.destroy()}else i(void 0)},[a,i]),[o,s]}Yo.globalOptions=void 0;const X1=jf("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}});function Mf({className:t,variant:e,size:r,asChild:n=!1,...s}){const i=n?zo:"button";return l.jsx(i,{"data-slot":"button",className:jr(X1({variant:e,size:r,className:t})),...s})}const Ff=w.createContext(null);function _i(){const t=w.useContext(Ff);if(!t)throw new Error("useCarousel must be used within a <Carousel />");return t}function Bf({orientation:t="horizontal",opts:e,setApi:r,plugins:n,className:s,children:i,...a}){const[o,c]=Yo({...e,axis:t==="horizontal"?"x":"y"},n),[u,d]=w.useState(!1),[h,f]=w.useState(!1),m=w.useCallback(g=>{g&&(d(g.canScrollPrev()),f(g.canScrollNext()))},[]),p=w.useCallback(()=>{c==null||c.scrollPrev()},[c]),y=w.useCallback(()=>{c==null||c.scrollNext()},[c]),b=w.useCallback(g=>{g.key==="ArrowLeft"?(g.preventDefault(),p()):g.key==="ArrowRight"&&(g.preventDefault(),y())},[p,y]);return w.useEffect(()=>{!c||!r||r(c)},[c,r]),w.useEffect(()=>{if(c)return m(c),c.on("reInit",m),c.on("select",m),()=>{c==null||c.off("select",m)}},[c,m]),l.jsx(Ff.Provider,{value:{carouselRef:o,api:c,opts:e,orientation:t||((e==null?void 0:e.axis)==="y"?"vertical":"horizontal"),scrollPrev:p,scrollNext:y,canScrollPrev:u,canScrollNext:h},children:l.jsx("div",{onKeyDownCapture:b,className:jr("relative",s),role:"region","aria-roledescription":"carousel","data-slot":"carousel",...a,children:i})})}function $f({className:t,...e}){const{carouselRef:r,orientation:n}=_i();return l.jsx("div",{ref:r,className:"overflow-hidden","data-slot":"carousel-content",children:l.jsx("div",{className:jr("flex",n==="horizontal"?"-ml-4":"-mt-4 flex-col",t),...e})})}function Vf({className:t,...e}){const{orientation:r}=_i();return l.jsx("div",{role:"group","aria-roledescription":"slide","data-slot":"carousel-item",className:jr("min-w-0 shrink-0 grow-0 basis-full",r==="horizontal"?"pl-4":"pt-4",t),...e})}function Uf({className:t,variant:e="outline",size:r="icon",...n}){const{orientation:s,scrollPrev:i,canScrollPrev:a}=_i();return l.jsxs(Mf,{"data-slot":"carousel-previous",variant:e,size:r,className:jr("absolute size-8 rounded-full",s==="horizontal"?"top-1/2 -left-12 -translate-y-1/2":"-top-12 left-1/2 -translate-x-1/2 rotate-90",t),disabled:!a,onClick:i,...n,children:[l.jsx(hd,{}),l.jsx("span",{className:"sr-only",children:"Previous slide"})]})}function zf({className:t,variant:e="outline",size:r="icon",...n}){const{orientation:s,scrollNext:i,canScrollNext:a}=_i();return l.jsxs(Mf,{"data-slot":"carousel-next",variant:e,size:r,className:jr("absolute size-8 rounded-full",s==="horizontal"?"top-1/2 -right-12 -translate-y-1/2":"-bottom-12 left-1/2 -translate-x-1/2 rotate-90",t),disabled:!a,onClick:i,...n,children:[l.jsx(os,{}),l.jsx("span",{className:"sr-only",children:"Next slide"})]})}function Z1(t,e,r,n){return t.map((s,i)=>({...s,status:"pending",estimatedPassTime:new Date}))}function Wf(t,e){if(!t||!e)return 0;const r=new Date(t),n=new Date(e),s=new Date,i=n.getTime()-r.getTime(),a=s.getTime()-r.getTime();return a<=0?0:a>=i?100:Math.round(a/i*100)}function Q1(t){return t==="Air Freight"||t==="Air & Express"}function Hf({experience:t}){if(!t)return null;const e=typeof t=="string"?parseInt(t,10):t;if(isNaN(e))return null;const r=Math.min(Math.ceil(e/2),5);return l.jsxs("div",{className:"flex items-center gap-1",children:[Array.from({length:5}).map((n,s)=>l.jsx(gd,{className:`w-4 h-4 ${s<r?"fill-yellow-400 text-yellow-400":"text-gray-300"}`},s)),l.jsxs("span",{className:"text-xs text-gray-600 ml-1",children:["(",e,"y experience)"]})]})}function Gf(t){const[e,r]=w.useState(null),[n,s]=w.useState(!0),[i,a]=w.useState(null);return w.useEffect(()=>{if(!t||!t.trim()){r(null),s(!1),a(null);return}(async()=>{try{const{data:u,error:d}=await rt.from("shipments").select("*").eq("id",t).single();if(d)throw d;const{data:h,error:f}=await rt.from("checkpoints").select("*").eq("shipment_id",t).order("checkpoint_order",{ascending:!0});if(f)throw f;r({...u,checkpoints:h||[]})}catch(u){a(u instanceof Error?u.message:"Failed to fetch shipment")}finally{s(!1)}})();const c=rt.channel(`shipment-${t}`).on("postgres_changes",{event:"UPDATE",schema:"public",table:"shipments",filter:`id=eq.${t}`},u=>{r(d=>d?{...d,...u.new}:null)}).subscribe();return()=>{c.unsubscribe()}},[t]),{shipment:e,loading:n,error:i}}const sa=(t,e)=>{const r=new Date(t).getTime(),s=Date.now()-r,i=e*3600*1e3;return s<=0?0:s>=i?100:Math.round(s/i*100)},Cu=(t,e)=>{const r=new Date(t).getTime(),n=Date.now(),s=e*3600*1e3-(n-r);if(s<=0)return"Completed";const i=Math.floor(s/1e3),a=Math.floor(i/3600),o=Math.floor(i%3600/60),c=i%60;return a>0?`${a}h ${o}m remaining`:o>0?`${o}m ${c}s remaining`:`${c}s remaining`};function eS(){var g;const[t]=Sg(),[e,r]=w.useState(t.get("id")||""),[n,s]=w.useState(!1),[i,a]=w.useState(null),[o,c]=w.useState(0),[u,d]=w.useState(!0),[h,f]=w.useState(!1),{shipment:m}=Gf(e||"");w.useEffect(()=>{if(i){d(!0),f(!1);const v=setTimeout(()=>{d(!1),f(!0)},6e3);return()=>clearTimeout(v)}},[i==null?void 0:i.id]),w.useEffect(()=>{t.get("id")&&r(t.get("id")||"")},[t]),w.useEffect(()=>{if(!(i!=null&&i.countdownDuration)||i!=null&&i.stopped||i!=null&&i.paused)return;const v=setInterval(()=>{c(x=>x+1)},1e3);return()=>clearInterval(v)},[i==null?void 0:i.countdownDuration,i==null?void 0:i.stopped,i==null?void 0:i.paused]);const p=v=>{var _,j;const x=Q1(v.transportation_type),k=Z1(v.checkpoints||[]);let S=0;const T=v.countdown_duration?v.countdown_duration/3600:0;T>0&&v.countdown_start_time&&!v.paused&&!v.stopped?(S=sa(v.countdown_start_time,T),console.log(" Countdown Progress calculated:",{startTime:v.countdown_start_time,durationHours:T,progressPercent:S,remaining:Cu(v.countdown_start_time,T)})):(v.paused||v.stopped)&&(S=sa(v.countdown_start_time,T)),a({...v,trackingId:v.id,status:v.stopped?"Stopped":v.paused?"Paused":"In Transit",stopReason:v.stop_reason||"",progress:S,transportMode:v.transportation_type,origin:v.pickup_location,destination:v.delivery_address,vehicle:v.vehicle_type,driver:v.driver_name,driverImage:v.driver_image_url,driverExperience:v.driver_experience,senderName:v.sender_name,senderPhone:v.sender_phone,receiverName:v.receiver_name,receiverPhone:v.receiver_phone,pickupLocation:v.pickup_location,packageName:v.package_name,cost:v.cost,images:v.images||[],departureTime:v.created_at?new Date(v.created_at).toLocaleString():"N/A",currentLocation:((_=k.find(E=>E.status==="current"))==null?void 0:_.location)||((j=k[0])==null?void 0:j.location)||"",checkpoints:(()=>{const E=(k||[]).map((D,M,$)=>{const F=Math.round((M+1)/($.length+1)*100);let X=D.status;return T>0&&(S>=F?X="completed":S>=F-Math.max(5,Math.round(100/($.length+1)/2))?X="current":X="pending"),{...D,positionPercent:F,status:X}});if(v.stopped){const D=E.findIndex(M=>M.status==="pending");D!==-1&&(E[D].status="stopped")}return E})(),isFlightShipment:x,countdownDuration:T,countdownStartTime:v.countdown_start_time,paused:v.paused,stopped:v.stopped}),console.log(" Shipment data updated, progress:",S)};w.useEffect(()=>{m&&p(m)},[m,o]);const y=async()=>{e.trim()&&(s(!0),a(null),setTimeout(()=>s(!1),500))},b=v=>{switch(v){case"Air Freight":return vy;case"Ocean Cargo":return Ny;default:return $n}};return l.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-50 to-white py-12 relative overflow-hidden",children:[l.jsx("img",{src:"https://kvgloballogistics.com/wp-content/uploads/2024/05/tracking-kvgll.jpg",alt:"tracking background","aria-hidden":"true",className:"absolute inset-0 w-full h-full object-cover opacity-20 pointer-events-none"}),l.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[l.jsxs(I.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[l.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-[#0F1F3D] mb-4",children:"Track Your Shipment"}),l.jsx("p",{className:"text-xl text-gray-600",children:"Real-time tracking across the globe"})]}),l.jsx(I.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"max-w-2xl mx-auto mb-12",children:l.jsx("form",{onSubmit:v=>{v.preventDefault(),y()},className:"relative",children:l.jsx("div",{className:"bg-white rounded-2xl p-2 shadow-lg border border-gray-200",children:l.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 w-full",children:[l.jsx("input",{type:"text",value:e,onChange:v=>r(v.target.value),placeholder:"Enter Tracking ID (e.g. GG-2026-001)",className:"w-full sm:flex-1 px-4 py-3 sm:px-6 sm:py-4 bg-gray-50 rounded-xl focus:outline-none focus:ring-2 focus:ring-[#2563EB] text-gray-900 placeholder-gray-500"}),l.jsx("button",{type:"submit",disabled:n,className:"w-full sm:w-auto px-4 py-3 sm:px-8 sm:py-4 bg-gradient-to-r from-[#2563EB] to-[#38BDF8] text-white font-semibold rounded-xl hover:shadow-lg hover:shadow-blue-500/50 transition-all duration-300 disabled:opacity-50 flex items-center justify-center gap-2",children:n?l.jsx(l.Fragment,{children:"Tracking..."}):l.jsxs(l.Fragment,{children:[l.jsx(md,{className:"w-5 h-5"}),"Track"]})})]})})})}),i&&i.notFound&&l.jsx("div",{className:"text-center text-red-600",children:"No shipment found with that tracking ID."}),i&&!i.notFound&&l.jsxs(I.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6",children:[l.jsxs("div",{className:`rounded-2xl p-8 shadow-lg border-2 transition-all ${i.status==="Stopped"?"bg-red-50 border-red-500":"bg-white border-gray-200"}`,children:[l.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between gap-6 mb-6",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[l.jsx("h2",{className:`text-2xl font-bold ${i.status==="Stopped"?"text-red-700":"text-[#0F1F3D]"}`,children:i.trackingId}),l.jsx(ku,{className:`text-white border-0 ${i.status==="Stopped"?"bg-red-600":"bg-gradient-to-r from-[#2563EB] to-[#38BDF8]"}`,children:i.status})]}),l.jsxs("p",{className:i.status==="Stopped"?"text-red-600":"text-gray-600",children:[i.origin,"  ",i.destination]})]}),l.jsx("div",{className:"flex items-center gap-2",children:(()=>{const v=b(i.transportMode);return l.jsxs("div",{className:`flex items-center gap-3 px-6 py-3 rounded-xl border ${i.status==="Stopped"?"bg-red-100 border-red-300":"bg-gradient-to-r from-[#2563EB]/10 to-[#38BDF8]/10 border-[#2563EB]/20"}`,children:[l.jsx(v,{className:`w-6 h-6 ${i.status==="Stopped"?"text-red-600":"text-[#2563EB]"}`}),l.jsx("span",{className:`font-medium ${i.status==="Stopped"?"text-red-700":"text-[#0F1F3D]"}`,children:i.transportMode})]})})()})]}),i.status==="Stopped"&&l.jsxs("div",{className:"mb-6 p-4 bg-red-100 border border-red-300 rounded-lg",children:[l.jsx("p",{className:"text-red-700 font-semibold mb-3",children:" This shipment has been stopped!"}),l.jsx("a",{href:"https://wa.me/13364596552?text=Hello%20I%20need%20assistance%20with%20my%20shipment",target:"_blank",rel:"noopener noreferrer",className:"inline-block px-6 py-3 bg-green-500 text-white font-semibold rounded-lg hover:bg-green-600 transition-all duration-300",children:" Contact Customer Service (WhatsApp)"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ak,{progress:i.progress,transportMode:i.transportMode,checkpoints:i.checkpoints,status:i.status,vehiclesCount:i.vehiclesCount||1}),i.countdownDuration&&i.countdownStartTime&&l.jsx("div",{className:"mt-3 p-3 bg-gradient-to-r from-orange-50 to-amber-50 border border-orange-200 rounded-lg",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-sm font-medium text-orange-700",children:" Countdown Timer"}),l.jsx("span",{className:"text-sm font-bold text-orange-600",children:Cu(i.countdownStartTime,i.countdownDuration)})]})})]})]}),i.images&&i.images.length>0&&l.jsx(I.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-2xl p-8 shadow-lg border border-gray-200",children:l.jsxs("div",{className:"space-y-4",children:[l.jsx("h3",{className:"text-2xl font-bold text-[#0F1F3D] flex items-center gap-3",children:" Product Images"}),l.jsx("div",{className:"relative px-2",children:l.jsxs(Bf,{className:"w-full",children:[l.jsx($f,{children:i.images.map((v,x)=>l.jsx(Vf,{className:"basis-full sm:basis-1/2 lg:basis-1/3",children:l.jsxs(I.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:x*.05},className:"group relative rounded-lg overflow-hidden shadow-md hover:shadow-xl transition-all duration-300 cursor-pointer h-48 sm:h-56",children:[l.jsx("img",{src:v,alt:`Product ${x+1}`,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-300"}),l.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/20 transition-all duration-300 flex items-center justify-center",children:l.jsxs("span",{className:"text-white text-sm font-medium bg-black/50 px-3 py-2 rounded opacity-0 group-hover:opacity-100 transition-opacity",children:[x+1," / ",i.images.length]})})]})},x))}),i.images.length>1&&l.jsxs(l.Fragment,{children:[l.jsx(Uf,{className:"bg-white text-[#2563EB] hover:bg-gray-100"}),l.jsx(zf,{className:"bg-white text-[#2563EB] hover:bg-gray-100"})]})]})})]})}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[l.jsx("div",{className:"lg:col-span-2",children:l.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-lg border border-gray-200 h-full",children:[l.jsxs("h3",{className:"text-xl font-semibold text-[#0F1F3D] mb-6 flex items-center gap-2",children:[l.jsx(br,{className:"w-5 h-5 text-[#2563EB]"}),"Live Route Map"]}),l.jsxs("div",{className:"aspect-video bg-gradient-to-br from-gray-100 to-gray-200 rounded-xl flex items-center justify-center relative overflow-hidden",children:[l.jsx("img",{src:"https://lh3.googleusercontent.com/L_8R6GVq0cG0LYJCA-9QgRXmftttFrigL6iBV35Ca37UEBioMCoRguAaB-UPFFXNl_RllSrnuSqgsAgEZ1QCvubkoKgP8Lfqjc4QpOs=w450",alt:"Default map",className:"absolute inset-0 w-full h-full object-cover blur-sm"}),l.jsx("div",{className:"absolute inset-0 flex items-center justify-center z-10",children:l.jsxs("div",{className:"text-center",children:[l.jsx(br,{className:"w-12 h-12 text-[#2563EB] mx-auto mb-2"}),l.jsxs("p",{className:"text-sm font-semibold text-[#0F1F3D] bg-white/80 px-3 py-2 rounded-lg backdrop-blur-sm",children:["Current: ",(i==null?void 0:i.currentLocation)||"Loading..."]})]})}),(i==null?void 0:i.routeScreenshot)&&l.jsx("img",{src:i.routeScreenshot,alt:"Route map",className:"absolute inset-0 w-full h-full object-cover z-20",onLoad:()=>{d(!1),f(!1)}}),u&&!(i!=null&&i.routeScreenshot)&&l.jsx("div",{className:"absolute inset-0 flex items-center justify-center z-30 bg-black/20 backdrop-blur-sm",children:l.jsxs("div",{className:"flex flex-col items-center gap-3",children:[l.jsx("div",{className:"w-12 h-12 border-4 border-[#2563EB]/30 border-t-[#2563EB] rounded-full animate-spin"}),l.jsx("p",{className:"text-white font-medium text-sm",children:"Loading map..."})]})}),h&&!(i!=null&&i.routeScreenshot)&&l.jsx("div",{className:"absolute inset-0 flex items-center justify-center z-30 bg-black/40 backdrop-blur-sm",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"w-14 h-14 rounded-full bg-red-500/20 flex items-center justify-center mx-auto mb-3",children:l.jsx("span",{className:"text-2xl",children:""})}),l.jsx("p",{className:"text-white font-semibold mb-2",children:"Error loading live route"}),l.jsx("p",{className:"text-white/80 text-sm",children:"Please try again"})]})})]})]})}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-200",children:[l.jsxs("h3",{className:"text-lg font-semibold text-[#0F1F3D] mb-6 flex items-center gap-2",children:[l.jsx(nt,{className:"w-5 h-5 text-[#2563EB]"}),"Shipment Details"]}),l.jsxs("div",{className:"space-y-5",children:[l.jsxs("div",{className:"pb-4 border-b border-gray-200",children:[l.jsx("h4",{className:"text-sm font-semibold text-[#0F1F3D] mb-3",children:" Package Information"}),l.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Package Name"}),l.jsx("div",{className:"font-medium text-[#0F1F3D]",children:i.packageName||"N/A"})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Cost"}),l.jsxs("div",{className:"font-medium text-[#10B981]",children:["$",((g=i.cost)==null?void 0:g.toFixed(2))||"0.00"]})]})]})]}),l.jsxs("div",{className:"pb-4 border-b border-gray-200",children:[l.jsx("h4",{className:"text-sm font-semibold text-[#0F1F3D] mb-3",children:" Sender"}),l.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Name"}),l.jsx("div",{className:"font-medium text-[#0F1F3D]",children:i.senderName||"N/A"})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Phone"}),l.jsx("div",{className:"font-medium text-[#0F1F3D]",children:i.senderPhone||"N/A"})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-xs text-gray-500 mb-1",children:" Pickup Location"}),l.jsx("div",{className:"font-medium text-[#0F1F3D]",children:i.pickupLocation||"N/A"})]})]})]}),l.jsxs("div",{className:"pb-4 border-b border-gray-200",children:[l.jsx("h4",{className:"text-sm font-semibold text-[#0F1F3D] mb-3",children:" Receiver"}),l.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Name"}),l.jsx("div",{className:"font-medium text-[#0F1F3D]",children:i.receiverName||"N/A"})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Phone"}),l.jsx("div",{className:"font-medium text-[#0F1F3D]",children:i.receiverPhone||"N/A"})]})]})]}),l.jsxs("div",{className:"pb-4 border-b border-gray-200",children:[l.jsx("h4",{className:"text-sm font-semibold text-[#0F1F3D] mb-3",children:" Timeline"}),l.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Departure Time"}),l.jsx("div",{className:"font-medium text-[#0F1F3D] text-sm",children:i.departureTime})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Estimated Arrival"}),l.jsx("div",{className:"font-medium text-[#10B981]",children:i.estimatedArrival||"Based on countdown"})]})]})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-sm font-semibold text-[#0F1F3D] mb-3",children:" Logistics"}),l.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Vehicle Type"}),l.jsx("div",{className:"font-medium text-[#0F1F3D]",children:i.vehicle||"N/A"})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Driver/Pilot"}),l.jsx("div",{className:"font-medium text-[#0F1F3D]",children:i.driver||"N/A"})]})]})]})]})]}),l.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-2xl p-4",children:l.jsxs("div",{className:"flex gap-3",children:[l.jsx("span",{className:"text-xl flex-shrink-0",children:""}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-sm font-semibold text-blue-900 mb-1",children:"Email Notifications"}),l.jsx("p",{className:"text-xs text-blue-800",children:"As soon as the package gets close to its destination or runs into any issue, an email will be sent to both the sender and receiver for clearance, pickup, and delivery updates."})]})]})}),i.driverImage&&l.jsxs("div",{className:"bg-white rounded-2xl p-4 sm:p-6 shadow-lg border border-gray-200",children:[l.jsx("h3",{className:"text-sm sm:text-lg font-semibold text-[#0F1F3D] mb-4",children:" Your Driver"}),l.jsx("div",{className:"space-y-3",children:l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("img",{src:i.driverImage,alt:i.driver,className:"w-16 h-16 sm:w-20 sm:h-20 rounded-full object-cover shadow-md flex-shrink-0"}),l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"font-semibold text-sm sm:text-base text-[#0F1F3D]",children:i.driver}),i.driverExperience&&l.jsx("div",{className:"mt-2",children:l.jsx(Hf,{experience:i.driverExperience})})]})]})})]})]})]}),l.jsxs("div",{className:"bg-white rounded-2xl p-4 sm:p-8 shadow-lg border border-gray-200",children:[l.jsxs("h3",{className:"text-lg sm:text-xl font-semibold text-[#0F1F3D] mb-6 sm:mb-8 flex items-center gap-2",children:[l.jsx(Zs,{className:"w-5 h-5 text-[#2563EB]"}),"Tracking Timeline (",i.checkpoints.length," Milestones)"]}),l.jsx("div",{className:"max-h-96 overflow-y-auto pb-4",children:l.jsx("div",{className:"flex flex-col gap-4",children:i.checkpoints.map((v,x)=>{const k=v.status==="completed",S=v.status==="current",T=v.status==="pending",_=v.status==="stopped";return l.jsxs(I.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:x*.08},className:`rounded-xl p-5 transition-all border-2 ${k?"bg-gradient-to-br from-green-50 to-green-100 border-green-400 shadow-md hover:shadow-lg":S?"bg-gradient-to-br from-blue-50 to-blue-100 border-blue-400 shadow-lg hover:shadow-xl scale-105":_?"bg-gradient-to-br from-red-50 to-red-100 border-red-400 shadow-md hover:shadow-lg":"bg-gradient-to-br from-gray-50 to-gray-100 border-gray-300 shadow-sm hover:shadow-md"}`,children:[l.jsxs("div",{className:"flex items-start justify-between gap-3 mb-3",children:[l.jsx("div",{className:`flex-shrink-0 w-12 h-12 rounded-full flex items-center justify-center font-bold text-sm ${k?"bg-green-500 text-white":S?"bg-blue-500 text-white":_?"bg-red-500 text-white":"bg-gray-400 text-white"}`,children:k?l.jsx(vr,{className:"w-7 h-7"}):S?l.jsx(nt,{className:"w-7 h-7 animate-pulse"}):x+1}),l.jsx("div",{className:"flex-1",children:l.jsx("h4",{className:`font-bold text-lg break-words ${k?"text-green-700":S?"text-blue-700":_?"text-red-700":"text-gray-700"}`,children:v.location})}),l.jsx(ku,{className:`flex-shrink-0 text-xs font-semibold whitespace-nowrap ${k?"bg-green-500 text-white":S?"bg-blue-600 text-white":_?"bg-red-600 text-white":"bg-gray-500 text-white"}`,children:k?" Passed":S?" Current":_?" Stopped":" Soon"})]}),l.jsx("div",{className:`text-sm font-medium ${k?"text-green-600":S?"text-blue-600":_?"text-red-600":"text-gray-600"}`,children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Zs,{className:"w-4 h-4"}),k&&v.passedAgo&&l.jsxs("span",{children:["Passed ",v.passedAgo]}),S&&l.jsx("span",{children:"Currently at this location"}),_&&l.jsx("span",{children:"Stopped  contact support"}),T&&v.timeUntilPass&&l.jsxs("span",{children:["Expected ",v.timeUntilPass]}),T&&!v.timeUntilPass&&l.jsx("span",{children:"Awaiting arrival"})]})}),l.jsxs("div",{className:"mt-3 pt-3 border-t border-current border-opacity-20 text-xs opacity-60",children:["Milestone ",x+1," of ",i.checkpoints.length]}),_&&l.jsx("div",{className:"mt-3",children:l.jsx("a",{href:"https://wa.me/13364596552?text=Hello%20I%20need%20assistance%20with%20my%20shipment",target:"_blank",rel:"noopener noreferrer",className:"inline-block px-3 py-2 bg-red-600 text-white rounded-md text-sm",children:"Contact Support (WhatsApp)"})})]},x)})})})]})]}),!i&&!n&&l.jsxs(I.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-20",children:[l.jsx("img",{src:"https://s.yimg.com/os/en/business-wire.com/fcbdfe0b84b9e2dd88d0c343ca781ba4",alt:"Global-Go logo",className:"w-24 h-24 rounded-2xl object-cover mx-auto mb-6 shadow-xl"}),l.jsx("h3",{className:"text-2xl font-semibold text-[#0F1F3D] mb-3",children:"Enter a tracking ID to get started"}),l.jsx("p",{className:"text-gray-600 max-w-md mx-auto",children:"Track your shipment in real-time and get detailed information about its journey"})]})]})]})}function tS({icon:t,title:e,description:r,index:n=0}){return l.jsxs(I.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:n*.1},viewport:{once:!0},whileHover:{y:-8,scale:1.02},className:"group relative bg-white rounded-2xl p-8 shadow-lg hover:shadow-2xl transition-all duration-300 border border-gray-100 overflow-hidden",children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-[#2563EB]/5 to-[#38BDF8]/5 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),l.jsxs("div",{className:"relative z-10",children:[l.jsx("div",{className:"w-16 h-16 rounded-2xl bg-gradient-to-br from-[#2563EB] to-[#38BDF8] flex items-center justify-center mb-6 shadow-lg group-hover:shadow-xl group-hover:shadow-blue-500/30 transition-all duration-300",children:l.jsx(t,{className:"w-8 h-8 text-white"})}),l.jsx("h3",{className:"text-xl font-semibold text-[#0F1F3D] mb-3 group-hover:text-[#2563EB] transition-colors duration-300",children:e}),l.jsx("p",{className:"text-gray-600 leading-relaxed",children:r})]}),l.jsx("div",{className:"absolute inset-0 rounded-2xl ring-2 ring-transparent group-hover:ring-[#38BDF8]/30 transition-all duration-300"})]})}function rS(){const t=[{icon:Xr,value:"40+",label:"Distribution Centers"},{icon:co,value:"7.5M+",label:"Sq. Ft. Warehouse"},{icon:nt,value:"100+",label:"Years in Business"},{icon:Vy,value:"15k+",label:"Logistics Pros"}],e=[{icon:$n,title:"Contract Warehousing",description:"Dedicated facilities and shared public warehousing tailored to your needs."},{icon:nt,title:"Value-Added Services",description:"Kitting, labeling, retail display builds, and light assembly solutions."},{icon:Py,title:"Automotive Sequencing",description:"Just-in-time JIT delivery for manufacturing lines with precision timing."},{icon:Xr,title:"International Logistics",description:"Customs brokerage, ocean/air freight, cross-border US, Canada, Mexico."}],r=[{name:"Corporate Headquarters",address:"#7 Gateway Commerce Center Dr. W, Suite 7",city:"Edwardsville, IL 62025, USA",phone:"+1(336)4596552",email:"buskelogistics141@gmail.com",region:"Midwest"}];return l.jsxs("div",{className:"w-full",children:[l.jsxs("section",{className:"relative py-24 bg-gradient-to-br from-[#0F1F3D] via-[#1A365D] to-[#2563EB] overflow-hidden",children:[l.jsx("img",{src:"https://thumbs.dreamstime.com/b/modern-logistics-transportation-concept-technology-integration-generative-ai-modern-logistics-transportation-concept-321114991.jpg",alt:"logistics background","aria-hidden":"true",className:"absolute inset-0 w-full h-full object-cover opacity-16 pointer-events-none"}),l.jsx("div",{className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:l.jsxs(I.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[l.jsx("h1",{className:"text-5xl md:text-6xl font-bold text-white mb-6",children:"100+ Years of Logistics Excellence"}),l.jsx("p",{className:"text-xl md:text-2xl text-gray-200 max-w-3xl mx-auto",children:"Founded in 1923, Buske Logistics delivers trusted logistics solutions worldwide"})]})})]}),l.jsx("section",{className:"py-24 bg-white",children:l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-16 items-start",children:[l.jsxs(I.div,{initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},viewport:{once:!0},children:[l.jsx("h2",{className:"text-4xl font-bold text-[#0F1F3D] mb-6",children:"Our Story"}),l.jsxs("div",{className:"space-y-4 text-gray-700 leading-relaxed",children:[l.jsx("p",{children:"Founded in 1923, Buske Logistics began as a private trucking company with a simple yet powerful vision: to provide reliable, personal attention to customer needs with superior value and cutting-edge technology. For over 100 years, we've been at the forefront of the logistics industry."}),l.jsx("p",{children:"Our journey has been marked by continuous evolution and strategic growth. We underwent major transformation under S.C. Johnson & Son ownership from 20092015, which strengthened our capabilities and expanded our reach. In 2015, our current management team acquired the company, reigniting our entrepreneurial spirit and commitment to innovation."}),l.jsx("p",{children:"We partnered with Fourshore Partners in 2022 and Wind Point Partners in 2025 to accelerate growth and strategic capital investment. Today, Buske operates over 40 distribution centers with 7.5 million square feet of warehouse space across the US and Canada, serving Fortune 100 and Fortune 500 brands including Coca-Cola, Starbucks, Anheuser-Busch, PepsiCo, Ball Corporation, and Lexus."}),l.jsx("p",{children:'Our philosophy remains simple: "Play big, feel small." We provide the scale and resources of an enterprise-level provider while maintaining the responsive, personal touch of a small business. Every day, our team of 15,000+ logistics professionals works to deliver excellence across contract warehousing, value-added services, automotive sequencing, and international logistics.'})]})]}),l.jsx(I.div,{initial:{opacity:0,x:20},whileInView:{opacity:1,x:0},viewport:{once:!0},className:"relative",children:l.jsxs("div",{className:"bg-gradient-to-br from-[#2563EB]/5 to-[#38BDF8]/5 rounded-2xl p-8 border-l-4 border-[#2563EB] shadow-xl",children:[l.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[l.jsx(bf,{src:"https://static.vecteezy.com/system/resources/thumbnails/027/933/307/small_2x/happy-middle-aged-business-man-ceo-standing-in-office-arms-crossed-ai-generated-photo.jpg",alt:"Leadership Team",className:"w-16 h-16 rounded-full object-cover shadow-lg"}),l.jsxs("div",{children:[l.jsx("div",{className:"font-semibold text-lg text-[#0F1F3D]",children:"Buske Logistics Leadership"}),l.jsx("div",{className:"text-sm text-gray-600",children:"Management Team"})]})]}),l.jsxs("blockquote",{className:"relative",children:[l.jsx("div",{className:"text-6xl text-[#2563EB]/20 font-serif leading-none mb-2",children:'"'}),l.jsx("p",{className:"text-gray-700 italic leading-relaxed mb-4",children:"We are committed to offering our customers the kind of personal attention that results in quick answers, superior value, cutting-edge technology, and the most reliable performance in the industry. Play big, feel smallthat's our promise to you."}),l.jsx("div",{className:"text-right",children:l.jsxs("div",{className:"inline-block",children:[l.jsx("div",{className:"font-semibold text-[#0F1F3D]",children:"Buske Logistics"}),l.jsx("div",{className:"text-sm text-gray-600",children:"Management Team"})]})})]})]})})]})})}),l.jsxs("section",{className:"py-24 bg-gradient-to-br from-[#0F1F3D] via-[#1A365D] to-[#0F1F3D] relative overflow-hidden",children:[l.jsx("div",{className:"absolute inset-0 opacity-10",children:l.jsx("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA2MCA2MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxwYXRoIGQ9Ik0zNiAxOGMzLjMxNCAwIDYgMi42ODYgNiA2cy0yLjY4NiA2LTYgNi02LTIuNjg2LTYtNiAyLjY4Ni02IDYtNnptLTEyIDEyYzMuMzE0IDAgNiAyLjY4NiA2IDZzLTIuNjg2IDYtNiA2LTYtMi42ODYtNi02IDIuNjg2LTYgNi02eiIgc3Ryb2tlPSIjZmZmIiBzdHJva2Utd2lkdGg9IjIiLz48L2c+PC9zdmc+')] "})}),l.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[l.jsxs(I.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-center mb-16",children:[l.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-white mb-4",children:"Global Logistics Leader for Over 100 Years"}),l.jsx("p",{className:"text-xl text-gray-300",children:"Delivering excellence worldwide from 40+ distribution centers"})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-5 gap-6",children:t.map((n,s)=>l.jsx(xf,{...n,index:s},s))})]})]}),l.jsx("section",{className:"py-24 bg-gradient-to-b from-white to-gray-50",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[l.jsxs(I.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-center mb-16",children:[l.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-[#0F1F3D] mb-4",children:"Our Core Solutions"}),l.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Comprehensive logistics services for your business needs"})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:e.map((n,s)=>l.jsx(tS,{...n,index:s},s))})]})}),l.jsx("section",{className:"py-24 bg-white",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[l.jsxs(I.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-center mb-16",children:[l.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-[#0F1F3D] mb-4",children:"Corporate Headquarters"}),l.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Based in Illinois, serving customers worldwide with 40+ locations across North America and beyond"})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:r.map((n,s)=>l.jsxs(I.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{delay:s*.1},viewport:{once:!0},className:"group relative bg-gradient-to-br from-white to-gray-50 rounded-2xl p-8 shadow-lg hover:shadow-2xl transition-all duration-300 border border-gray-200 overflow-hidden",children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-[#2563EB]/5 to-[#38BDF8]/5 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),l.jsx("div",{className:"absolute top-6 right-6",children:l.jsx("span",{className:"px-3 py-1 bg-gradient-to-r from-[#2563EB] to-[#38BDF8] text-white text-xs font-semibold rounded-full shadow-lg",children:n.region})}),l.jsxs("div",{className:"relative z-10",children:[l.jsx("div",{className:"w-16 h-16 rounded-2xl bg-gradient-to-br from-[#2563EB] to-[#38BDF8] flex items-center justify-center mb-6 shadow-lg group-hover:scale-110 transition-transform duration-300",children:l.jsx(br,{className:"w-8 h-8 text-white"})}),l.jsx("h3",{className:"text-xl font-semibold text-[#0F1F3D] mb-4",children:n.name}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx(br,{className:"w-5 h-5 text-[#2563EB] mt-0.5 flex-shrink-0"}),l.jsxs("div",{className:"text-gray-600",children:[l.jsx("div",{children:n.address}),l.jsx("div",{children:n.city})]})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(lo,{className:"w-5 h-5 text-[#2563EB] flex-shrink-0"}),l.jsx("a",{href:`tel:${n.phone}`,className:"text-gray-600 hover:text-[#2563EB] transition-colors",children:n.phone})]}),n.email&&l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(ls,{className:"w-5 h-5 text-[#2563EB] flex-shrink-0"}),l.jsx("a",{href:`mailto:${n.email}`,className:"text-gray-600 hover:text-[#2563EB] transition-colors",children:n.email})]})]})]})]},s))})]})}),l.jsx("section",{className:"py-24 bg-gradient-to-b from-gray-50 to-white",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[l.jsx(I.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-center mb-16",children:l.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-[#0F1F3D] mb-4",children:"Our Mission & Values"})}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[{icon:pd,title:"Transparency",description:"We explain what we do, provide the detail, and execute. Our customers know exactly what to expect."},{icon:yd,title:"Scalability",description:"Handle complex accounts with enterprise capabilities while maintaining the nimble feel of a small business."},{icon:Xr,title:"Specialization",description:"Food-grade storage and just-in-time automotive logistics are among our core competencies."}].map((n,s)=>l.jsxs(I.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{delay:s*.1},viewport:{once:!0},className:"text-center",children:[l.jsx("div",{className:"w-20 h-20 rounded-2xl bg-gradient-to-br from-[#2563EB] to-[#38BDF8] flex items-center justify-center mx-auto mb-6 shadow-xl",children:l.jsx(n.icon,{className:"w-10 h-10 text-white"})}),l.jsx("h3",{className:"text-2xl font-semibold text-[#0F1F3D] mb-3",children:n.title}),l.jsx("p",{className:"text-gray-600 leading-relaxed",children:n.description})]},s))})]})})]})}function nS(){const t=[{name:"West Region",description:"CA, WA, OR, NV, AZ, CO, UT, ID, MT, WY, AK, HI",locations:["Alaska","Arizona","Aurora, Colorado","Avondale, AZ","Bakersfield, California","Beaverton, Oregon","Bellevue, Washington","Bellingham, Washington","Benson, Arizona","Berkeley, CA","Boise City, Idaho","Boulder City, Nevada","Brea, CA","Brighton, Colorado","Broomfield, Colorado","Buena Park, CA","Caldwell, ID","California","Carlsbad, CA","Casa Grande, Arizona","Castle Rock, Colorado","Chandler, AZ","Chula Vista, CA","Clackmas, Oregon","Clovis, California","Colorado Springs, Colorado","Colorado","Commerce City, Colorado","Cypress, CA","Davis, California","Denver, Colorado","Dinuba, California","El Cajon, CA","Elk Grove, CA","Eloy, Arizona","Englewood, Colorado","Escondido, CA","Everett, Washington","Federal Way, Washington","Folsom, California","Fremont, CA","Fresno, California","Fullerton, CA","Galt, California","Garden Grove, CA","Gilbert, AZ","Gilroy, CA","Glendale, AZ","Goodyear, AZ","Green Valley, Arizona","Gresham, Oregon","Hanford, California","Hawaii","Hayward, CA","Henderson, Nevada","Hillsboro, Oregon","Honolulu, Hawaii","Idaho","Irvine, CA","Jean, Nevada","Kent, Washington","Kerman, California","Kingman, Arizona","Kingsburg, California","La Mesa, CA","Lakewood, Colorado","Las Vegas, Nevada","Livermore, CA","Lodi, California","Long Beach, California","Longmont, Colorado","Los Angeles, California","Madera, California","Marana, Arizona","McClellan Park, CA","Meridian, Idaho","Mesa, Arizona","Mesquite, Nevada","Milpitas, CA","Moapa Valley, Nevada","Montana","Morgan Hill, CA","Nampa, Idaho","Napa, CA","National City, CA"]},{name:"Midwest Region",description:"IL, IN, OH, MI, WI, MN, MO, IA, KS, NE, SD, ND",locations:["Aberdeen, South Dakota","Allen Park, MI","Alsip, IL","Arnold, MO","Aurora, IL","Avon, IN","Bedford Park, IL","Belleville, IL","Bellevue, Nebraska","Belvidere, Illinois","Bismarck, North Dakota","Bloomington, Minnesota","Blue Ash, OH","Blue Springs, MO","Bolingbrook, IL","Bonner Springs, Kansas","Branson, MO","Brookfield, WI","Brownsburg, IN","Burlington, WI","Canton, MI","Carmel, IN","Cedar Rapids, Iowa","Chesterfield, MO","Cicero, IL","Cincinnati, Ohio","Clarksville, IN","Cleveland, Ohio","Collinsville, IL","Columbia, MO","Columbus, IN","Columbus, Ohio","Davenport, Iowa","Dearborn Heights, MI","Dearborn, MI","Des Moines, Iowa","Des Plaines, IL","Dublin, OH","Duluth, Minnesota","Earth City, MO","Edwardsville, Kansas","Elgin, IL","Elk Grove Village, IL","Evanston, IL","Fairfield, OH","Fargo, North Dakota","Fenton, MO","Ferndale, MI","Fishers, IN","Flat Rock, MI","Florissant, MO","Fort Wayne, IN","Franklin, WI","Gahanna, OH","Gary, IN","Geneva, IL","Granite City, IL","Green Bay, WI","Greenfield, WI","Greensburg, IN","Greenwood, IN","Grove City, OH","Hamilton, OH","Hazelwood, MO","Hilliard, OH","Illinois","Independence, MO","Indiana","Iowa","Joliet, IL","Joplin, MO","Kansas City, MO","Kansas","Kenosha, WI","Kohler, WI","Kokomo, IN","Lafayette, IN","Leavenworth, Kansas","Lebanon, IN","Lebanon, MO","Lee's Summit, MO","Lenexa, KS","Liberty, Missouri","Lincoln Park, MI","Lincoln, Nebraska","Livonia, MI","Lordstown, Ohio","Madison, WI","Maryland Heights, MO","Mason, OH","McCordsville, IN","Mequon, WI","Michigan","Minnesota"]},{name:"Northeast Region",description:"NY, NJ, PA, MA, CT, RI, NH, VT, ME",locations:["Albany, New York","Allentown, Pennsylvania","Amherst, New York","Babylon Town, New York","Bayonne, NJ","Bensalem, PA","Boston, Massachusetts","Braintree, Massachusetts","Bridgeport, Connecticut","Brockton, Massachusetts","Brookhaven, New York","Buffalo, New York","Burlington, NJ","Burlington, Vermont","Camden, NJ","Cheektowaga, New York","Chelsea, Massachusetts","Cherry Hill, NJ","Chester, PA","Clarkstown, New York","Colonie Town, New York","Connecticut","Conshohocken, PA","Edison, NJ","Elizabeth, NJ","Erie, Pennsylvania","Everett, Massachusetts","Framingham, Massachusetts","Greece, New York","Greenburgh, New York","Hackensack, NJ","Hartford, Connecticut","Hempstead Town, New York","Huntington, New York","Islip, New York","Jersey City, NJ","Lawrence, Massachusetts","Levittown, PA","Maine","Manchester, New Hampshire","Massachusetts","Nashua, New Hampshire","New Hampshire","New Haven, Connecticut","New Jersey","New Rochelle, New York","New York City, New York","New York","Newark, NJ","Newport, Rhode Island","Norristown, PA","North Hempstead, New York","Norwalk, Connecticut","Norwood, Massachusetts","Oyster Bay, New York","Paterson, NJ","Paulsboro, NJ","Peabody, Massachusetts","Pennsylvania","Philadelphia, Pennsylvania","Pittsburgh, Pennsylvania","Providence, Rhode Island","Ramapo, New York","Reading City, Pennsylvania","Rhode Island","Rochester City, New York","Rutland, Vermont","Scranton, Pennsylvania","Secaucus, NJ","Smithtown, New York","Stamford, Connecticut","Staten Island, NY","Syracuse, New York","Taunton, Massachusetts","Upper Darby, Pennsylvania","Vermont","Waterbury, Connecticut","Woburn, Massachusetts","Yonkers, New York"]},{name:"Southeast Region",description:"FL, GA, SC, NC, VA, WV, KY, TN, AL, MS",locations:["Airport West, GA","Alabama","Alexandria, Virginia","Alpharetta, GA","Arlington, TN","Virginia Beach, Virginia","Athens, GA","Atlanta, GA","Bartlett, TN","Berea, KY","Bowling Green, KY","Brandon, FL","Calhoun, GA","Chantilly, Virginia","Charleston, South Carolina","Charleston, West Virginia","Charlotte, North Carolina","Chattanooga, TN","Chesapeake, Virginia","Clarksville, Tennessee","Clearwater, FL","College Park, GA","Collierville, TN","Columbia, South Carolina","Concord, North Carolina","Conley, GA","Covington, KY","Duluth, GA","Durham, NC","East Point, GA","Elizabethtown, KY","Fairburn, GA","Fernandina Beach, Florida","Florence, KY","Florida","Forest Park, GA","Fort Mill, South Carolina","Franklin, Tennessee","Gallatin, Tennessee","Gastonia, North Carolina","Georgetown, KY","Georgia","Germantown, TN","Goodlettsville, Tennessee","Green Cove Springs, Florida","Hampton, Virginia","Harrodsburg, KY","Horn Lake, MS","Huntington, West Virginia","Huntsville, AL","Indian Trail, North Carolina","Jacksonville, Florida","Kannapolis, North Carolina","Kentucky","Kingsland, Georgia","La Vergne, Tennessee","Lake City, Florida","Lakeland, FL","Largo, FL","Lawrenceburg, KY","Lebanon, Tennessee","Lexington, KY","Lithia Springs, GA","Lyndon, KY","Macclenny, Florida","Macon, GA","Manassas, Virginia","Marietta, GA","McDonough, GA","Memphis, TN","Miami, Florida","Middleburg, Florida","Middletown, KY","Millington, TN","Mississippi","Monroe, North Carolina","Mooresville, North Carolina","Mount Pleasant, South Carolina","Mt. Juliet, Tennessee","Murfreesboro, Tennessee","Nashville, Tennessee","Newport News, Virginia","Nicholasville, KY","Norcross, GA","Norfolk, Virginia","North Carolina","North Charleston, South Carolina"]},{name:"South Region",description:"TX, OK, LA, AR",locations:["Alief, TX","Arkansas","Arlington, TX","Austin, Texas","Baton Rouge, Louisiana","Baytown, TX","Bedford, TX","Bellaire, TX","Buda, TX","Canutillo, Texas","Carrollton, TX","Cedar Park, TX","Cinco Ranch, TX","Clint, Texas","Converse, TX","Corpus Christi, Texas","Dallas, Texas","Deer Park, TX","Del City, Oklahoma","Edmond, Oklahoma","El Paso, Texas","El Reno, Oklahoma","Euless, TX","Fabens, Texas","Fayetteville, AR","Fort Smith, Arkansas","Fresno, TX","Friendswood, TX","Frisco, TX","Galena Park, TX","Galveston, TX","Garland, TX","Georgetown, TX","Grapevine, TX","Guthrie, Oklahoma","Hurst, TX","Hutto, TX","Irving, TX","Jonesboro, Arkansas","Katy, TX","Keller, TX","Kyle, TX","La Porte, TX","Lafayette, Louisiana","Laredo, TX","League City, TX","Little Rock, Arkansas","Lockhart, TX","Louisiana","McKinney, TX","Meadows Place, TX","Mesquite, TX","Metairie, Louisiana","Midwest City, Oklahoma","Missouri City, TX","Moore, Oklahoma","Mustang, Oklahoma","New Orleans, Louisiana","Norman, Oklahoma","Oklahoma City, Oklahoma","Oklahoma","Pasadena, TX","Pearland, TX","Pecan Grove, TX","Pflugerville, TX","Plano, TX","Pleasanton, TX","Richardson, TX","Richmond, TX","Rosenberg, TX","Round Rock, TX","San Antonio, Texas","San Marcos, TX","Schertz, TX","Shawnee, Oklahoma","Shreveport, Louisiana","Socorro, Texas","Southlake, TX","Springdale, Arkansas","Stafford, TX","Taylor, TX","Texas","The Woodlands, TX","Tornillo, Texas"]},{name:"Central Region",description:"CO, MO, IA, NE, KS",locations:["Arnold, MO","Aurora, Colorado","Bellevue, Nebraska","Blue Springs, MO","Bonner Springs, Kansas","Branson, MO","Brighton, Colorado","Broomfield, Colorado","Castle Rock, Colorado","Cedar Rapids, Iowa","Chesterfield, MO","Colorado Springs, Colorado","Colorado","Columbia, MO","Commerce City, Colorado","Davenport, Iowa","Denver, Colorado","Des Moines, Iowa","Earth City, MO","Edwardsville, Kansas","Englewood, Colorado","Fenton, MO","Florissant, MO","Hazelwood, MO","Independence, MO","Iowa","Joplin, MO","Kansas City, MO","Kansas","Lakewood, Colorado","Leavenworth, Kansas","Lebanon, MO","Lee's Summit, MO","Lenexa, KS","Liberty, Missouri","Lincoln, Nebraska","Longmont, Colorado","Maryland Heights, MO","Missouri","Nebraska","O'Fallon, MO","Olathe, KS","Omaha, Nebraska","Overland Park, KS","Riverside, MO","Rolla, MO","Shawnee, Kansas","Sioux City, Iowa","St. Charles, MO","St. Joseph, MO","Thornton, Colorado","Topeka, KS","Underground Warehouses, MO","Wentzville, MO","Westminster, Colorado","Wichita, Kansas"]}],e={address:"#7 Gateway Commerce Center Dr. W, Suite 7",city:"Edwardsville, IL 62025, USA",phone:"+1(336)4596552",email:"buskelogistics141@gmail.com",hours:"Monday  Friday, 8:30 AM  5:00 PM"};return l.jsxs("div",{className:"w-full",children:[l.jsxs("section",{className:"relative py-24 bg-gradient-to-br from-[#0F1F3D] via-[#1A365D] to-[#2563EB] overflow-hidden",children:[l.jsx("div",{className:"absolute inset-0 opacity-10",children:l.jsx("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA2MCA2MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxwYXRoIGQ9Ik0zNiAxOGMzLjMxNCAwIDYgMi42ODYgNiA2cy0yLjY4NiA2LTYgNi02LTIuNjg2LTYtNiAyLjY4Ni02IDYtNnptLTEyIDEyYzMuMzE0IDAgNiAyLjY4NiA2IDZzLTIuNjg2IDYtNiA2LTYtMi42ODYtNi02IDIuNjg2LTYgNi02eiIgc3Ryb2tlPSIjZmZmIiBzdHJva2Utd2lkdGg9IjIiLz48L2c+PC9zdmc+')] "})}),l.jsx("div",{className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:l.jsxs(I.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[l.jsx("h1",{className:"text-5xl md:text-6xl font-bold text-white mb-6",children:"Buske Logistics Global Operations"}),l.jsx("p",{className:"text-xl md:text-2xl text-gray-200 max-w-3xl mx-auto",children:"40+ Locations | 7.5M+ Square Feet | Worldwide Deliveries | US, Canada & International"})]})})]}),l.jsx("section",{className:"py-24 bg-white",children:l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:l.jsxs(I.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"bg-gradient-to-br from-[#2563EB] to-[#38BDF8] rounded-2xl p-12 shadow-2xl text-white",children:[l.jsx("h2",{className:"text-4xl font-bold mb-8",children:"Corporate Headquarters"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-12",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-start gap-4 mb-6",children:[l.jsx(br,{className:"w-6 h-6 flex-shrink-0 mt-1"}),l.jsxs("div",{children:[l.jsx("div",{className:"font-semibold text-lg",children:e.address}),l.jsx("div",{className:"text-blue-100",children:e.city})]})]}),l.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[l.jsx(lo,{className:"w-6 h-6 flex-shrink-0"}),l.jsx("a",{href:`tel:${e.phone}`,className:"hover:text-blue-100 transition-colors",children:e.phone})]}),l.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[l.jsx(ls,{className:"w-6 h-6 flex-shrink-0"}),l.jsx("a",{href:`mailto:${e.email}`,className:"hover:text-blue-100 transition-colors",children:e.email})]})]}),l.jsx("div",{children:l.jsxs("div",{className:"flex items-start gap-4",children:[l.jsx(Zs,{className:"w-6 h-6 flex-shrink-0 mt-1"}),l.jsxs("div",{children:[l.jsx("div",{className:"font-semibold text-lg mb-2",children:"Business Hours"}),l.jsx("div",{className:"text-blue-100",children:e.hours})]})]})})]})]})})}),l.jsx("section",{className:"py-24 bg-gradient-to-b from-gray-50 to-white",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[l.jsxs(I.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-center mb-16",children:[l.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-[#0F1F3D] mb-4",children:"Global Distribution Network"}),l.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"With networks across North America and capability for worldwide deliveries, Buske Logistics connects your business to markets everywhere. Our international logistics partnerships enable seamless cross-border and intercontinental shipments."})]}),l.jsx("div",{className:"space-y-12",children:t.map((r,n)=>l.jsxs(I.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{delay:n*.1},viewport:{once:!0},className:"bg-white rounded-2xl shadow-lg p-8 border-l-4 border-[#2563EB] hover:shadow-2xl transition-all duration-300",children:[l.jsxs("div",{className:"mb-8",children:[l.jsx("h3",{className:"text-3xl font-bold text-[#0F1F3D] mb-2",children:r.name}),l.jsx("p",{className:"text-gray-600 text-lg",children:r.description})]}),l.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4",children:r.locations.map((s,i)=>l.jsx(I.div,{initial:{opacity:0,scale:.9},whileInView:{opacity:1,scale:1},transition:{delay:n*.1+i*.05},viewport:{once:!0},className:"bg-gradient-to-br from-[#2563EB]/5 to-[#38BDF8]/5 rounded-lg p-4 text-center border border-[#2563EB]/20 hover:border-[#2563EB] hover:shadow-md transition-all",children:l.jsx("div",{className:"font-semibold text-[#0F1F3D] text-sm mb-1",children:s})},i))})]},n))})]})}),l.jsx("section",{className:"py-24 bg-gradient-to-br from-[#0F1F3D] via-[#1A365D] to-[#0F1F3D]",children:l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-12 text-white",children:[l.jsxs(I.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-center",children:[l.jsx("div",{className:"text-5xl font-bold mb-4",children:"40+"}),l.jsx("div",{className:"text-xl text-gray-300",children:"Distribution Centers"}),l.jsx("p",{className:"text-gray-400 mt-2",children:"Across the US and Canada"})]}),l.jsxs(I.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{delay:.1},viewport:{once:!0},className:"text-center",children:[l.jsx("div",{className:"text-5xl font-bold mb-4",children:"7.5M+"}),l.jsx("div",{className:"text-xl text-gray-300",children:"Square Feet"}),l.jsx("p",{className:"text-gray-400 mt-2",children:"Of warehouse and logistics space"})]}),l.jsxs(I.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{delay:.2},viewport:{once:!0},className:"text-center",children:[l.jsx("div",{className:"text-5xl font-bold mb-4",children:"100+"}),l.jsx("div",{className:"text-xl text-gray-300",children:"Years of Service"}),l.jsx("p",{className:"text-gray-400 mt-2",children:"Founded in 1923"})]})]})})}),l.jsx("section",{className:"py-24 bg-white",children:l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:l.jsxs(I.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},children:[l.jsx("h2",{className:"text-4xl font-bold text-[#0F1F3D] mb-6",children:"Ready to Partner With Us?"}),l.jsx("p",{className:"text-xl text-gray-600 mb-8 max-w-2xl mx-auto",children:"Contact our team to discuss your logistics needs and find the perfect solution for your business."}),l.jsx("a",{href:`mailto:${e.email}`,className:"inline-block px-8 py-4 bg-gradient-to-r from-[#2563EB] to-[#38BDF8] text-white font-semibold rounded-xl hover:shadow-lg hover:shadow-blue-500/50 transition-all duration-300 hover:scale-105",children:"Contact Us Today"})]})})})]})}function sS(){const t=[{icon:co,title:"Contract Warehousing",description:"Dedicated and shared warehouse facilities tailored to your business requirements.",features:["Temperature controlled storage options","State-of-the-art inventory management systems","Flexible lease terms and scalable space","24/7 security and surveillance","Real-time inventory visibility"],benefits:["Reduce capital expenditure on facility infrastructure","Scale storage capacity based on demand","Access to prime locations nationwide","Professional warehouse management expertise"],image:"https://cdn.prod.website-files.com/65eb5e8c0ab92f839985c896/66bced8a962a20cd836bc809_E-commerce%20pick%20and%20pack%20(2).jpg"},{icon:nt,title:"Value-Added Services",description:"Specialized logistics services that transform raw goods into market-ready products.",features:["Kitting and assembly operations","Labeling and packaging customization","Retail display builds and preparation","Light assembly and configuration","Quality control and inspection"],benefits:["Accelerate time-to-market for your products","Optimize last-mile efficiency","Reduce handling and transportation costs","Enhance product presentation and customer satisfaction"],image:"https://cdn.prod.website-files.com/65eb5e8c0ab92f839985c896/66bced8a962a20cd836bc809_E-commerce%20pick%20and%20pack%20(2).jpg"},{icon:Pl,title:"Automotive Sequencing",description:"Just-in-time (JIT) delivery solutions optimized for automotive manufacturing lines.",features:["Synchronized delivery scheduling","Parts sequencing and organization","Dedicated transportation management","Precise timing coordination with production","Line-side delivery capabilities"],benefits:["Minimize inventory holding on production lines","Reduce manufacturing cycle times","Optimize space utilization","Maintain production continuity and efficiency"],image:"https://cdn.prod.website-files.com/65eb5e8c0ab92f839985c896/695d88b2dd970bb6c858c9d2_Buske%20Logistics%20-%20Interstate.jpg"},{icon:Xr,title:"International Logistics",description:"Comprehensive cross-border solutions connecting your business to global markets.",features:["Customs brokerage and documentation","Ocean and air freight services","Multi-modal transportation options","International compliance expertise","Trade agreement navigation"],benefits:["Expand into new international markets with confidence","Navigate complex customs and regulatory requirements","Optimize shipping methods for cost and speed","Access established networks across 105+ countries"],image:"https://cdn.prod.website-files.com/65eb5e8c0ab92f839985c896/673bbe8feeaca39b59ef5511_Big%20Buske%20Semi%20Truck-p-800.jpg"},{icon:Ty,title:"E-Commerce Fulfillment",description:"End-to-end fulfillment solutions designed for online retailers and direct-to-consumer brands.",features:["Order picking and packing optimization","Multi-channel order management","Returns processing and restocking","Fast and accurate order fulfillment","Branded packaging options"],benefits:["Improve order accuracy and speed","Enhance customer satisfaction with fast delivery","Scale fulfillment without adding overhead","Reduce fulfillment costs per order"],image:"https://cdn.prod.website-files.com/65eb5e8c0ab92f839985c923/67e2ff9fa7e702983a50e2bd_Exterior%20view%20of%20a%20Buske%20Logistics%20warehouse%20facility%20in%20Olive%20Branch%2C%20Mississippi%20-%2011865.jpg"},{icon:yd,title:"3PL Solutions",description:"Complete third-party logistics management for businesses of all sizes.",features:["End-to-end supply chain management","Inventory optimization and planning","Transportation and logistics coordination","Technology platform integration","Performance analytics and reporting"],benefits:["Focus on core business operations while we handle logistics","Reduce overall supply chain costs","Gain visibility into every step of the process","Access industry expertise and best practices"],image:"https://secchi.io/wp-content/smush-webp/2024/08/JCi-238.jpg.webp"}],e=[{name:"Food & Beverage",description:"Temperature-controlled solutions for perishable goods and specialty handling."},{name:"Automotive",description:"High-precision JIT delivery and sequencing for automotive manufacturers."},{name:"Aerospace & Defense",description:"Secure, compliant handling of sensitive and regulated components."},{name:"Healthcare & Pharmaceuticals",description:"Compliance-focused solutions with rigorous quality control."},{name:"Retail & E-Commerce",description:"High-volume fulfillment with exceptional accuracy and speed."},{name:"Industrial Manufacturing",description:"Complex supply chain solutions for industrial equipment and parts."}];return l.jsxs("div",{className:"w-full",children:[l.jsxs("section",{className:"relative py-24 bg-gradient-to-br from-[#0F1F3D] via-[#1A365D] to-[#2563EB] overflow-hidden",children:[l.jsx("div",{className:"absolute inset-0 opacity-10",children:l.jsx("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA2MCA2MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxwYXRoIGQ9Ik0zNiAxOGMzLjMxNCAwIDYgMi42ODYgNiA2cy0yLjY4NiA2LTYgNi02LTIuNjg2LTYtNiAyLjY4Ni02IDYtNnptLTEyIDEyYzMuMzE0IDAgNiAyLjY4NiA2IDZzLTIuNjg2IDYtNiA2LTYtMi42ODYtNi02IDIuNjg2LTYgNi02eiIgc3Ryb2tlPSIjZmZmIiBzdHJva2Utd2lkdGg9IjIiLz48L2c+PC9zdmc+')] "})}),l.jsx("div",{className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:l.jsxs(I.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[l.jsx("h1",{className:"text-5xl md:text-6xl font-bold text-white mb-6",children:"Our Solutions"}),l.jsx("p",{className:"text-xl md:text-2xl text-gray-200 max-w-3xl mx-auto",children:"Comprehensive logistics and supply chain solutions designed to optimize your operations and reduce costs across every stage of your business."})]})})]}),l.jsx("section",{className:"py-24 bg-white",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[l.jsxs(I.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-center mb-16",children:[l.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-[#0F1F3D] mb-4",children:"Core Logistics Solutions"}),l.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Leverage our expertise across all major logistics and supply chain functions."})]}),l.jsx("div",{className:"space-y-16",children:t.map((r,n)=>l.jsxs(I.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:`grid grid-cols-1 md:grid-cols-2 gap-12 items-center ${n%2===1?"md:grid-flow-dense":""}`,children:[l.jsx("div",{className:n%2===1?"md:col-start-2":"",children:l.jsx("div",{className:"aspect-[4/3] rounded-xl overflow-hidden shadow-lg",children:l.jsx("img",{src:r.image,alt:r.title,className:"w-full h-full object-cover"})})}),l.jsxs("div",{className:n%2===1?"md:col-start-1":"",children:[l.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[l.jsx("div",{className:"p-3 bg-blue-50 rounded-lg",children:l.jsx(r.icon,{className:"w-6 h-6 text-[#2563EB]"})}),l.jsx("h3",{className:"text-3xl font-bold text-[#0F1F3D]",children:r.title})]}),l.jsx("p",{className:"text-lg text-gray-600 mb-6",children:r.description}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsxs("h4",{className:"font-semibold text-[#0F1F3D] mb-3 flex items-center gap-2",children:[l.jsx(vr,{className:"w-5 h-5 text-[#10B981]"}),"Key Features"]}),l.jsx("ul",{className:"space-y-2",children:r.features.map((s,i)=>l.jsxs("li",{className:"text-sm text-gray-600 flex items-start gap-2",children:[l.jsx("span",{className:"text-[#2563EB] mt-1",children:""}),s]},i))})]}),l.jsxs("div",{children:[l.jsxs("h4",{className:"font-semibold text-[#0F1F3D] mb-3 flex items-center gap-2",children:[l.jsx(Pl,{className:"w-5 h-5 text-[#10B981]"}),"Benefits"]}),l.jsx("ul",{className:"space-y-2",children:r.benefits.map((s,i)=>l.jsxs("li",{className:"text-sm text-gray-600 flex items-start gap-2",children:[l.jsx("span",{className:"text-[#10B981] mt-1",children:""}),s]},i))})]})]})]})]},n))})]})}),l.jsx("section",{className:"py-24 bg-gradient-to-b from-gray-50 to-white",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[l.jsxs(I.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-center mb-16",children:[l.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-[#0F1F3D] mb-4",children:"Industries We Serve"}),l.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Specialized expertise across diverse industries with tailored solutions for unique challenges."})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:e.map((r,n)=>l.jsxs(I.div,{initial:{opacity:0,scale:.95},whileInView:{opacity:1,scale:1},viewport:{once:!0},transition:{delay:n*.1},className:"bg-white rounded-xl p-8 shadow-md hover:shadow-lg transition-all duration-300 border-l-4 border-[#2563EB]",children:[l.jsx("h3",{className:"text-xl font-bold text-[#0F1F3D] mb-3",children:r.name}),l.jsx("p",{className:"text-gray-600 leading-relaxed",children:r.description})]},n))})]})}),l.jsx("section",{className:"py-24 bg-white",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[l.jsxs(I.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-center mb-16",children:[l.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-[#0F1F3D] mb-4",children:"Why Partner with Buske Logistics?"}),l.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Over 100 years of expertise delivering exceptional results."})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[{title:"Proven Expertise",description:"100+ years of logistics experience across multiple industries and regions."},{title:"Scalable Solutions",description:"Grow with us - our solutions scale from startups to Fortune 500 companies."},{title:"Technology-Driven",description:"Advanced systems for visibility, tracking, and optimization across your supply chain."},{title:"Global Reach",description:"40+ locations with worldwide capability for seamless international operations."},{title:"Dedicated Support",description:"24/7 customer support and dedicated account management for your business."},{title:"Cost Optimization",description:"Strategic approach to reduce costs while maintaining service excellence."}].map((r,n)=>l.jsxs(I.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:n*.05},className:"bg-gradient-to-br from-blue-50 to-cyan-50 rounded-xl p-8 border border-blue-100",children:[l.jsx("div",{className:"w-12 h-12 bg-[#2563EB] rounded-lg flex items-center justify-center mb-4",children:l.jsx(vr,{className:"w-6 h-6 text-white"})}),l.jsx("h3",{className:"text-xl font-bold text-[#0F1F3D] mb-2",children:r.title}),l.jsx("p",{className:"text-gray-600",children:r.description})]},n))})]})}),l.jsx("section",{className:"py-24 bg-gradient-to-br from-[#0F1F3D] to-[#2563EB] text-white",children:l.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:l.jsxs(I.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},children:[l.jsx("h2",{className:"text-4xl md:text-5xl font-bold mb-6",children:"Ready to Optimize Your Logistics?"}),l.jsx("p",{className:"text-xl text-gray-100 mb-10 max-w-2xl mx-auto",children:"Let's discuss how our solutions can transform your supply chain and drive your business forward."}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[l.jsxs("button",{className:"px-8 py-4 bg-white text-[#2563EB] font-semibold rounded-xl hover:bg-gray-50 transition-all duration-300 hover:scale-105 flex items-center justify-center gap-2",children:["Get Started",l.jsx(os,{className:"w-5 h-5"})]}),l.jsx("button",{className:"px-8 py-4 bg-white/10 backdrop-blur-sm text-white font-semibold rounded-xl border border-white/20 hover:bg-white/20 transition-all duration-300",children:"Schedule Demo"})]})]})})})]})}function iS(){const[t,e]=w.useState(""),[r,n]=w.useState(""),[s,i]=w.useState(!1),[a,o]=w.useState(!1),[c,u]=w.useState(!1),d=At(),h=f=>{f.preventDefault(),o(!0),setTimeout(()=>{o(!1),u(!0)},1500)};return c?l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-gray-50 to-white py-12 px-4 sm:px-6 lg:px-8",children:l.jsxs(I.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full max-w-md",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsx(De,{to:"/",className:"inline-flex items-center gap-3 mb-6",children:l.jsx("div",{className:"w-16 h-16 rounded-full bg-gradient-to-br from-[#2563EB] to-[#38BDF8] flex items-center justify-center shadow-xl",children:l.jsx(nt,{className:"w-8 h-8 text-white"})})}),l.jsx("h1",{className:"text-3xl font-bold text-[#0F1F3D] mb-2",children:"Welcome Back"}),l.jsx("p",{className:"text-gray-600",children:"Sign in to access your Global-Go account"})]}),l.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-200 p-8 text-center",children:[l.jsx("p",{className:"text-2xl font-semibold text-gray-800 mb-4",children:"Account not found."}),l.jsxs("div",{className:"flex justify-center gap-4",children:[l.jsx("button",{onClick:()=>d("/"),className:"px-4 py-2 bg-gray-300 rounded-md",children:"Back to Home"}),l.jsx("button",{onClick:()=>d("/signup"),className:"px-4 py-2 bg-green-500 text-white rounded-md",children:"Or Sign Up"})]})]}),l.jsx("div",{className:"text-center mt-6",children:l.jsx(De,{to:"/",className:"text-sm text-gray-600 hover:text-[#2563EB] transition-colors",children:" Back to Home"})})]})}):l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-gray-50 to-white py-12 px-4 sm:px-6 lg:px-8",children:l.jsxs(I.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full max-w-md",children:[l.jsx("img",{src:"https://s.yimg.com/os/en/business-wire.com/fcbdfe0b84b9e2dd88d0c343ca781ba4",alt:"Buske Logistics logo",style:{maxWidth:"180px",margin:"0 auto",display:"block"}}),l.jsxs("div",{className:"text-center mb-8",children:[l.jsx(De,{to:"/",className:"inline-flex items-center gap-3 mb-6",children:l.jsx("div",{className:"w-16 h-16 rounded-full bg-gradient-to-br from-[#2563EB] to-[#38BDF8] flex items-center justify-center shadow-xl",children:l.jsx(nt,{className:"w-8 h-8 text-white"})})}),l.jsx("h1",{className:"text-3xl font-bold text-[#0F1F3D] mb-2",children:"Welcome Back"}),l.jsx("p",{className:"text-gray-600",children:"Sign in to access your Buske Logistics account"})]}),l.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-200 p-8",children:[l.jsxs("form",{onSubmit:h,className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:l.jsx(ls,{className:"h-5 w-5 text-gray-400"})}),l.jsx("input",{id:"email",type:"email",value:t,onChange:f=>e(f.target.value),required:!0,className:"block w-full pl-12 pr-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-[#2563EB] focus:border-transparent transition-all",placeholder:"you@example.com"})]})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:l.jsx(da,{className:"h-5 w-5 text-gray-400"})}),l.jsx("input",{id:"password",type:s?"text":"password",value:r,onChange:f=>n(f.target.value),required:!0,className:"block w-full pl-12 pr-12 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-[#2563EB] focus:border-transparent transition-all",placeholder:"Enter your password"}),l.jsx("button",{type:"button",onClick:()=>i(!s),className:"absolute inset-y-0 right-0 pr-4 flex items-center",children:s?l.jsx(ua,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"}):l.jsx(Qs,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"})})]})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx("input",{id:"remember-me",type:"checkbox",className:"h-4 w-4 rounded border-gray-300 text-[#2563EB] focus:ring-[#2563EB]"}),l.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-700",children:"Remember me"})]}),l.jsx("button",{type:"button",className:"text-sm font-medium text-[#2563EB] hover:text-[#1D4ED8] transition-colors",children:"Forgot password?"})]}),l.jsx("button",{type:"submit",disabled:a,className:"w-full py-3 px-4 bg-gradient-to-r from-[#2563EB] to-[#38BDF8] text-white font-semibold rounded-xl hover:shadow-lg hover:shadow-blue-500/50 transition-all duration-300 disabled:opacity-50 flex items-center justify-center gap-2",children:a?l.jsx(l.Fragment,{children:"Signing in..."}):l.jsxs(l.Fragment,{children:["Sign In",l.jsx(os,{className:"w-5 h-5"})]})})]}),l.jsxs("div",{className:"relative my-8",children:[l.jsx("div",{className:"absolute inset-0 flex items-center",children:l.jsx("div",{className:"w-full border-t border-gray-200"})}),l.jsx("div",{className:"relative flex justify-center text-sm",children:l.jsx("span",{className:"px-4 bg-white text-gray-500",children:"Don't have an account?"})})]}),l.jsx(De,{to:"/signup",className:"block w-full py-3 px-4 bg-white text-[#0F1F3D] font-semibold rounded-xl border-2 border-gray-200 hover:border-[#2563EB] hover:bg-gray-50 transition-all duration-300 text-center",children:"Create Account"})]}),l.jsx("div",{className:"text-center mt-6",children:l.jsx(De,{to:"/",className:"text-sm text-gray-600 hover:text-[#2563EB] transition-colors",children:" Back to Home"})})]})})}function aS(){const[t,e]=w.useState({fullName:"",email:"",password:"",confirmPassword:""}),[r,n]=w.useState(!1),[s,i]=w.useState(!1),[a,o]=w.useState(!1),[c,u]=w.useState(!1),d=At(),h=y=>{e({...t,[y.target.name]:y.target.value})},f=y=>{if(y.preventDefault(),t.password!==t.confirmPassword){alert("Passwords do not match!");return}o(!0),setTimeout(()=>{o(!1),u(!0)},1500)},p=(y=>y.length===0?0:y.length<6?25:y.length<10?50:y.length<12?75:100)(t.password);return c?l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-gray-50 to-white py-12 px-4 sm:px-6 lg:px-8",children:l.jsxs(I.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full max-w-md",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsx(De,{to:"/",className:"inline-flex items-center gap-3 mb-6",children:l.jsx("div",{className:"w-16 h-16 rounded-full bg-gradient-to-br from-[#2563EB] to-[#38BDF8] flex items-center justify-center shadow-xl",children:l.jsx(nt,{className:"w-8 h-8 text-white"})})}),l.jsx("h1",{className:"text-3xl font-bold text-[#0F1F3D] mb-2",children:"Create Your Account"}),l.jsx("p",{className:"text-gray-600",children:"Join Global-Go and start shipping worldwide"})]}),l.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-200 p-8 text-center",children:[l.jsx("p",{className:"text-2xl font-semibold text-gray-800 mb-4",children:"Error creating account. Please start again."}),l.jsx("button",{onClick:()=>d("/"),className:"px-4 py-2 bg-gray-300 rounded-md",children:"Back to Home"})]}),l.jsx("div",{className:"text-center mt-6",children:l.jsx(De,{to:"/",className:"text-sm text-gray-600 hover:text-[#2563EB] transition-colors",children:" Back to Home"})})]})}):l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-gray-50 to-white py-12 px-4 sm:px-6 lg:px-8",children:l.jsxs(I.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full max-w-md",children:[l.jsx("img",{src:"https://s.yimg.com/os/en/business-wire.com/fcbdfe0b84b9e2dd88d0c343ca781ba4",alt:"Buske Logistics logo",style:{maxWidth:"180px",margin:"0 auto",display:"block"}}),l.jsxs("div",{className:"text-center mb-8",children:[l.jsx(De,{to:"/",className:"inline-flex items-center gap-3 mb-6",children:l.jsx("div",{className:"w-16 h-16 rounded-full bg-gradient-to-br from-[#2563EB] to-[#38BDF8] flex items-center justify-center shadow-xl",children:l.jsx(nt,{className:"w-8 h-8 text-white"})})}),l.jsx("h1",{className:"text-3xl font-bold text-[#0F1F3D] mb-2",children:"Create Your Account"}),l.jsx("p",{className:"text-gray-600",children:"Join Buske Logistics and start shipping worldwide"})]}),l.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-200 p-8",children:[l.jsxs("form",{onSubmit:f,className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"fullName",className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name"}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:l.jsx(By,{className:"h-5 w-5 text-gray-400"})}),l.jsx("input",{id:"fullName",name:"fullName",type:"text",value:t.fullName,onChange:h,required:!0,className:"block w-full pl-12 pr-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-[#2563EB] focus:border-transparent transition-all",placeholder:"John Doe"}),t.fullName&&l.jsx("div",{className:"absolute inset-y-0 right-0 pr-4 flex items-center",children:l.jsx(vr,{className:"h-5 w-5 text-[#10B981]"})})]})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:l.jsx(ls,{className:"h-5 w-5 text-gray-400"})}),l.jsx("input",{id:"email",name:"email",type:"email",value:t.email,onChange:h,required:!0,className:"block w-full pl-12 pr-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-[#2563EB] focus:border-transparent transition-all",placeholder:"you@example.com"}),t.email&&l.jsx("div",{className:"absolute inset-y-0 right-0 pr-4 flex items-center",children:l.jsx(vr,{className:"h-5 w-5 text-[#10B981]"})})]})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:l.jsx(da,{className:"h-5 w-5 text-gray-400"})}),l.jsx("input",{id:"password",name:"password",type:r?"text":"password",value:t.password,onChange:h,required:!0,className:"block w-full pl-12 pr-12 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-[#2563EB] focus:border-transparent transition-all",placeholder:"Create a strong password"}),l.jsx("button",{type:"button",onClick:()=>n(!r),className:"absolute inset-y-0 right-0 pr-4 flex items-center",children:r?l.jsx(ua,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"}):l.jsx(Qs,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"})})]}),t.password&&l.jsxs("div",{className:"mt-2",children:[l.jsxs("div",{className:"flex items-center justify-between mb-1",children:[l.jsx("span",{className:"text-xs text-gray-500",children:"Password strength"}),l.jsx("span",{className:`text-xs font-medium ${p<50?"text-[#EF4444]":p<75?"text-[#F59E0B]":"text-[#10B981]"}`,children:p<50?"Weak":p<75?"Medium":"Strong"})]}),l.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:l.jsx(I.div,{className:"bg-gradient-to-r from-[#2563EB] to-[#38BDF8] h-2 rounded-full",initial:{width:0},animate:{width:`${Object.values(t).filter(y=>y).length/4*100}%`},transition:{duration:.3}})})]})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm Password"}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:l.jsx(da,{className:"h-5 w-5 text-gray-400"})}),l.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:s?"text":"password",value:t.confirmPassword,onChange:h,required:!0,className:"block w-full pl-12 pr-12 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-[#2563EB] focus:border-transparent transition-all",placeholder:"Re-enter your password"}),l.jsx("button",{type:"button",onClick:()=>i(!s),className:"absolute inset-y-0 right-0 pr-4 flex items-center",children:s?l.jsx(ua,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"}):l.jsx(Qs,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"})})]}),t.confirmPassword&&l.jsx("div",{className:"mt-2",children:t.password===t.confirmPassword?l.jsxs("p",{className:"text-xs text-[#10B981] flex items-center gap-1",children:[l.jsx(vr,{className:"w-4 h-4"}),"Passwords match"]}):l.jsx("p",{className:"text-xs text-[#EF4444]",children:"Passwords do not match"})})]}),l.jsxs("div",{className:"flex items-start",children:[l.jsx("input",{id:"terms",type:"checkbox",required:!0,className:"h-4 w-4 mt-0.5 rounded border-gray-300 text-[#2563EB] focus:ring-[#2563EB]"}),l.jsxs("label",{htmlFor:"terms",className:"ml-2 block text-sm text-gray-700",children:["I agree to the"," ",l.jsx("a",{href:"#",className:"text-[#2563EB] hover:text-[#1D4ED8]",children:"Terms of Service"})," ","and"," ",l.jsx("a",{href:"#",className:"text-[#2563EB] hover:text-[#1D4ED8]",children:"Privacy Policy"})]})]}),l.jsx("button",{type:"submit",disabled:a||t.password!==t.confirmPassword,className:"w-full py-3 px-4 bg-gradient-to-r from-[#2563EB] to-[#38BDF8] text-white font-semibold rounded-xl hover:shadow-lg hover:shadow-blue-500/50 transition-all duration-300 disabled:opacity-50 flex items-center justify-center gap-2",children:a?l.jsx(l.Fragment,{children:"Creating Account..."}):l.jsxs(l.Fragment,{children:["Create Account",l.jsx(os,{className:"w-5 h-5"})]})})]}),l.jsxs("div",{className:"relative my-8",children:[l.jsx("div",{className:"absolute inset-0 flex items-center",children:l.jsx("div",{className:"w-full border-t border-gray-200"})}),l.jsx("div",{className:"relative flex justify-center text-sm",children:l.jsx("span",{className:"px-4 bg-white text-gray-500",children:"Already have an account?"})})]}),l.jsx(De,{to:"/signin",className:"block w-full py-3 px-4 bg-white text-[#0F1F3D] font-semibold rounded-xl border-2 border-gray-200 hover:border-[#2563EB] hover:bg-gray-50 transition-all duration-300 text-center",children:"Sign In Instead"})]}),l.jsx("div",{className:"text-center mt-6",children:l.jsx(De,{to:"/",className:"text-sm text-gray-600 hover:text-[#2563EB] transition-colors",children:" Back to Home"})})]})})}function oS(){return l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-gray-50 to-white px-4",children:l.jsxs(I.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center max-w-lg",children:[l.jsxs("div",{className:"mb-8",children:[l.jsx("div",{className:"w-32 h-32 bg-gradient-to-br from-[#2563EB] to-[#38BDF8] rounded-2xl flex items-center justify-center mx-auto mb-6 shadow-2xl",children:l.jsx(hy,{className:"w-16 h-16 text-white"})}),l.jsx("h1",{className:"text-6xl font-bold text-[#0F1F3D] mb-4",children:"404"}),l.jsx("h2",{className:"text-3xl font-semibold text-gray-800 mb-4",children:"Page Not Found"}),l.jsx("p",{className:"text-xl text-gray-600 mb-8",children:"Looks like this package got lost in transit. Let's get you back on track!"})]}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[l.jsxs(De,{to:"/",className:"px-8 py-3 bg-gradient-to-r from-[#2563EB] to-[#38BDF8] text-white font-semibold rounded-xl hover:shadow-lg hover:shadow-blue-500/50 transition-all duration-300 flex items-center justify-center gap-2",children:[l.jsx(Qg,{className:"w-5 h-5"}),"Go Home"]}),l.jsxs("button",{onClick:()=>window.history.back(),className:"px-8 py-3 bg-white text-[#0F1F3D] font-semibold rounded-xl border-2 border-gray-200 hover:border-[#2563EB] hover:bg-gray-50 transition-all duration-300 flex items-center justify-center gap-2",children:[l.jsx(hd,{className:"w-5 h-5"}),"Go Back"]})]})]})})}const lS=()=>{const{isAdmin:t}=w.useContext(an);return t?l.jsx(ad,{}):l.jsx(oS,{})};function cS(){const{shipments:t,deleteShipment:e,loading:r}=w.useContext(an),n=At(),[s,i]=w.useState(null),[a,o]=w.useState(""),[c,u]=w.useState("all"),[d,h]=w.useState(Date.now());w.useEffect(()=>{const g=setInterval(()=>h(Date.now()),1e3);return()=>clearInterval(g)},[]);const f=t.filter(g=>{var k,S;const v=((k=g.packageName)==null?void 0:k.toLowerCase().includes(a.toLowerCase()))||g.id.toLowerCase().includes(a.toLowerCase())||((S=g.senderName)==null?void 0:S.toLowerCase().includes(a.toLowerCase())),x=c==="all"||c==="active"&&!g.stopped&&!g.paused||c==="paused"&&g.paused&&!g.stopped||c==="stopped"&&g.stopped;return v&&x}),m={total:t.length,active:t.filter(g=>!g.stopped&&!g.paused).length,paused:t.filter(g=>g.paused&&!g.stopped).length,stopped:t.filter(g=>g.stopped).length},p=g=>{navigator.clipboard.writeText(g),i(g),setTimeout(()=>i(null),2e3)},y=g=>g.stopped?{bg:"bg-red-50",text:"text-red-700",badge:"bg-red-100 text-red-800"}:g.paused?{bg:"bg-yellow-50",text:"text-yellow-700",badge:"bg-yellow-100 text-yellow-800"}:{bg:"bg-green-50",text:"text-green-700",badge:"bg-green-100 text-green-800"},b=g=>g.stopped?"Stopped":g.paused?"Paused":"Active";return l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 pt-24 pb-12",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-8",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-4xl font-bold text-[#0F1F3D]",children:"Admin Dashboard"}),l.jsx("p",{className:"text-gray-600 mt-2",children:"Manage and track all shipments"})]}),l.jsxs(I.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>n("/admin/new"),className:"flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-[#2563EB] to-[#38BDF8] text-white rounded-lg font-semibold hover:shadow-lg transition-all",children:[l.jsx(by,{className:"w-5 h-5"}),"New Shipment"]})]}),l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:[{label:"Total Shipments",value:m.total,icon:nt,color:"from-blue-500 to-blue-600"},{label:"Active",value:m.active,icon:$n,color:"from-green-500 to-green-600"},{label:"Paused",value:m.paused,icon:Al,color:"from-yellow-500 to-yellow-600"},{label:"Stopped",value:m.stopped,icon:Al,color:"from-red-500 to-red-600"}].map((g,v)=>l.jsx(I.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:v*.1},className:`bg-gradient-to-br ${g.color} rounded-xl p-6 text-white shadow-lg`,children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-white/80 text-sm font-medium",children:g.label}),l.jsx("p",{className:"text-4xl font-bold mt-2",children:g.value})]}),l.jsx(g.icon,{className:"w-12 h-12 opacity-30"})]})},v))}),l.jsx(I.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-lg shadow-md p-4 mb-6 border border-gray-200",children:l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[l.jsxs("div",{className:"flex-1 relative",children:[l.jsx(md,{className:"absolute left-3 top-3 w-5 h-5 text-gray-400"}),l.jsx("input",{type:"text",placeholder:"Search by package name, ID, or sender...",value:a,onChange:g=>o(g.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#2563EB]"})]}),l.jsxs("div",{className:"flex gap-2 sm:flex-1 lg:flex-none",children:[l.jsx(Kg,{className:"w-5 h-5 text-gray-500 my-auto"}),l.jsx("div",{className:"flex gap-2",children:["all","active","paused","stopped"].map(g=>l.jsx("button",{onClick:()=>u(g),className:`px-4 py-2 rounded-lg font-medium transition-all ${c===g?"bg-[#2563EB] text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:g.charAt(0).toUpperCase()+g.slice(1)},g))})]})]})}),l.jsxs("div",{className:"space-y-4",children:[r&&l.jsxs("div",{className:"text-center py-12",children:[l.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-[#2563EB]"}),l.jsx("p",{className:"text-gray-600 mt-4",children:"Loading shipments..."})]}),!r&&f.length===0?l.jsxs("div",{className:"bg-white rounded-xl shadow-md p-12 text-center border border-gray-200",children:[l.jsx(nt,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),l.jsx("p",{className:"text-gray-600 text-lg font-medium",children:"No shipments found"}),l.jsx("p",{className:"text-gray-500 mt-2",children:a||c!=="all"?"Try adjusting your search or filters.":"Create your first shipment to get started."})]}):f.map((g,v)=>{var S;const x=y(g),k=g.countdownStartTime&&g.countdownDuration?Wf(g.countdownStartTime,new Date(new Date(g.countdownStartTime).getTime()+(g.countdownDuration||0)*1e3).toISOString()):0;return l.jsx(I.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:v*.05},className:`${x.bg} rounded-xl shadow-md hover:shadow-lg transition-all border border-gray-200 overflow-hidden`,children:l.jsx("div",{className:"p-6",children:l.jsxs("div",{className:"flex flex-col lg:flex-row justify-between gap-4",children:[l.jsxs("div",{className:"flex-1 space-y-3",children:[l.jsx("div",{className:"flex items-center gap-3",children:l.jsxs("div",{className:"flex-1",children:[l.jsx("h3",{className:"text-xl font-bold text-[#0F1F3D]",children:g.packageName||"Unnamed Package"}),l.jsx("div",{className:`inline-block px-3 py-1 rounded-full text-xs font-semibold ${x.badge} mt-2`,children:b(g)})]})}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-gray-600 font-medium",children:"From"}),l.jsx("p",{className:"text-[#0F1F3D] font-semibold truncate",children:g.senderName||"N/A"})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-gray-600 font-medium",children:"To"}),l.jsx("p",{className:"text-[#0F1F3D] font-semibold truncate",children:g.receiverName||"N/A"})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-gray-600 font-medium",children:"Transport"}),l.jsx("p",{className:"text-[#0F1F3D] font-semibold",children:g.transportation||"N/A"})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-gray-600 font-medium",children:"Cost"}),l.jsxs("p",{className:"text-[#0F1F3D] font-semibold",children:["$",((S=g.cost)==null?void 0:S.toFixed(2))||"0.00"]})]})]}),l.jsxs("div",{className:"flex items-center gap-2 pt-2",children:[l.jsxs("span",{className:"text-xs text-gray-600 font-mono bg-white/50 px-3 py-1 rounded",children:["ID: ",g.id.slice(0,12),"..."]}),l.jsx("button",{onClick:()=>p(g.id),className:"p-1 hover:bg-white/50 rounded transition-colors",children:s===g.id?l.jsx(Fg,{className:"w-4 h-4 text-green-600"}):l.jsx(fd,{className:"w-4 h-4 text-gray-500"})})]}),g.countdownStartTime&&g.countdownDuration&&l.jsxs("div",{className:"pt-2",children:[l.jsxs("div",{className:"flex justify-between items-center mb-1",children:[l.jsx("span",{className:"text-xs font-medium text-gray-700",children:"Progress"}),l.jsxs("span",{className:"text-xs font-semibold text-gray-700",children:[k,"%"]})]}),l.jsx("div",{className:"w-full h-2 bg-white/60 rounded-full overflow-hidden",children:l.jsx(I.div,{className:"h-full bg-gradient-to-r from-[#2563EB] to-[#38BDF8]",initial:{width:0},animate:{width:`${k}%`},transition:{duration:.5}})})]}),g.checkpoints&&g.checkpoints.length>0&&l.jsxs("div",{className:"pt-2",children:[l.jsxs("p",{className:"text-xs font-medium text-gray-700 mb-2",children:["Route (",g.checkpoints.length," stops)"]}),l.jsx("div",{className:"flex h-3 gap-1 rounded-full overflow-hidden bg-white/40",children:g.checkpoints.map((T,_)=>l.jsx("div",{className:`flex-1 ${_<=(g.currentCheckpointIndex||0)?"bg-gradient-to-r from-[#2563EB] to-[#38BDF8]":"bg-white/50"}`,title:T.location},T.id))})]})]}),l.jsxs("div",{className:"flex gap-2 lg:flex-col justify-end",children:[l.jsxs(I.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>n(`/admin/view/${g.id}`),className:"flex items-center gap-2 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors",children:[l.jsx(Qs,{className:"w-4 h-4"}),l.jsx("span",{className:"hidden sm:inline",children:"View"})]}),l.jsxs(I.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>n(`/admin/edit/${g.id}`),className:"flex items-center gap-2 px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors",children:[l.jsx(py,{className:"w-4 h-4"}),l.jsx("span",{className:"hidden sm:inline",children:"Edit"})]}),l.jsxs(I.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{window.confirm("Are you sure you want to delete this shipment?")&&e(g.id)},className:"flex items-center gap-2 px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors",children:[l.jsx(Iy,{className:"w-4 h-4"}),l.jsx("span",{className:"hidden sm:inline",children:"Delete"})]})]})]})})},g.id)})]})]})})}const Au=["Air Freight","Ocean Cargo","Land Transport","Door-to-Door Delivery"];function Pu(){var _,j,E,D,M,$,F,X,le,re,G,P,ue,fe;const{shipments:t,addShipment:e,updateShipment:r,error:n,clearError:s}=w.useContext(an),i=At(),{id:a}=nd(),o=t.find(q=>q.id===a)||null,c={id:o?o.id:crypto.randomUUID(),senderName:(o==null?void 0:o.senderName)||"",senderPhone:(o==null?void 0:o.senderPhone)||"",receiverName:(o==null?void 0:o.receiverName)||"",receiverPhone:(o==null?void 0:o.receiverPhone)||"",receiverEmail:(o==null?void 0:o.receiverEmail)||"",pickupLocation:(o==null?void 0:o.pickupLocation)||"",deliveryAddress:(o==null?void 0:o.deliveryAddress)||"",transportation:(o==null?void 0:o.transportation)||Au[0],packageName:(o==null?void 0:o.packageName)||"",images:o!=null&&o.images&&Array.isArray(o.images)?o.images:["","",""],cost:((_=o==null?void 0:o.cost)==null?void 0:_.toString())||"",paid:(o==null?void 0:o.paid)||!1,vehiclesCount:(o==null?void 0:o.vehiclesCount)||"",vehicleType:(o==null?void 0:o.vehicleType)||"",driverName:(o==null?void 0:o.driverName)||"",driverExperience:(o==null?void 0:o.driverExperience)||"",countdownDuration:((j=o==null?void 0:o.countdownDuration)==null?void 0:j.toString())||"24",checkpoint_1:((E=o==null?void 0:o.checkpoints[0])==null?void 0:E.location)||"",checkpoint_2:((D=o==null?void 0:o.checkpoints[1])==null?void 0:D.location)||"",checkpoint_3:((M=o==null?void 0:o.checkpoints[2])==null?void 0:M.location)||"",checkpoint_4:(($=o==null?void 0:o.checkpoints[3])==null?void 0:$.location)||"",checkpoint_5:((F=o==null?void 0:o.checkpoints[4])==null?void 0:F.location)||"",checkpoint_6:((X=o==null?void 0:o.checkpoints[5])==null?void 0:X.location)||"",checkpoint_7:((le=o==null?void 0:o.checkpoints[6])==null?void 0:le.location)||"",checkpoint_8:((re=o==null?void 0:o.checkpoints[7])==null?void 0:re.location)||"",checkpoint_9:((G=o==null?void 0:o.checkpoints[8])==null?void 0:G.location)||"",checkpoint_10:((P=o==null?void 0:o.checkpoints[9])==null?void 0:P.location)||"",checkpoint_11:((ue=o==null?void 0:o.checkpoints[10])==null?void 0:ue.location)||"",checkpoint_12:((fe=o==null?void 0:o.checkpoints[11])==null?void 0:fe.location)||""},[u,d]=w.useState(c),[h,f]=w.useState(null),[m,p]=w.useState(!1),[y,b]=w.useState(null),[g,v]=w.useState(!1);w.useEffect(()=>{s()},[s]),w.useEffect(()=>{o&&d(c)},[o]);const x=q=>{const{name:de,value:ie,type:se,checked:ge,files:ke}=q.target;d(se==="checkbox"?Q=>({...Q,[de]:ge}):se==="file"?Q=>({...Q,[de]:ke}):Q=>({...Q,[de]:ie}))},k=async q=>{var be,Le;if(q.preventDefault(),g)return;v(!0),b(null),console.log("=== FORM SUBMISSION STARTED ===");const de=[{key:"senderName",label:"Sender Name"},{key:"senderPhone",label:"Sender Phone"},{key:"receiverName",label:"Receiver Name"},{key:"receiverPhone",label:"Receiver Phone"},{key:"receiverEmail",label:"Receiver Email"},{key:"pickupLocation",label:"Pickup Location"},{key:"deliveryAddress",label:"Delivery Address"},{key:"packageName",label:"Package Name"}];for(const ee of de){const pe=(be=u[ee.key])==null?void 0:be.toString().trim();if(console.log(`Checking ${ee.key}:`,pe),!pe){const O=`${ee.label} is required`;console.error("Validation failed:",O),b(O),v(!1);return}}console.log(" All required fields valid");const ie=[];for(let ee=1;ee<=12;ee++){const pe=(Le=u[`checkpoint_${ee}`])==null?void 0:Le.trim();pe&&ie.push(pe)}if(console.log("Checkpoints count:",ie.length),ie.length<5){const ee="Please provide at least 5 checkpoint locations";console.error("Validation failed:",ee),b(ee),v(!1);return}if(ie.length>12){const ee="Maximum 12 checkpoint locations allowed";console.error("Validation failed:",ee),b(ee),v(!1);return}console.log(" Checkpoint validation passed");const se=(u.images||[]).filter(ee=>ee&&ee.trim()!=="");if(se.length<3){const ee="Please provide at least 3 product image URLs (minimum 3, maximum 6)";console.error("Validation failed:",ee),b(ee),v(!1);return}if(se.length>6){const ee="Maximum 6 product image URLs allowed (minimum 3, maximum 6)";console.error("Validation failed:",ee),b(ee),v(!1);return}const ge=/^https?:\/\//i;if(se.some(ee=>!ge.test(ee))){b("All product image URLs must be valid (start with http or https)"),v(!1);return}console.log(" Image URL validation passed:",se.length,"images");const ke=ie.map(ee=>({id:crypto.randomUUID(),location:ee})),Q={id:u.id,senderName:u.senderName,senderPhone:u.senderPhone,receiverName:u.receiverName,receiverPhone:u.receiverPhone,receiverEmail:u.receiverEmail,pickupLocation:u.pickupLocation,deliveryAddress:u.deliveryAddress,transportation:u.transportation,packageName:u.packageName,images:se,cost:parseFloat(u.cost)||0,paid:u.paid,checkpoints:ke,vehiclesCount:u.vehiclesCount?parseInt(u.vehiclesCount,10):void 0,vehicleType:u.vehicleType,driverName:u.driverName,driverExperience:u.driverExperience,countdownDuration:u.countdownDuration?parseInt(u.countdownDuration,10):24,countdownStartTime:(o==null?void 0:o.countdownStartTime)||new Date().toISOString()};console.log("Data prepared:",{...Q,id:Q.id,checkpointCount:Q.checkpoints.length});try{o?(console.log("Updating existing shipment:",o.id),await r(o.id,Q),s(),i("/admin")):(console.log("Creating new shipment..."),await e(Q),console.log(" Shipment created, setting tracking ID:",Q.id),s(),f(Q.id))}catch(ee){const pe=ee instanceof Error?ee.message:"Failed to submit form. Please try again.";b(pe),console.error("Form submission error:",ee)}finally{v(!1)}},S=()=>{h&&(navigator.clipboard.writeText(h),p(!0),setTimeout(()=>p(!1),2e3))},T=u.transportation==="Land Transport";return h?l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-blue-50 flex items-center justify-center py-12 px-4",children:l.jsxs(I.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"max-w-md w-full bg-white rounded-2xl shadow-2xl p-8 text-center",children:[l.jsx("div",{className:"w-20 h-20 rounded-full bg-gradient-to-br from-green-400 to-blue-500 flex items-center justify-center mx-auto mb-6 shadow-lg",children:l.jsx(vr,{className:"w-12 h-12 text-white"})}),l.jsx("h2",{className:"text-3xl font-bold text-[#0F1F3D] mb-2",children:"Shipment Created!"}),l.jsx("p",{className:"text-gray-600 mb-6",children:"Your tracking ID has been generated and is ready to share."}),l.jsxs("div",{className:"bg-gray-50 border-2 border-[#2563EB] rounded-lg p-4 mb-6",children:[l.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Tracking ID:"}),l.jsx("p",{className:"text-2xl font-bold text-[#0F1F3D] break-all",children:h})]}),l.jsxs("button",{onClick:S,className:"w-full flex items-center justify-center gap-2 px-6 py-3 bg-[#2563EB] text-white font-semibold rounded-lg hover:bg-[#1e4a9b] transition-all duration-300 mb-4",children:[l.jsx(fd,{className:"w-5 h-5"}),m?"Copied to Clipboard!":"Copy Tracking ID"]}),l.jsx("button",{onClick:()=>i("/admin"),className:"w-full px-6 py-3 bg-gray-200 text-gray-700 font-semibold rounded-lg hover:bg-gray-300 transition-all duration-300",children:"Back to Dashboard"})]})}):l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 py-12 pt-24",children:l.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:[l.jsxs(I.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-8",children:[l.jsx("h1",{className:"text-4xl font-bold text-[#0F1F3D] mb-2",children:o?" Edit Shipment":" Create New Shipment"}),l.jsx("p",{className:"text-gray-600",children:"Fill in the shipment details below to get started"})]}),l.jsxs(I.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-2xl shadow-xl overflow-hidden",children:[l.jsx("div",{className:"bg-gradient-to-r from-[#2563EB] to-[#38BDF8] px-8 py-6",children:l.jsx("h2",{className:"text-2xl font-bold text-white",children:"Shipment Information"})}),l.jsxs("form",{onSubmit:k,className:"p-8",children:[(y||n)&&l.jsxs(I.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-6 p-4 bg-red-50 border-l-4 border-red-500 rounded-lg text-red-700 font-medium",children:[" ",y||n]}),l.jsxs("div",{className:"space-y-8",children:[l.jsxs("div",{children:[l.jsxs("h3",{className:"text-lg font-semibold text-[#0F1F3D] mb-4 flex items-center gap-2",children:[l.jsx("span",{className:"text-2xl",children:""})," Sender Information"]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsxs("label",{htmlFor:"senderName",className:"block text-sm font-semibold text-gray-700 mb-2",children:["Full Name ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{id:"senderName",name:"senderName",placeholder:"John Doe",value:u.senderName,onChange:x,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#2563EB] focus:border-transparent transition-all"})]}),l.jsxs("div",{children:[l.jsxs("label",{htmlFor:"senderPhone",className:"block text-sm font-semibold text-gray-700 mb-2",children:["Phone Number ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{id:"senderPhone",name:"senderPhone",placeholder:"+1 (555) 000-0000",value:u.senderPhone,onChange:x,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#2563EB] focus:border-transparent transition-all"})]})]})]}),l.jsxs("div",{children:[l.jsxs("h3",{className:"text-lg font-semibold text-[#0F1F3D] mb-4 flex items-center gap-2",children:[l.jsx("span",{className:"text-2xl",children:""})," Receiver Information"]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsxs("label",{htmlFor:"receiverName",className:"block text-sm font-semibold text-gray-700 mb-2",children:["Full Name ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{id:"receiverName",name:"receiverName",placeholder:"Jane Smith",value:u.receiverName,onChange:x,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#2563EB] focus:border-transparent transition-all"})]}),l.jsxs("div",{children:[l.jsxs("label",{htmlFor:"receiverPhone",className:"block text-sm font-semibold text-gray-700 mb-2",children:["Phone Number ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{id:"receiverPhone",name:"receiverPhone",placeholder:"+1 (555) 000-0000",value:u.receiverPhone,onChange:x,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#2563EB] focus:border-transparent transition-all"})]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsxs("label",{htmlFor:"receiverEmail",className:"block text-sm font-semibold text-gray-700 mb-2",children:["Email Address ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{id:"receiverEmail",type:"email",name:"receiverEmail",placeholder:"jane@example.com",value:u.receiverEmail,onChange:x,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#2563EB] focus:border-transparent transition-all"})]})]})]}),l.jsxs("div",{children:[l.jsxs("h3",{className:"text-lg font-semibold text-[#0F1F3D] mb-4 flex items-center gap-2",children:[l.jsx("span",{className:"text-2xl",children:""})," Location Information"]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsxs("label",{htmlFor:"pickupLocation",className:"block text-sm font-semibold text-gray-700 mb-2",children:["Pickup/Takeoff Location ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{id:"pickupLocation",name:"pickupLocation",placeholder:"e.g., Warehouse A, Port of Charlotte, Airport Terminal",value:u.pickupLocation,onChange:x,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#2563EB] focus:border-transparent transition-all"}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Where the package originates from"})]}),l.jsxs("div",{children:[l.jsxs("label",{htmlFor:"deliveryAddress",className:"block text-sm font-semibold text-gray-700 mb-2",children:["Delivery Address ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{id:"deliveryAddress",name:"deliveryAddress",placeholder:"Final destination",value:u.deliveryAddress,onChange:x,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#2563EB] focus:border-transparent transition-all"}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Final delivery destination"})]})]})]}),l.jsxs("div",{children:[l.jsxs("h3",{className:"text-lg font-semibold text-[#0F1F3D] mb-4 flex items-center gap-2",children:[l.jsx("span",{className:"text-2xl",children:""})," Shipment Details"]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsxs("label",{htmlFor:"packageName",className:"block text-sm font-semibold text-gray-700 mb-2",children:["Package Name(s) ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{id:"packageName",name:"packageName",placeholder:"e.g., Electronics, Documents, Fragile Items",value:u.packageName,onChange:x,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#2563EB] focus:border-transparent transition-all"})]}),l.jsxs("div",{children:[l.jsxs("label",{htmlFor:"transportation",className:"block text-sm font-semibold text-gray-700 mb-2",children:["Transportation Method ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("select",{id:"transportation",name:"transportation",value:u.transportation,onChange:x,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#2563EB] focus:border-transparent transition-all","aria-label":"Select transportation method",children:Au.map(q=>l.jsx("option",{value:q,children:q},q))})]}),l.jsxs("div",{children:[l.jsxs("label",{htmlFor:"cost",className:"block text-sm font-semibold text-gray-700 mb-2",children:["Shipping Cost ($) ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{id:"cost",type:"number",name:"cost",placeholder:"0.00",step:"0.01",value:u.cost,onChange:x,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#2563EB] focus:border-transparent transition-all","aria-label":"Enter shipment cost"})]}),l.jsxs("div",{children:[l.jsxs("label",{htmlFor:"countdownDuration",className:"block text-sm font-semibold text-gray-700 mb-2",children:[" Est. Time to Arrival (Hours) ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{id:"countdownDuration",type:"number",name:"countdownDuration",min:"1",max:"720",placeholder:"24",value:u.countdownDuration,onChange:x,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#2563EB] focus:border-transparent transition-all","aria-label":"Enter estimated time to arrival in hours"}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Countdown starts when shipment is created"})]}),l.jsxs("div",{className:"flex items-center gap-3 pt-2",children:[l.jsx("input",{id:"paid",type:"checkbox",name:"paid",checked:u.paid,onChange:x,className:"w-4 h-4 rounded border-gray-300 text-[#2563EB] focus:ring-2 focus:ring-[#2563EB]","aria-label":"Mark shipment as paid"}),l.jsx("label",{htmlFor:"paid",className:"text-sm font-semibold text-gray-700",children:" Payment Received"})]})]})]}),l.jsxs("div",{children:[l.jsxs("h3",{className:"text-lg font-semibold text-[#0F1F3D] mb-4 flex items-center gap-2",children:[l.jsx("span",{className:"text-2xl",children:""})," Shipment Route"]}),l.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-200 rounded-lg p-5 mb-4",children:[l.jsx("p",{className:"text-sm font-semibold text-blue-900 mb-1",children:" Route Milestones"}),l.jsxs("p",{className:"text-xs text-blue-700",children:["Define ",l.jsx("strong",{children:"5 to 12"})," waypoints/locations along the shipment route"]})]}),l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:Array.from({length:12},(q,de)=>de+1).map(q=>l.jsxs("div",{children:[l.jsxs("label",{htmlFor:`checkpoint_${q}`,className:"block text-xs font-semibold text-gray-700 mb-2",children:["Milestone ",q," ",l.jsx("span",{className:q<=5?"text-red-500":"text-gray-400",children:"*"})]}),l.jsx("input",{type:"text",id:`checkpoint_${q}`,name:`checkpoint_${q}`,placeholder:`e.g., ${["Maitama","Lekki","Ikeja","Victoria Island","Surulere","Ajah","Ikoyi","Yaba","Bariga","Mushin","Ejigbo","Shomolu"][q-1]}`,value:u[`checkpoint_${q}`]||"",onChange:x,className:"w-full border border-gray-300 rounded-lg px-4 py-3 text-sm focus:outline-none focus:ring-2 focus:ring-[#2563EB] focus:border-transparent transition-all"})]},`checkpoint_${q}`))})]}),T&&l.jsxs("div",{children:[l.jsxs("h3",{className:"text-lg font-semibold text-[#0F1F3D] mb-4 flex items-center gap-2",children:[l.jsx("span",{className:"text-2xl",children:""})," Vehicle & Driver Information"]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"vehiclesCount",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Number of Vehicles"}),l.jsx("input",{id:"vehiclesCount",type:"number",name:"vehiclesCount",placeholder:"1",value:u.vehiclesCount,onChange:x,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#2563EB] focus:border-transparent transition-all"})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"vehicleType",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Vehicle Type"}),l.jsx("input",{id:"vehicleType",name:"vehicleType",placeholder:"e.g., Truck, Van, Courier Bike",value:u.vehicleType,onChange:x,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#2563EB] focus:border-transparent transition-all"})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"driverName",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Driver Name"}),l.jsx("input",{id:"driverName",name:"driverName",placeholder:"Full name",value:u.driverName,onChange:x,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#2563EB] focus:border-transparent transition-all"})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"driverExperience",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Years of Experience"}),l.jsx("input",{id:"driverExperience",name:"driverExperience",placeholder:"e.g., 5",value:u.driverExperience,onChange:x,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#2563EB] focus:border-transparent transition-all"})]})]})]}),l.jsxs("div",{className:"border-t-2 border-gray-200 pt-8",children:[l.jsxs("h3",{className:"text-lg font-semibold text-[#0F1F3D] mb-4 flex items-center gap-2",children:[l.jsx("span",{className:"text-2xl",children:""})," Product Images"]}),l.jsx("p",{className:"text-sm text-gray-600 mb-4",children:'Add 3-6 product images. Get image URLs by right-clicking online images and selecting "Copy image address"'}),l.jsxs("div",{className:"space-y-3",children:[u.images&&u.images.map((q,de)=>l.jsxs("div",{className:"flex gap-3 items-center",children:[l.jsx("div",{className:"flex-1",children:l.jsx("input",{type:"url",placeholder:`Image URL #${de+1}`,value:q,onChange:ie=>{const se=[...u.images];se[de]=ie.target.value,d(ge=>({...ge,images:se}))},className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#2563EB] focus:border-transparent transition-all",required:de<3})}),u.images.length>3&&l.jsx(I.button,{whileHover:{scale:1.1},whileTap:{scale:.9},type:"button",className:"px-3 py-3 text-red-500 hover:text-red-700 hover:bg-red-50 rounded-lg font-bold transition-all",onClick:()=>{d(ie=>({...ie,images:ie.images.filter((se,ge)=>ge!==de)}))},"aria-label":"Remove image URL",children:""})]},de)),u.images&&u.images.length<6&&l.jsx(I.button,{whileHover:{scale:1.02},whileTap:{scale:.98},type:"button",className:"w-full mt-3 px-4 py-3 bg-gradient-to-r from-blue-50 to-indigo-50 text-[#2563EB] font-semibold rounded-lg hover:from-blue-100 hover:to-indigo-100 border-2 border-dashed border-[#2563EB]/50 transition-all",onClick:()=>d(q=>({...q,images:[...q.images,""]})),children:"+ Add another image URL (max 6 total)"}),y&&y.includes("image")&&l.jsx("p",{className:"mt-2 text-sm text-red-600 font-semibold",children:y})]})]})]}),l.jsxs("div",{className:"mt-8 flex justify-end gap-4 px-8 pb-8",children:[l.jsx(I.button,{whileHover:{scale:1.02},whileTap:{scale:.98},type:"button",onClick:()=>i("/admin"),className:"px-8 py-4 bg-gray-200 hover:bg-gray-300 text-gray-800 font-semibold rounded-lg transition-all duration-200",children:"Cancel"}),l.jsx(I.button,{whileHover:{scale:1.02},whileTap:{scale:.98},type:"submit",disabled:g,onClick:k,className:`px-8 py-4 font-semibold rounded-lg transition-all duration-200 ${g?"bg-gray-400 cursor-not-allowed":"bg-gradient-to-r from-[#2563EB] to-[#38BDF8] text-white hover:shadow-lg hover:shadow-blue-500/50"}`,children:g?" Processing...":o?" Save Changes":" Create Shipment"})]})]})]})]})})}function uS(){var S;const{id:t}=nd(),e=At(),{shipment:r,loading:n}=Gf(t||""),[s,i]=w.useState(!1),[a,o]=w.useState(""),[c,u]=w.useState(!1),[d,h]=w.useState(!0),[f,m]=w.useState(!1),[p,y]=w.useState(Date.now());if(w.useEffect(()=>{const T=setInterval(()=>y(Date.now()),1e3);return()=>clearInterval(T)},[]),w.useEffect(()=>{if(r){h(!0),m(!1);const T=setTimeout(()=>{h(!1),m(!0)},6e3);return()=>clearTimeout(T)}},[r==null?void 0:r.id]),n)return l.jsx("div",{className:"p-12 text-center",children:l.jsx("p",{className:"text-gray-600",children:"Loading shipment..."})});if(!r)return l.jsxs("div",{className:"p-12 text-center",children:[l.jsx("p",{className:"text-gray-600",children:"Shipment not found."}),l.jsx("button",{onClick:()=>e("/admin"),className:"mt-4 text-blue-600 hover:underline",children:"Back to dashboard"})]});const b=async T=>{u(!0);try{await Mt(r.id,{current_checkpoint_index:T})}catch(_){console.error("Error updating checkpoint:",_)}finally{u(!1)}},g=async()=>{u(!0);try{if(!r.paused)await Mt(r.id,{paused:!0,pause_timestamp:new Date().toISOString()});else if(r.pause_timestamp&&r.countdown_start_time){const T=new Date(r.pause_timestamp).getTime(),_=new Date(r.countdown_start_time).getTime(),E=Date.now()-T,D=new Date(_+E).toISOString();await Mt(r.id,{paused:!1,countdown_start_time:D,pause_timestamp:void 0})}else await Mt(r.id,{paused:!1,pause_timestamp:void 0})}catch(T){console.error("Error toggling pause:",T)}finally{u(!1)}},v=()=>{i(!0)},x=async()=>{if(a.trim()){u(!0);try{await Mt(r.id,{stopped:!0,stop_reason:a.trim(),status:"stopped"}),i(!1),o("")}catch(T){console.error("Error stopping shipment:",T)}finally{u(!1)}}},k=async()=>{u(!0);try{await Mt(r.id,{stopped:!1,stop_reason:void 0,paused:!1,status:"in_transit"})}catch(T){console.error("Error resuming shipment:",T)}finally{u(!1)}};return l.jsxs("div",{className:"max-w-4xl mx-auto py-12",children:[l.jsx("button",{onClick:()=>e("/admin"),className:"text-sm text-blue-600 hover:underline mb-4",children:" Back to dashboard"}),l.jsx("h1",{className:"text-2xl font-bold mb-6",children:r.package_name||"Shipment Details"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsxs("p",{children:[l.jsx("strong",{children:"Sender:"})," ",r.sender_name," (",r.sender_phone,")"]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Receiver:"})," ",r.receiver_name," (",r.receiver_phone,")"]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Receiver Email:"})," ",r.receiver_email]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Delivery Address:"})," ",r.delivery_address]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Warehouse:"})," ",r.warehouse]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Transportation:"})," ",r.transportation]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Cost:"})," $",((S=r.cost)==null?void 0:S.toFixed(2))||"0.00"," ",r.paid&&"(paid)"]}),r.countdown_duration&&r.countdown_start_time&&l.jsxs("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-300 rounded-lg",children:[l.jsxs("p",{className:"text-sm font-semibold text-blue-900",children:[" Estimated Time to Arrival: ",Math.floor(r.countdown_duration/3600)," hours"]}),l.jsxs("p",{className:"text-xs text-blue-700 mt-1",children:["Countdown started: ",new Date(r.countdown_start_time).toLocaleString()]}),l.jsx("div",{className:"mt-2 relative w-full h-3 bg-gray-200 rounded",children:l.jsx("div",{className:"absolute top-0 left-0 h-full bg-green-500",style:{width:`${Wf(r.countdown_start_time,new Date(new Date(r.countdown_start_time).getTime()+(r.countdown_duration||0)*1e3).toISOString())}%`}})})]})]}),l.jsxs("div",{children:[(r==null?void 0:r.images)&&r.images.length>0&&l.jsx(I.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-lg shadow-md border border-gray-200 mb-4 p-4",children:l.jsxs("div",{className:"space-y-3",children:[l.jsx("h3",{className:"text-lg font-bold text-[#0F1F3D] flex items-center gap-2",children:" Product Images"}),l.jsx("div",{className:"relative px-2",children:l.jsxs(Bf,{className:"w-full",children:[l.jsx($f,{children:r.images.map((T,_)=>{var j;return l.jsx(Vf,{className:"basis-full sm:basis-1/2 lg:basis-1/3",children:l.jsxs(I.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:_*.05},className:"group relative rounded-lg overflow-hidden shadow-md hover:shadow-xl transition-all duration-300 cursor-pointer h-40 sm:h-48",children:[l.jsx("img",{src:T,alt:`Product ${_+1}`,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-300"}),l.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/20 transition-all duration-300 flex items-center justify-center",children:l.jsxs("span",{className:"text-white text-xs font-medium bg-black/50 px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity",children:[_+1," / ",(j=r.images)==null?void 0:j.length]})})]})},_)})}),r.images.length>1&&l.jsxs(l.Fragment,{children:[l.jsx(Uf,{className:"bg-white text-[#2563EB] hover:bg-gray-100"}),l.jsx(zf,{className:"bg-white text-[#2563EB] hover:bg-gray-100"})]})]})})]})}),l.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-md border border-gray-200 mb-4 relative overflow-hidden aspect-video flex items-center justify-center",children:[l.jsx("img",{src:"https://lh3.googleusercontent.com/L_8R6GVq0cG0LYJCA-9QgRXmftttFrigL6iBV35Ca37UEBioMCoRguAaB-UPFFXNl_RllSrnuSqgsAgEZ1QCvubkoKgP8Lfqjc4QpOs=w450",alt:"Default map",className:"absolute inset-0 w-full h-full object-cover blur-sm"}),l.jsx("div",{className:"absolute inset-0 flex items-center justify-center z-10",children:l.jsxs("div",{className:"text-center",children:[l.jsx(br,{className:"w-10 h-10 text-[#2563EB] mx-auto mb-2"}),l.jsxs("p",{className:"text-sm font-semibold text-[#0F1F3D] bg-white/80 px-3 py-2 rounded-lg backdrop-blur-sm",children:["Current: ",(r==null?void 0:r.delivery_address)||"Loading..."]})]})}),(r==null?void 0:r.route_screenshot_url)&&l.jsx("img",{src:r.route_screenshot_url,alt:"Route map",className:"absolute inset-0 w-full h-full object-cover z-20",onLoad:()=>{h(!1),m(!1)}}),d&&!(r!=null&&r.route_screenshot_url)&&l.jsx("div",{className:"absolute inset-0 flex items-center justify-center z-30 bg-black/20 backdrop-blur-sm",children:l.jsxs("div",{className:"flex flex-col items-center gap-3",children:[l.jsx("div",{className:"w-10 h-10 border-3 border-[#2563EB]/30 border-t-[#2563EB] rounded-full animate-spin"}),l.jsx("p",{className:"text-white font-medium text-sm",children:"Loading map..."})]})}),f&&!(r!=null&&r.route_screenshot_url)&&l.jsx("div",{className:"absolute inset-0 flex items-center justify-center z-30 bg-black/40 backdrop-blur-sm",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"w-12 h-12 rounded-full bg-red-500/20 flex items-center justify-center mx-auto mb-2",children:l.jsx("span",{className:"text-xl",children:""})}),l.jsx("p",{className:"text-white font-semibold mb-1",children:"Error loading live route"}),l.jsx("p",{className:"text-white/80 text-xs",children:"Please try again"})]})})]}),r.images&&r.images.length>0&&l.jsx("div",{className:"mt-4 grid grid-cols-2 gap-2",children:r.images.map((T,_)=>l.jsx("img",{src:T,alt:`Package ${_+1}`,className:"w-full h-auto rounded"},_))}),r.vehicles_count!==void 0&&l.jsxs("p",{children:[l.jsx("strong",{children:"Vehicles:"})," ",r.vehicles_count," ",r.vehicle_type]}),r.driver_name&&l.jsx("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg",children:l.jsxs("div",{className:"flex items-center gap-4",children:[r.driver_image_url&&l.jsx("img",{src:r.driver_image_url,alt:"Driver",className:"w-16 h-16 object-cover rounded-full shadow-md flex-shrink-0"}),l.jsxs("div",{children:[l.jsx("p",{className:"font-semibold text-[#0F1F3D]",children:r.driver_name}),l.jsx(Hf,{experience:r.driver_experience})]})]})})]})]}),r.checkpoints&&r.checkpoints.length>0&&l.jsx("div",{className:"mt-8",children:l.jsx("div",{className:"flex h-4 overflow-hidden rounded-lg bg-gray-200",children:r.checkpoints.map((T,_)=>l.jsx("div",{className:`flex-1 cursor-pointer hover:bg-blue-300 transition-colors ${_<=(r.current_checkpoint_index||0)?"bg-blue-500":"bg-gray-300"}`,onClick:()=>b(_),role:"button",tabIndex:0,title:T.location},T.id))})}),l.jsxs("div",{className:"mt-6 flex flex-wrap gap-4",children:[!r.stopped&&l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:g,disabled:c,className:"px-4 py-2 bg-yellow-500 text-white rounded-md disabled:opacity-50",children:r.paused?"Play":"Pause"}),l.jsx("button",{onClick:v,disabled:r.stopped||c,className:"px-4 py-2 bg-red-600 text-white rounded-md disabled:opacity-50",children:"Stop"})]}),r.stopped&&l.jsx("button",{onClick:k,disabled:c,className:"px-4 py-2 bg-green-600 text-white rounded-md disabled:opacity-50",children:"Resume"})]}),r.stopped&&l.jsxs("p",{className:"mt-4 text-red-600",children:["Stopped: ",r.stop_reason]}),s&&l.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 bg-black bg-opacity-40",children:l.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 w-full max-w-md",children:[l.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Stop Shipment"}),l.jsx("label",{className:"block mb-2 text-sm font-medium",children:"Reason for stopping:"}),l.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded p-2 mb-4",value:a,onChange:T=>o(T.target.value),placeholder:"Enter reason...",autoFocus:!0}),l.jsxs("div",{className:"flex justify-end gap-2",children:[l.jsx("button",{onClick:()=>i(!1),className:"px-4 py-2 bg-gray-200 rounded",children:"Cancel"}),l.jsx("button",{onClick:x,className:"px-4 py-2 bg-red-600 text-white rounded disabled:opacity-50",disabled:!a.trim()||c,children:"Stop"})]})]})})]})}const dS=vg([{path:"/",Component:jk,children:[{index:!0,Component:gu},{path:"track",Component:eS},{path:"about",Component:rS},{path:"locations",Component:nS},{path:"solutions",Component:sS},{path:"signin",Component:iS},{path:"signup",Component:aS},{path:"admin",Component:lS,children:[{index:!0,Component:cS},{path:"new",Component:Pu},{path:"edit/:id",Component:Pu},{path:"view/:id",Component:uS}]},{path:"*",Component:gu}]}],{basename:"/Globalgo/"});function hS(){return l.jsx(Wp,{router:dS})}const fS=rm.createRoot(document.getElementById("root"));fS.render(l.jsx(hS,{}));"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").then(t=>{console.log("ServiceWorker registration successful with scope: ",t.scope)}).catch(t=>{console.warn("ServiceWorker registration failed: ",t)})});
//# sourceMappingURL=index-xmhR-h4N.js.map
